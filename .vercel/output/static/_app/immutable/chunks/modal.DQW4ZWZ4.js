const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.DgvMhtcn.js","./showdown.BMipqX3H.js","./core.CxuZXbSA.js","./element-adapter.CmHsh92p.js","./defineProperty.DeQIHtNo.js","./closest-edge.DKVUyjvI.js","./prettier-svelte.BRN-pqcK.js","./runtime.B-tQERhy.js","./store.hrIEzNxT.js","./disclose-version.DwtFBC9D.js","./index-client.BfaqMVnR.js"])))=>i.map(i=>d[i]);
var KC=Object.defineProperty;var T0=t=>{throw TypeError(t)};var JC=(t,e,n)=>e in t?KC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A0=(t,e,n)=>JC(t,typeof e!="symbol"?e+"":e,n),yd=(t,e,n)=>e.has(t)||T0("Cannot "+n);var wr=(t,e,n)=>(yd(t,e,"read from private field"),n?n.call(t):e.get(t)),Ga=(t,e,n)=>e.has(t)?T0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_d=(t,e,n,i)=>(yd(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),C0=(t,e,n)=>(yd(t,e,"access private method"),n);import{c as be,a as T,t as E,b as eR}from"./disclose-version.DwtFBC9D.js";import{i as Lo,a2 as gx,aR as tR,b as nR,a_ as iR,aC as wd,e as rc,aa as rR,j as sR,k as R0,H as E0,w as q0,aq as M0,a$ as Z0,a0 as xd,a1 as Sd,af as oR,M as aR,a8 as qi,u as lR,$ as uR,p as Se,f as he,t as de,a as $e,c as Q,s as B,r as $,g,S as ce,q as V,d as le,K as at,aS as On,J as _u,n as ds,al as zt,am as wu,an as vn,Q as mt,A as ps,aV as Ym,T as uh,az as mx,b0 as cR,aT as kl}from"./runtime.B-tQERhy.js";import{d as st,a as Re,e as Ve,s as Je,b as me,f as Mn,r as sg,o as Ox}from"./store.hrIEzNxT.js";import{a as fR,i as J,p as se}from"./if.DYHPrnE1.js";import{j as hR,s as Ge,g as uf,e as Rt,i as Nt,r as Tr,k as vx,c as aa,t as ln,f as In,m as dR,n as og,d as Bl,a as bx,b as cf}from"./index.CapXeD3F.js";import{p as F,r as yx,l as la,s as gs}from"./props.Pqwi89p5.js";import{w as Ce,e as Wo,g as pe,d as Nm}from"./entry.Cv1PstCO.js";import{I as ge,a as sn,h as eo,g as D0,b as pR,c as gR,k as mR}from"./Icon.CwQkWwrI.js";import{_ as Qt,c as Be,b as un}from"./preload-helper.Cgn74BMC.js";import{i as Qa}from"./lifecycle.B6hsrwH2.js";import{c as At,a as Ui,o as xu}from"./index-client.BfaqMVnR.js";import{p as Fm}from"./stores.Djv4k36v.js";import{s as $r}from"./snippet.DGJzwTXS.js";const $d=0,sc=1,kd=2;function OR(t,e,n,i,r){Lo&&gx();var s=t,o=tR(),a=aR,l,c,u,f,h=(o?R0:E0)(void 0),d=(o?R0:E0)(void 0),p=!1;function m(v,b){p=!0,b&&(q0(O),M0(O),Z0(a)),v===$d&&n&&(c?xd(c):c=rc(()=>n(s))),v===sc&&i&&(u?xd(u):u=rc(()=>i(s,h))),v===kd&&r&&(f?xd(f):f=rc(()=>r(s,d))),v!==$d&&c&&Sd(c,()=>c=null),v!==sc&&u&&Sd(u,()=>u=null),v!==kd&&f&&Sd(f,()=>f=null),b&&(Z0(null),M0(null),q0(null),oR())}var O=nR(()=>{if(l!==(l=e())){if(iR(l)){var v=l;p=!1,v.then(b=>{v===l&&(wd(h,b),m(sc,!0))},b=>{if(v===l)throw wd(d,b),m(kd,!0),d.v}),Lo?n&&(c=rc(()=>n(s))):rR(()=>{p||m($d,!0)})}else wd(h,l),m(sc,!1);return()=>l=null}});Lo&&(s=sR)}function to(t,e,n,i,r){var a;Lo&&gx();var s=(a=e.$$slots)==null?void 0:a[n],o=!1;s===!0&&(s=e[n==="default"?"children":n],o=!0),s===void 0?r!==null&&r(t):s(t,o?()=>i:i)}function Ti(t,e){var n=t.__className,i=vR(e);Lo&&t.className===i?t.__className=i:(n!==i||Lo&&t.className!==i)&&(e==null?t.removeAttribute("class"):t.className=i,t.__className=i)}function vR(t){return t??""}function Ae(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function gn(t,e,n,i){var r=t.__styles??(t.__styles={});r[e]!==n&&(r[e]=n,n==null?t.style.removeProperty(e):t.style.setProperty(e,n,""))}function _x(t,e,n){if(t.multiple)return _R(t,e);for(var i of t.options){var r=Pl(i);if(fR(r,e)){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function bR(t,e){qi(()=>{var n=new MutationObserver(()=>{var i=t.__value;_x(t,i)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function yR(t,e,n=e){var i=!0;hR(t,"change",()=>{var r;if(t.multiple)r=[].map.call(t.querySelectorAll(":checked"),Pl);else{var s=t.querySelector(":checked");r=s&&Pl(s)}n(r)}),qi(()=>{var r=e();if(_x(t,r,i),i&&r===void 0){var s=t.querySelector(":checked");s!==null&&(r=Pl(s),n(r))}t.__value=r,i=!1}),bR(t)}function _R(t,e){for(var n of t.options)n.selected=~e.indexOf(Pl(n))}function Pl(t){return"__value"in t?t.__value:t.value}var as,oa,yu,ah,wx;const lh=class lh{constructor(e){Ga(this,ah);Ga(this,as,new WeakMap);Ga(this,oa);Ga(this,yu);_d(this,yu,e)}observe(e,n){var i=wr(this,as).get(e)||new Set;return i.add(n),wr(this,as).set(e,i),C0(this,ah,wx).call(this).observe(e,wr(this,yu)),()=>{var r=wr(this,as).get(e);r.delete(n),r.size===0&&(wr(this,as).delete(e),wr(this,oa).unobserve(e))}}};as=new WeakMap,oa=new WeakMap,yu=new WeakMap,ah=new WeakSet,wx=function(){return wr(this,oa)??_d(this,oa,new ResizeObserver(e=>{for(var n of e){lh.entries.set(n.target,n);for(var i of wr(this,as).get(n.target)||[])i(n)}}))},A0(lh,"entries",new WeakMap);let ag=lh;var wR=new ag({box:"border-box"});function Gm(t,e,n){var i=wR.observe(t,()=>n(t[e]));qi(()=>(lR(()=>n(t[e])),i))}function Le(t,e){var s;var n=(s=t.$$events)==null?void 0:s[e.type],i=uR(n)?n.slice():n==null?[]:[n];for(var r of i)r.call(this,e)}const xx="https://dpswhikbfecgvvlboaxw.supabase.co",Sx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwc3doaWtiZmVjZ3Z2bGJvYXh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkzOTAxNjEsImV4cCI6MjA0NDk2NjE2MX0.1iXAlv_9eIqRuFHb8W-IfRyx3qgo_sk0jLHbWKVysQw",The="pk_test_NPkZ5QgYf2L5vsiG8Dex67Yl00QqhkHrZf",xR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qt(async()=>{const{default:i}=await Promise.resolve().then(()=>Ta);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Hm extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class SR extends Hm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $R extends Hm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kR extends Hm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(lg||(lg={}));var PR=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class QR{constructor(e,{headers:n={},customFetch:i,region:r=lg.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=xR(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return PR(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(p=>{throw new SR(p)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new $R(u);if(!u.ok)throw new kR(u);let h=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield u.json():h==="application/octet-stream"?d=yield u.blob():h==="text/event-stream"?d=u:h==="multipart/form-data"?d=yield u.formData():d=yield u.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var hi={},Km={},ch={},Su={},fh={},hh={},AR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ua=AR();const CR=ua.fetch,kx=ua.fetch.bind(ua),Px=ua.Headers,RR=ua.Request,ER=ua.Response,Ta=Object.freeze(Object.defineProperty({__proto__:null,Headers:Px,Request:RR,Response:ER,default:kx,fetch:CR},Symbol.toStringTag,{value:"Module"})),qR=TR(Ta);var Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});class MR extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Jm.default=MR;var Qx=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hh,"__esModule",{value:!0});const ZR=Qx(qR),DR=Qx(Jm);let jR=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ZR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,f=null,h=s.status,d=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&O&&O.length>1&&(f=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,d="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,d="OK")}catch{s.status===404&&m===""?(h=204,d="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,d="OK"),c&&this.shouldThrowOnError)throw new DR.default(c)}return{error:c,data:u,count:f,status:h,statusText:d}});return this.shouldThrowOnError||(r=r.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}};hh.default=jR;var WR=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fh,"__esModule",{value:!0});const BR=WR(hh);let IR=class extends BR.default{select(e){let n=!1;const i=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:i,referencedTable:r=i}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,i?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fh.default=IR;var XR=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Su,"__esModule",{value:!0});const UR=XR(fh);let VR=class extends UR.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const i=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:i,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(e,n,i){return this.url.searchParams.append(e,`not.${n}.${i}`),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,i){return this.url.searchParams.append(e,`${n}.${i}`),this}};Su.default=VR;var LR=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ch,"__esModule",{value:!0});const Ha=LR(Su);let zR=class{constructor(e,{headers:n={},schema:i,fetch:r}){this.url=e,this.headers=n,this.schema=i,this.fetch=r}select(e,{head:n=!1,count:i}={}){const r=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Ha.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const r="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ha.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:r,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ha.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new Ha.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Ha.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ch.default=zR;var dh={},ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.version=void 0;ph.version="0.0.0-automated";Object.defineProperty(dh,"__esModule",{value:!0});dh.DEFAULT_HEADERS=void 0;const YR=ph;dh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YR.version}`};var Tx=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Km,"__esModule",{value:!0});const NR=Tx(ch),FR=Tx(Su),GR=dh;let HR=class Ax{constructor(e,{headers:n={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},GR.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new NR.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ax(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:r=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;i||r?(o=i?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new FR.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Km.default=HR;var $u=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hi,"__esModule",{value:!0});hi.PostgrestBuilder=hi.PostgrestTransformBuilder=hi.PostgrestFilterBuilder=hi.PostgrestQueryBuilder=hi.PostgrestClient=void 0;const Cx=$u(Km);hi.PostgrestClient=Cx.default;const Rx=$u(ch);hi.PostgrestQueryBuilder=Rx.default;const Ex=$u(Su);hi.PostgrestFilterBuilder=Ex.default;const qx=$u(fh);hi.PostgrestTransformBuilder=qx.default;const Mx=$u(hh);hi.PostgrestBuilder=Mx.default;var KR=hi.default={PostgrestClient:Cx.default,PostgrestQueryBuilder:Rx.default,PostgrestFilterBuilder:Ex.default,PostgrestTransformBuilder:qx.default,PostgrestBuilder:Mx.default};const{PostgrestClient:JR,PostgrestQueryBuilder:qhe,PostgrestFilterBuilder:Mhe,PostgrestTransformBuilder:Zhe,PostgrestBuilder:Dhe}=KR,e2="2.10.2",t2={"X-Client-Info":`realtime-js/${e2}`},n2="1.0.0",Zx=1e4,i2=1e3;var zo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zo||(zo={}));var Jn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jn||(Jn={}));var Mi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mi||(Mi={}));var ug;(function(t){t.websocket="websocket"})(ug||(ug={}));var zs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zs||(zs={}));class r2{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+r));o=o+r;const l=i.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Dx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yt||(yt={}));const j0=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=s2(o,t,e,r),s),{})},s2=(t,e,n,i)=>{const r=e.find(a=>a.name===t),s=r==null?void 0:r.type,o=n[t];return s&&!i.includes(s)?jx(s,o):cg(o)},jx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return u2(e,n)}switch(t){case yt.bool:return o2(e);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return a2(e);case yt.json:case yt.jsonb:return l2(e);case yt.timestamp:return c2(e);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return cg(e);default:return cg(e)}},cg=t=>t,o2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},l2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},u2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>jx(e,a))}return t},c2=t=>typeof t=="string"?t.replace(" ","T"):t,Wx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Pd{constructor(e,n,i={},r=Zx){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var W0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(W0||(W0={}));class Ql{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ql.syncState(this.state,r,s,o),this.pendingDiffs.forEach(l=>{this.state=Ql.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ql.syncDiff(this.state,r,s,o),a())}),this.onJoin((r,s,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:o})}),this.onLeave((r,s,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=s[c];if(f){const h=u.map(O=>O.presence_ref),d=f.map(O=>O.presence_ref),p=u.filter(O=>d.indexOf(O.presence_ref)<0),m=f.filter(O=>h.indexOf(O.presence_ref)<0);p.length>0&&(a[c]=p),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(d=>d.presence_ref),h=u.filter(d=>f.indexOf(d.presence_ref)<0);e[a].unshift(...h)}i(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(B0||(B0={}));var I0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(I0||(I0={}));var X0;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(X0||(X0={}));class eO{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pd(this,Mi.join,this.params,this.timeout),this.rejoinTimer=new Dx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mi.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new Ql(this),this.broadcastEndpointURL=Wx(this.socket.endPoint)+"/api/broadcast"}subscribe(e,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let m=0;m<d;m++){const O=h[m],{filter:{event:v,schema:b,table:S,filter:y}}=O,w=u&&u[m];if(w&&w.event===v&&w.schema===b&&w.table===S&&w.filter===y)p.push(Object.assign(Object.assign({},O),{id:w.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=l.body)===null||r===void 0?void 0:r.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const r=new Pd(this,Mi.leave,{},e);r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),o}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Pd(this,e,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Mi;if(i&&[a,l,c,u].indexOf(o)>=0&&i!==this._joinRef())return;let h=this._onMessage(o,n,i);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(d=>{var p,m,O;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((O=(m=d.filter)===null||m===void 0?void 0:m.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(d=>d.callback(h,i)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var p,m,O,v,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const y=d.id,w=(p=d.filter)===null||p===void 0?void 0:p.event;return y&&((m=n.ids)===null||m===void 0?void 0:m.includes(y))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const y=(b=(v=d==null?void 0:d.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return y==="*"||y===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:O,commit_timestamp:v,type:b,errors:S}=p;h=Object.assign(Object.assign({},{schema:m,table:O,commit_timestamp:v,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(p))}d.callback(h,i)})}_isClosed(){return this.state===Jn.closed}_isJoined(){return this.state===Jn.joined}_isJoining(){return this.state===Jn.joining}_isLeaving(){return this.state===Jn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&eO.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mi.close,{},e)}_onError(e){this._on(Mi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=j0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=j0(e.columns,e.old_record)),n}}const f2=()=>{},h2=typeof WebSocket<"u";class d2{constructor(e,n){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=t2,this.params={},this.timeout=Zx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=f2,this.conn=null,this.sendBuffer=[],this.serializer=new r2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Qt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ta);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ug.websocket}`,this.httpEndpoint=Wx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(h2){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new p2(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Qt(async()=>{const{default:e}=await import("./browser.Ru_mbIqG.js").then(n=>n.b);return{default:e}},[],import.meta.url).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return zs.Connecting;case zo.open:return zs.Open;case zo.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}channel(e,n={config:{}}){const i=new eO(`realtime:${e}`,n,this);return this.channels.push(i),i}push(e){const{topic:n,event:i,payload:r,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(Mi.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n2}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:r,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||r===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${r} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(r,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(i2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class p2{constructor(e,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zo.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class tO extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class g2 extends tO{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class U0 extends tO{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var m2=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qt(async()=>{const{default:i}=await Promise.resolve().then(()=>Ta);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},O2=()=>m2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qt(()=>Promise.resolve().then(()=>Ta),void 0,import.meta.url)).Response:Response});var Aa=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const Qd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v2=(t,e)=>Aa(void 0,void 0,void 0,function*(){const n=yield O2();t instanceof n?t.json().then(i=>{e(new g2(Qd(i),t.status||500))}).catch(i=>{e(new U0(Qd(i),i))}):e(new U0(Qd(t),t))}),b2=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};function gh(t,e,n,i,r,s){return Aa(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,b2(e,i,r,s)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>v2(l,a))})})}function fg(t,e,n,i){return Aa(this,void 0,void 0,function*(){return gh(t,"GET",e,n,i)})}function ts(t,e,n,i,r){return Aa(this,void 0,void 0,function*(){return gh(t,"POST",e,i,r,n)})}function y2(t,e,n,i,r){return Aa(this,void 0,void 0,function*(){return gh(t,"PUT",e,i,r,n)})}function Ix(t,e,n,i,r){return Aa(this,void 0,void 0,function*(){return gh(t,"DELETE",e,i,r,n)})}var fi=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const _2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w2{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Bx(r)}uploadOrUpdate(e,n,i,r){return fi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},V0),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl)):(s=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(n),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield u.json();return u.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(dn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return fi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return fi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:V0.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(dn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return fi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const s=yield ts(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new tO("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}update(e,n,i){return fi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return fi(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}copy(e,n,i){return fi(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return fi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield ts(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return fi(this,void 0,void 0,function*(){try{const r=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}download(e,n){return fi(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield fg(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(dn(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return fi(this,void 0,void 0,function*(){try{return{data:yield Ix(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}list(e,n,i){return fi(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},_2),n),{prefix:e||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(dn(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const x2="2.6.0",S2={"X-Client-Info":`storage-js/${x2}`};var Po=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class $2{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},S2),n),this.fetch=Bx(i)}listBuckets(){return Po(this,void 0,void 0,function*(){try{return{data:yield fg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(dn(e))return{data:null,error:e};throw e}})}getBucket(e){return Po(this,void 0,void 0,function*(){try{return{data:yield fg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Po(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Po(this,void 0,void 0,function*(){try{return{data:yield y2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(dn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Po(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Po(this,void 0,void 0,function*(){try{return{data:yield Ix(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(dn(n))return{data:null,error:n};throw n}})}}class k2 extends $2{constructor(e,n={},i){super(e,n,i)}from(e){return new w2(this.url,this.headers,e,this.fetch)}}const P2="2.45.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const Q2={"X-Client-Info":`supabase-js-${pl}/${P2}`},T2={headers:Q2},A2={schema:"public"},C2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R2={};var E2=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const q2=t=>{let e;return t?e=t:typeof fetch>"u"?e=kx:e=fetch,(...n)=>e(...n)},M2=()=>typeof Headers>"u"?Px:Headers,Z2=(t,e,n)=>{const i=q2(n),r=M2();return(s,o)=>E2(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(s,Object.assign(Object.assign({},o),{headers:c}))})};var D2=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};function j2(t){return t.replace(/\/$/,"")}function W2(t,e){const{db:n,auth:i,realtime:r,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),s),accessToken:()=>D2(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Xx="2.64.4",B2="http://localhost:9999",I2="supabase.auth.token",X2={"X-Client-Info":`gotrue-js/${Xx}`},L0=10,hg="X-Supabase-Api-Version",Ux={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function U2(t){return Math.round(Date.now()/1e3)+t}function V2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ei=()=>typeof document<"u",Ws={tested:!1,writable:!1},Tl=()=>{if(!Ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ws.tested)return Ws.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ws.tested=!0,Ws.writable=!0}catch{Ws.tested=!0,Ws.writable=!1}return Ws.writable};function Td(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const Vx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qt(async()=>{const{default:i}=await Promise.resolve().then(()=>Ta);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},L2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Lx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},oc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ad=async(t,e)=>{await t.removeItem(e)};function z2(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",i,r,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),i=o<<2|a>>4,r=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(i),l!=64&&r!=0&&(n=n+String.fromCharCode(r)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class mh{constructor(){this.promise=new mh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}mh.promiseConstructor=Promise;function z0(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=n[1];return JSON.parse(z2(i))}async function Y2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function N2(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){r(o);return}}})()})}function F2(t){return("0"+t.toString(16)).substr(-2)}function G2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,F2).join("")}async function H2(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}function K2(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function J2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await H2(t);return K2(n)}async function Qo(t,e,n=!1){const i=G2();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await Lx(t,`${e}-code-verifier`,r);const s=await J2(i);return[s,i===s?"plain":"s256"]}const e3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t3(t){const e=t.headers.get(hg);if(!e||!e.match(e3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class nO extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function He(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class n3 extends nO{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function i3(t){return He(t)&&t.name==="AuthApiError"}class zx extends nO{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vo extends nO{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class Bs extends vo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Cd extends vo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ac extends vo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lc extends vo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y0 extends vo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dg extends vo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Rd(t){return He(t)&&t.name==="AuthRetryableFetchError"}class N0 extends vo{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}var r3=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Us=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),s3=[502,503,504];async function F0(t){var e;if(!L2(t))throw new dg(Us(t),0);if(s3.includes(t.status))throw new dg(Us(t),t.status);let n;try{n=await t.json()}catch(s){throw new zx(Us(s),s)}let i;const r=t3(t);if(r&&r.getTime()>=Ux["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new N0(Us(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new N0(Us(n),t.status,n.weak_password.reasons);throw new n3(Us(n),t.status||500,i)}const o3=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function et(t,e,n,i){var r;const s=Object.assign({},i==null?void 0:i.headers);s[hg]||(s[hg]=Ux["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await a3(t,e,n+a,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function a3(t,e,n,i,r,s){const o=o3(e,i,r,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new dg(Us(l),0)}if(a.ok||await F0(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await F0(l)}}function es(t){var e;let n=null;f3(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=U2(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function G0(t){const e=es(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function l3(t){return{data:t,error:null}}function u3(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,o=r3(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function c3(t){return t}function f3(t){return t.access_token&&t.refresh_token&&t.expires_in}var h3=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class d3{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Vx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(He(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rs})}catch(i){if(He(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=h3(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:u3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(He(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:c3});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(p.split(";")[1].split("=")[1]);c[`${O}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(He(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:rs})}catch(i){if(He(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:rs})}catch(i){if(He(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:n,error:i}=await et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}const p3={getItem:t=>Tl()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Tl()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Tl()&&globalThis.localStorage.removeItem(t)}};function H0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function g3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const To={debug:!!(globalThis&&Tl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class m3 extends Yx{}async function O3(t,e,n){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new m3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(To.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}g3();const v3={url:B2,storageKey:I2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ka=30*1e3,K0=3;async function J0(t,e,n){return await n()}class Il{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Il.nextInstanceID,Il.nextInstanceID+=1,this.instanceID>0&&Ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},v3),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new d3({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Vx(r.fetch),this.lock=r.lock||J0,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ei()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=O3:this.lock=J0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Tl()?this.storage=p3:(this.memoryStorage={},this.storage=H0(this.memoryStorage)):(this.memoryStorage={},this.storage=H0(this.memoryStorage)),Ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Ei()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:i}=await this._getSessionFromURL(e);if(i)return this._debug("#_initialize()","error detecting session from URL",i),(i==null?void 0:i.message)==="Identity is already linked"||(i==null?void 0:i.message)==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});const{session:r,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return He(e)?{error:e}:{error:new zx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:es}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:u,password:f,options:h}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Qo(this.storage,this.storageKey)),s=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:p},xform:es})}else if("phone"in e){const{phone:u,password:f,options:h}=e;s=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:es})}else throw new ac("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:G0})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:G0})}else throw new ac("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Cd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await oc(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/"),{data:s,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:es});return await Ad(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Cd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:o})}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:o}=e,a=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:es}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Cd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Qo(this.storage,this.storageKey));const{error:f}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ac("You must provide either an email or phone number.")}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:es});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Qo(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:l3})}catch(s){if(He(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Bs;const{error:r}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(He(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:o,error:a}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ac("You must provide either an email or phone number and a type")}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await oc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rs}):await this._useSession(async n=>{var i,r,s;const{data:o,error:a}=n;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bs}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:rs})})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new Bs;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Qo(this.storage,this.storageKey));const{data:c,error:u}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:rs});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(He(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return z0(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bs;const n=Date.now()/1e3;let i=n,r=!0,s=null;const o=z0(e.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(He(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Bs;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!Ei())throw new lc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new lc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Y0("Not a valid PKCE flow url.");const n=Td(window.location.href);if(e){if(!n.code)throw new Y0("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(n.code);if(S)throw S;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:b.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new lc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!s||!a||!o||!c)throw new lc("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const d=h-u;d*1e3<=Ka&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const p=h-f;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,h,u);const{data:m,error:O}=await this._getUser(s);if(O)throw O;const v={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Td(window.location.href);return!!(Ei()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Td(window.location.href),n=await oc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(i3(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ad(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const n=V2(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Qo(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(He(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var o,a,l,c,u;const{data:f,error:h}=s;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Ei()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(He(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await N2(async r=>(r>0&&await Y2(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:es})),(r,s)=>{const o=200*Math.pow(2,r);return s&&Rd(s)&&Date.now()+o-i<Ka})}catch(i){if(this._debug(n,"error",i),He(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ei()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await oc(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)<r+L0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${L0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Rd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new mh;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Bs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(r,"error",s),He(s)){const o={session:null,error:s};return Rd(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Lx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ad(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ei()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ka);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Ka);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ka}ms, refresh threshold is ${K0} ticks`),r<=K0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ei()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=await Qo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await et(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(!((r=a==null?void 0:a.totp)===null||r===void 0)&&r.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],r=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Il.nextInstanceID=0;const b3=Il;class y3 extends b3{constructor(e){super(e)}}var _3=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class w3{constructor(e,n,i){var r,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=j2(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:A2,realtime:R2,auth:Object.assign(Object.assign({},C2),{storageKey:l}),global:T2},u=W2(i??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Z2(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new JR(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new QR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new k2(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return _3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:s,flowType:o,debug:a},l,c){var u;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y3({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(e){return new d2(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Nx=(t,e,n)=>new w3(t,e,n);var Fx=typeof global=="object"&&global&&global.Object===Object&&global,x3=typeof self=="object"&&self&&self.Object===Object&&self,Gt=Fx||x3||Function("return this")(),_n=Gt.Symbol,Gx=Object.prototype,S3=Gx.hasOwnProperty,$3=Gx.toString,Ja=_n?_n.toStringTag:void 0;function k3(t){var e=S3.call(t,Ja),n=t[Ja];try{t[Ja]=void 0;var i=!0}catch{}var r=$3.call(t);return i&&(e?t[Ja]=n:delete t[Ja]),r}var P3=Object.prototype,Q3=P3.toString;function T3(t){return Q3.call(t)}var A3="[object Null]",C3="[object Undefined]",eb=_n?_n.toStringTag:void 0;function Cn(t){return t==null?t===void 0?C3:A3:eb&&eb in Object(t)?k3(t):T3(t)}function Zt(t){return t!=null&&typeof t=="object"}var R3="[object Symbol]";function si(t){return typeof t=="symbol"||Zt(t)&&Cn(t)==R3}var E3=NaN;function tb(t){return typeof t=="number"?t:si(t)?E3:+t}function Et(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var Ie=Array.isArray,q3=1/0,nb=_n?_n.prototype:void 0,ib=nb?nb.toString:void 0;function oi(t){if(typeof t=="string")return t;if(Ie(t))return Et(t,oi)+"";if(si(t))return ib?ib.call(t):"";var e=t+"";return e=="0"&&1/t==-q3?"-0":e}function Oh(t,e){return function(n,i){var r;if(n===void 0&&i===void 0)return e;if(n!==void 0&&(r=n),i!==void 0){if(r===void 0)return i;typeof n=="string"||typeof i=="string"?(n=oi(n),i=oi(i)):(n=tb(n),i=tb(i)),r=t(n,i)}return r}}var M3=Oh(function(t,e){return t+e},0),Z3=/\s/;function Hx(t){for(var e=t.length;e--&&Z3.test(t.charAt(e)););return e}var D3=/^\s+/;function Kx(t){return t&&t.slice(0,Hx(t)+1).replace(D3,"")}function qt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var rb=NaN,j3=/^[-+]0x[0-9a-f]+$/i,W3=/^0b[01]+$/i,B3=/^0o[0-7]+$/i,I3=parseInt;function mi(t){if(typeof t=="number")return t;if(si(t))return rb;if(qt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Kx(t);var n=W3.test(t);return n||B3.test(t)?I3(t.slice(2),n?2:8):j3.test(t)?rb:+t}var sb=1/0,X3=17976931348623157e292;function kr(t){if(!t)return t===0?t:0;if(t=mi(t),t===sb||t===-sb){var e=t<0?-1:1;return e*X3}return t===t?t:0}function Xe(t){var e=kr(t),n=e%1;return e===e?n?e-n:e:0}var U3="Expected a function";function V3(t,e){if(typeof e!="function")throw new TypeError(U3);return t=Xe(t),function(){if(--t<1)return e.apply(this,arguments)}}function Rn(t){return t}var L3="[object AsyncFunction]",z3="[object Function]",Y3="[object GeneratorFunction]",N3="[object Proxy]";function Br(t){if(!qt(t))return!1;var e=Cn(t);return e==z3||e==Y3||e==L3||e==N3}var Wc=Gt["__core-js_shared__"],ob=function(){var t=/[^.]+$/.exec(Wc&&Wc.keys&&Wc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function F3(t){return!!ob&&ob in t}var G3=Function.prototype,H3=G3.toString;function bo(t){if(t!=null){try{return H3.call(t)}catch{}try{return t+""}catch{}}return""}var K3=/[\\^$.*+?()[\]{}|]/g,J3=/^\[object .+?Constructor\]$/,eE=Function.prototype,tE=Object.prototype,nE=eE.toString,iE=tE.hasOwnProperty,rE=RegExp("^"+nE.call(iE).replace(K3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jx(t){if(!qt(t)||F3(t))return!1;var e=Br(t)?rE:J3;return e.test(bo(t))}function sE(t,e){return t==null?void 0:t[e]}function yo(t,e){var n=sE(t,e);return Jx(n)?n:void 0}var Xl=yo(Gt,"WeakMap"),ff=Xl&&new Xl,eS=ff?function(t,e){return ff.set(t,e),t}:Rn,ab=Object.create,Ca=function(){function t(){}return function(e){if(!qt(e))return{};if(ab)return ab(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Ul(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ca(t.prototype),i=t.apply(n,e);return qt(i)?i:n}}var oE=1;function aE(t,e,n){var i=e&oE,r=Ul(t);function s(){var o=this&&this!==Gt&&this instanceof s?r:t;return o.apply(i?n:this,arguments)}return s}function ai(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var lE=Math.max;function tS(t,e,n,i){for(var r=-1,s=t.length,o=n.length,a=-1,l=e.length,c=lE(s-o,0),u=Array(l+c),f=!i;++a<l;)u[a]=e[a];for(;++r<o;)(f||r<s)&&(u[n[r]]=t[r]);for(;c--;)u[a++]=t[r++];return u}var uE=Math.max;function nS(t,e,n,i){for(var r=-1,s=t.length,o=-1,a=n.length,l=-1,c=e.length,u=uE(s-a,0),f=Array(u+c),h=!i;++r<u;)f[r]=t[r];for(var d=r;++l<c;)f[d+l]=e[l];for(;++o<a;)(h||r<s)&&(f[d+n[o]]=t[r++]);return f}function cE(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function vh(){}var fE=4294967295;function Ke(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fE,this.__views__=[]}Ke.prototype=Ca(vh.prototype);Ke.prototype.constructor=Ke;function iO(){}var rO=ff?function(t){return ff.get(t)}:iO,Yo={},hE=Object.prototype,dE=hE.hasOwnProperty;function Bc(t){for(var e=t.name+"",n=Yo[e],i=dE.call(Yo,e)?n.length:0;i--;){var r=n[i],s=r.func;if(s==null||s==t)return r.name}return e}function wi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}wi.prototype=Ca(vh.prototype);wi.prototype.constructor=wi;function Xn(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function iS(t){if(t instanceof Ke)return t.clone();var e=new wi(t.__wrapped__,t.__chain__);return e.__actions__=Xn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var pE=Object.prototype,gE=pE.hasOwnProperty;function _(t){if(Zt(t)&&!Ie(t)&&!(t instanceof Ke)){if(t instanceof wi)return t;if(gE.call(t,"__wrapped__"))return iS(t)}return new wi(t)}_.prototype=vh.prototype;_.prototype.constructor=_;function pg(t){var e=Bc(t),n=_[e];if(typeof n!="function"||!(e in Ke.prototype))return!1;if(t===n)return!0;var i=rO(n);return!!i&&t===i[0]}var mE=800,OE=16,vE=Date.now;function rS(t){var e=0,n=0;return function(){var i=vE(),r=OE-(i-n);if(n=i,r>0){if(++e>=mE)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sS=rS(eS),bE=/\{\n\/\* \[wrapped with (.+)\] \*/,yE=/,? & /;function _E(t){var e=t.match(bE);return e?e[1].split(yE):[]}var wE=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function xE(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(wE,`{
/* [wrapped with `+e+`] */
`)}function sO(t){return function(){return t}}var hf=function(){try{var t=yo(Object,"defineProperty");return t({},"",{}),t}catch{}}(),SE=hf?function(t,e){return hf(t,"toString",{configurable:!0,enumerable:!1,value:sO(e),writable:!0})}:Rn,oO=rS(SE);function Ai(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function bh(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function oS(t){return t!==t}function $E(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Ra(t,e,n){return e===e?$E(t,e,n):bh(t,oS,n)}function yh(t,e){var n=t==null?0:t.length;return!!n&&Ra(t,e,0)>-1}var kE=1,PE=2,QE=8,TE=16,AE=32,CE=64,RE=128,EE=256,qE=512,ME=[["ary",RE],["bind",kE],["bindKey",PE],["curry",QE],["curryRight",TE],["flip",qE],["partial",AE],["partialRight",CE],["rearg",EE]];function ZE(t,e){return Ai(ME,function(n){var i="_."+n[0];e&n[1]&&!yh(t,i)&&t.push(i)}),t.sort()}function aS(t,e,n){var i=e+"";return oO(t,xE(i,ZE(_E(i),n)))}var DE=1,jE=2,WE=4,BE=8,lb=32,ub=64;function lS(t,e,n,i,r,s,o,a,l,c){var u=e&BE,f=u?o:void 0,h=u?void 0:o,d=u?s:void 0,p=u?void 0:s;e|=u?lb:ub,e&=~(u?ub:lb),e&WE||(e&=~(DE|jE));var m=[t,e,r,d,f,p,h,a,l,c],O=n.apply(void 0,m);return pg(t)&&sS(O,m),O.placeholder=i,aS(O,t,e)}function Ea(t){var e=t;return e.placeholder}var IE=9007199254740991,XE=/^(?:0|[1-9]\d*)$/;function Ir(t,e){var n=typeof t;return e=e??IE,!!e&&(n=="number"||n!="symbol"&&XE.test(t))&&t>-1&&t%1==0&&t<e}var UE=Math.min;function VE(t,e){for(var n=t.length,i=UE(e.length,n),r=Xn(t);i--;){var s=e[i];t[i]=Ir(s,n)?r[s]:void 0}return t}var cb="__lodash_placeholder__";function vs(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var o=t[n];(o===e||o===cb)&&(t[n]=cb,s[r++]=n)}return s}var LE=1,zE=2,YE=8,NE=16,FE=128,GE=512;function _h(t,e,n,i,r,s,o,a,l,c){var u=e&FE,f=e&LE,h=e&zE,d=e&(YE|NE),p=e&GE,m=h?void 0:Ul(t);function O(){for(var v=arguments.length,b=Array(v),S=v;S--;)b[S]=arguments[S];if(d)var y=Ea(O),w=cE(b,y);if(i&&(b=tS(b,i,r,d)),s&&(b=nS(b,s,o,d)),v-=w,d&&v<c){var P=vs(b,y);return lS(t,e,_h,O.placeholder,n,b,P,a,l,c-v)}var x=f?n:this,k=h?x[t]:t;return v=b.length,a?b=VE(b,a):p&&v>1&&b.reverse(),u&&l<v&&(b.length=l),this&&this!==Gt&&this instanceof O&&(k=m||Ul(k)),k.apply(x,b)}return O}function HE(t,e,n){var i=Ul(t);function r(){for(var s=arguments.length,o=Array(s),a=s,l=Ea(r);a--;)o[a]=arguments[a];var c=s<3&&o[0]!==l&&o[s-1]!==l?[]:vs(o,l);if(s-=c.length,s<n)return lS(t,e,_h,r.placeholder,void 0,o,c,void 0,void 0,n-s);var u=this&&this!==Gt&&this instanceof r?i:t;return ai(u,this,o)}return r}var KE=1;function JE(t,e,n,i){var r=e&KE,s=Ul(t);function o(){for(var a=-1,l=arguments.length,c=-1,u=i.length,f=Array(u+l),h=this&&this!==Gt&&this instanceof o?s:t;++c<u;)f[c]=i[c];for(;l--;)f[c++]=arguments[++a];return ai(h,r?n:this,f)}return o}var fb="__lodash_placeholder__",Ed=1,eq=2,tq=4,hb=8,el=128,db=256,nq=Math.min;function iq(t,e){var n=t[1],i=e[1],r=n|i,s=r<(Ed|eq|el),o=i==el&&n==hb||i==el&&n==db&&t[7].length<=e[8]||i==(el|db)&&e[7].length<=e[8]&&n==hb;if(!(s||o))return t;i&Ed&&(t[2]=e[2],r|=n&Ed?0:tq);var a=e[3];if(a){var l=t[3];t[3]=l?tS(l,a,e[4]):a,t[4]=l?vs(t[3],fb):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?nS(l,a,e[6]):a,t[6]=l?vs(t[5],fb):e[6]),a=e[7],a&&(t[7]=a),i&el&&(t[8]=t[8]==null?e[8]:nq(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}var rq="Expected a function",pb=1,sq=2,qd=8,Md=16,Zd=32,gb=64,mb=Math.max;function Xr(t,e,n,i,r,s,o,a){var l=e&sq;if(!l&&typeof t!="function")throw new TypeError(rq);var c=i?i.length:0;if(c||(e&=~(Zd|gb),i=r=void 0),o=o===void 0?o:mb(Xe(o),0),a=a===void 0?a:Xe(a),c-=r?r.length:0,e&gb){var u=i,f=r;i=r=void 0}var h=l?void 0:rO(t),d=[t,e,n,i,r,u,f,s,o,a];if(h&&iq(d,h),t=d[0],e=d[1],n=d[2],i=d[3],r=d[4],a=d[9]=d[9]===void 0?l?0:t.length:mb(d[9]-c,0),!a&&e&(qd|Md)&&(e&=~(qd|Md)),!e||e==pb)var p=aE(t,e,n);else e==qd||e==Md?p=HE(t,e,a):(e==Zd||e==(pb|Zd))&&!r.length?p=JE(t,e,n,i):p=_h.apply(void 0,d);var m=h?eS:sS;return aS(m(p,d),t,e)}var oq=128;function uS(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,Xr(t,oq,void 0,void 0,void 0,void 0,e)}function Ur(t,e,n){e=="__proto__"&&hf?hf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Vi(t,e){return t===e||t!==t&&e!==e}var aq=Object.prototype,lq=aq.hasOwnProperty;function ku(t,e,n){var i=t[e];(!(lq.call(t,e)&&Vi(i,n))||n===void 0&&!(e in t))&&Ur(t,e,n)}function hr(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?Ur(n,a,l):ku(n,a,l)}return n}var Ob=Math.max;function cS(t,e,n){return e=Ob(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=Ob(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),ai(t,this,a)}}function Ne(t,e){return oO(cS(t,e,Rn),t+"")}var uq=9007199254740991;function wh(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uq}function Ln(t){return t!=null&&wh(t.length)&&!Br(t)}function Tn(t,e,n){if(!qt(n))return!1;var i=typeof e;return(i=="number"?Ln(n)&&Ir(e,n.length):i=="string"&&e in n)?Vi(n[e],t):!1}function qa(t){return Ne(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&Tn(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var cq=Object.prototype;function Pu(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cq;return t===n}function aO(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var fq="[object Arguments]";function vb(t){return Zt(t)&&Cn(t)==fq}var fS=Object.prototype,hq=fS.hasOwnProperty,dq=fS.propertyIsEnumerable,io=vb(function(){return arguments}())?vb:function(t){return Zt(t)&&hq.call(t,"callee")&&!dq.call(t,"callee")};function lO(){return!1}var hS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bb=hS&&typeof module=="object"&&module&&!module.nodeType&&module,pq=bb&&bb.exports===hS,yb=pq?Gt.Buffer:void 0,gq=yb?yb.isBuffer:void 0,bs=gq||lO,mq="[object Arguments]",Oq="[object Array]",vq="[object Boolean]",bq="[object Date]",yq="[object Error]",_q="[object Function]",wq="[object Map]",xq="[object Number]",Sq="[object Object]",$q="[object RegExp]",kq="[object Set]",Pq="[object String]",Qq="[object WeakMap]",Tq="[object ArrayBuffer]",Aq="[object DataView]",Cq="[object Float32Array]",Rq="[object Float64Array]",Eq="[object Int8Array]",qq="[object Int16Array]",Mq="[object Int32Array]",Zq="[object Uint8Array]",Dq="[object Uint8ClampedArray]",jq="[object Uint16Array]",Wq="[object Uint32Array]",St={};St[Cq]=St[Rq]=St[Eq]=St[qq]=St[Mq]=St[Zq]=St[Dq]=St[jq]=St[Wq]=!0;St[mq]=St[Oq]=St[Tq]=St[vq]=St[Aq]=St[bq]=St[yq]=St[_q]=St[wq]=St[xq]=St[Sq]=St[$q]=St[kq]=St[Pq]=St[Qq]=!1;function Bq(t){return Zt(t)&&wh(t.length)&&!!St[Cn(t)]}function li(t){return function(e){return t(e)}}var dS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Al=dS&&typeof module=="object"&&module&&!module.nodeType&&module,Iq=Al&&Al.exports===dS,Dd=Iq&&Fx.process,xi=function(){try{var t=Al&&Al.require&&Al.require("util").types;return t||Dd&&Dd.binding&&Dd.binding("util")}catch{}}(),_b=xi&&xi.isTypedArray,Ma=_b?li(_b):Bq,Xq=Object.prototype,Uq=Xq.hasOwnProperty;function pS(t,e){var n=Ie(t),i=!n&&io(t),r=!n&&!i&&bs(t),s=!n&&!i&&!r&&Ma(t),o=n||i||r||s,a=o?aO(t.length,String):[],l=a.length;for(var c in t)(e||Uq.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ir(c,l)))&&a.push(c);return a}function gS(t,e){return function(n){return t(e(n))}}var Vq=gS(Object.keys,Object),Lq=Object.prototype,zq=Lq.hasOwnProperty;function uO(t){if(!Pu(t))return Vq(t);var e=[];for(var n in Object(t))zq.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ft(t){return Ln(t)?pS(t):uO(t)}var Yq=Object.prototype,Nq=Yq.hasOwnProperty,Fq=qa(function(t,e){if(Pu(e)||Ln(e)){hr(e,Ft(e),t);return}for(var n in e)Nq.call(e,n)&&ku(t,n,e[n])});function Gq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Hq=Object.prototype,Kq=Hq.hasOwnProperty;function Jq(t){if(!qt(t))return Gq(t);var e=Pu(t),n=[];for(var i in t)i=="constructor"&&(e||!Kq.call(t,i))||n.push(i);return n}function zn(t){return Ln(t)?pS(t,!0):Jq(t)}var wb=qa(function(t,e){hr(e,zn(e),t)}),df=qa(function(t,e,n,i){hr(e,zn(e),t,i)}),e5=qa(function(t,e,n,i){hr(e,Ft(e),t,i)}),t5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n5=/^\w*$/;function cO(t,e){if(Ie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||si(t)?!0:n5.test(t)||!t5.test(t)||e!=null&&t in Object(e)}var Vl=yo(Object,"create");function i5(){this.__data__=Vl?Vl(null):{},this.size=0}function r5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var s5="__lodash_hash_undefined__",o5=Object.prototype,a5=o5.hasOwnProperty;function l5(t){var e=this.__data__;if(Vl){var n=e[t];return n===s5?void 0:n}return a5.call(e,t)?e[t]:void 0}var u5=Object.prototype,c5=u5.hasOwnProperty;function f5(t){var e=this.__data__;return Vl?e[t]!==void 0:c5.call(e,t)}var h5="__lodash_hash_undefined__";function d5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vl&&e===void 0?h5:e,this}function ro(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ro.prototype.clear=i5;ro.prototype.delete=r5;ro.prototype.get=l5;ro.prototype.has=f5;ro.prototype.set=d5;function p5(){this.__data__=[],this.size=0}function xh(t,e){for(var n=t.length;n--;)if(Vi(t[n][0],e))return n;return-1}var g5=Array.prototype,m5=g5.splice;function O5(t){var e=this.__data__,n=xh(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():m5.call(e,n,1),--this.size,!0}function v5(t){var e=this.__data__,n=xh(e,t);return n<0?void 0:e[n][1]}function b5(t){return xh(this.__data__,t)>-1}function y5(t,e){var n=this.__data__,i=xh(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Vr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Vr.prototype.clear=p5;Vr.prototype.delete=O5;Vr.prototype.get=v5;Vr.prototype.has=b5;Vr.prototype.set=y5;var Ll=yo(Gt,"Map");function _5(){this.size=0,this.__data__={hash:new ro,map:new(Ll||Vr),string:new ro}}function w5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sh(t,e){var n=t.__data__;return w5(e)?n[typeof e=="string"?"string":"hash"]:n.map}function x5(t){var e=Sh(this,t).delete(t);return this.size-=e?1:0,e}function S5(t){return Sh(this,t).get(t)}function $5(t){return Sh(this,t).has(t)}function k5(t,e){var n=Sh(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Lr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Lr.prototype.clear=_5;Lr.prototype.delete=x5;Lr.prototype.get=S5;Lr.prototype.has=$5;Lr.prototype.set=k5;var P5="Expected a function";function $h(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P5);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new($h.Cache||Lr),n}$h.Cache=Lr;var Q5=500;function T5(t){var e=$h(t,function(i){return n.size===Q5&&n.clear(),i}),n=e.cache;return e}var A5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C5=/\\(\\)?/g,mS=T5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(A5,function(n,i,r,s){e.push(r?s.replace(C5,"$1"):i||n)}),e});function ut(t){return t==null?"":oi(t)}function Ps(t,e){return Ie(t)?t:cO(t,e)?[t]:mS(ut(t))}var R5=1/0;function dr(t){if(typeof t=="string"||si(t))return t;var e=t+"";return e=="0"&&1/t==-R5?"-0":e}function _o(t,e){e=Ps(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[dr(e[n++])];return n&&n==i?t:void 0}function fO(t,e,n){var i=t==null?void 0:_o(t,e);return i===void 0?n:i}function hO(t,e){for(var n=-1,i=e.length,r=Array(i),s=t==null;++n<i;)r[n]=s?void 0:fO(t,e[n]);return r}function Qs(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var xb=_n?_n.isConcatSpreadable:void 0;function E5(t){return Ie(t)||io(t)||!!(xb&&t&&t[xb])}function cn(t,e,n,i,r){var s=-1,o=t.length;for(n||(n=E5),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?cn(a,e-1,n,i,r):Qs(r,a):i||(r[r.length]=a)}return r}function OS(t){var e=t==null?0:t.length;return e?cn(t,1):[]}function zr(t){return oO(cS(t,void 0,OS),t+"")}var q5=zr(hO),kh=gS(Object.getPrototypeOf,Object),M5="[object Object]",Z5=Function.prototype,D5=Object.prototype,vS=Z5.toString,j5=D5.hasOwnProperty,W5=vS.call(Object);function Qu(t){if(!Zt(t)||Cn(t)!=M5)return!1;var e=kh(t);if(e===null)return!0;var n=j5.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vS.call(n)==W5}var B5="[object DOMException]",I5="[object Error]";function dO(t){if(!Zt(t))return!1;var e=Cn(t);return e==I5||e==B5||typeof t.message=="string"&&typeof t.name=="string"&&!Qu(t)}var bS=Ne(function(t,e){try{return ai(t,void 0,e)}catch(n){return dO(n)?n:new Error(n)}}),X5="Expected a function";function yS(t,e){var n;if(typeof e!="function")throw new TypeError(X5);return t=Xe(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var U5=1,V5=32,Ph=Ne(function(t,e,n){var i=U5;if(n.length){var r=vs(n,Ea(Ph));i|=V5}return Xr(t,i,e,n,r)});Ph.placeholder={};var L5=zr(function(t,e){return Ai(e,function(n){n=dr(n),Ur(t,n,Ph(t[n],t))}),t}),z5=1,Y5=2,N5=32,pO=Ne(function(t,e,n){var i=z5|Y5;if(n.length){var r=vs(n,Ea(pO));i|=N5}return Xr(e,i,t,n,r)});pO.placeholder={};function Si(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=t[i+e];return s}function Ts(t,e,n){var i=t.length;return n=n===void 0?i:n,!e&&n>=i?t:Si(t,e,n)}var F5="\\ud800-\\udfff",G5="\\u0300-\\u036f",H5="\\ufe20-\\ufe2f",K5="\\u20d0-\\u20ff",J5=G5+H5+K5,eM="\\ufe0e\\ufe0f",tM="\\u200d",nM=RegExp("["+tM+F5+J5+eM+"]");function Za(t){return nM.test(t)}function iM(t){return t.split("")}var _S="\\ud800-\\udfff",rM="\\u0300-\\u036f",sM="\\ufe20-\\ufe2f",oM="\\u20d0-\\u20ff",aM=rM+sM+oM,lM="\\ufe0e\\ufe0f",uM="["+_S+"]",gg="["+aM+"]",mg="\\ud83c[\\udffb-\\udfff]",cM="(?:"+gg+"|"+mg+")",wS="[^"+_S+"]",xS="(?:\\ud83c[\\udde6-\\uddff]){2}",SS="[\\ud800-\\udbff][\\udc00-\\udfff]",fM="\\u200d",$S=cM+"?",kS="["+lM+"]?",hM="(?:"+fM+"(?:"+[wS,xS,SS].join("|")+")"+kS+$S+")*",dM=kS+$S+hM,pM="(?:"+[wS+gg+"?",gg,xS,SS,uM].join("|")+")",gM=RegExp(mg+"(?="+mg+")|"+pM+dM,"g");function mM(t){return t.match(gM)||[]}function Wi(t){return Za(t)?mM(t):iM(t)}function PS(t){return function(e){e=ut(e);var n=Za(e)?Wi(e):void 0,i=n?n[0]:e.charAt(0),r=n?Ts(n,1).join(""):e.slice(1);return i[t]()+r}}var gO=PS("toUpperCase");function QS(t){return gO(ut(t).toLowerCase())}function mO(t,e,n,i){var r=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function OO(t){return function(e){return t==null?void 0:t[e]}}var OM={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},vM=OO(OM),bM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yM="\\u0300-\\u036f",_M="\\ufe20-\\ufe2f",wM="\\u20d0-\\u20ff",xM=yM+_M+wM,SM="["+xM+"]",$M=RegExp(SM,"g");function TS(t){return t=ut(t),t&&t.replace(bM,vM).replace($M,"")}var kM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function PM(t){return t.match(kM)||[]}var QM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function TM(t){return QM.test(t)}var AS="\\ud800-\\udfff",AM="\\u0300-\\u036f",CM="\\ufe20-\\ufe2f",RM="\\u20d0-\\u20ff",EM=AM+CM+RM,CS="\\u2700-\\u27bf",RS="a-z\\xdf-\\xf6\\xf8-\\xff",qM="\\xac\\xb1\\xd7\\xf7",MM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ZM="\\u2000-\\u206f",DM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ES="A-Z\\xc0-\\xd6\\xd8-\\xde",jM="\\ufe0e\\ufe0f",qS=qM+MM+ZM+DM,MS="[']",Sb="["+qS+"]",WM="["+EM+"]",ZS="\\d+",BM="["+CS+"]",DS="["+RS+"]",jS="[^"+AS+qS+ZS+CS+RS+ES+"]",IM="\\ud83c[\\udffb-\\udfff]",XM="(?:"+WM+"|"+IM+")",UM="[^"+AS+"]",WS="(?:\\ud83c[\\udde6-\\uddff]){2}",BS="[\\ud800-\\udbff][\\udc00-\\udfff]",Mo="["+ES+"]",VM="\\u200d",$b="(?:"+DS+"|"+jS+")",LM="(?:"+Mo+"|"+jS+")",kb="(?:"+MS+"(?:d|ll|m|re|s|t|ve))?",Pb="(?:"+MS+"(?:D|LL|M|RE|S|T|VE))?",IS=XM+"?",XS="["+jM+"]?",zM="(?:"+VM+"(?:"+[UM,WS,BS].join("|")+")"+XS+IS+")*",YM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",NM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FM=XS+IS+zM,GM="(?:"+[BM,WS,BS].join("|")+")"+FM,HM=RegExp([Mo+"?"+DS+"+"+kb+"(?="+[Sb,Mo,"$"].join("|")+")",LM+"+"+Pb+"(?="+[Sb,Mo+$b,"$"].join("|")+")",Mo+"?"+$b+"+"+kb,Mo+"+"+Pb,NM,YM,ZS,GM].join("|"),"g");function KM(t){return t.match(HM)||[]}function US(t,e,n){return t=ut(t),e=n?void 0:e,e===void 0?TM(t)?KM(t):PM(t):t.match(e)||[]}var JM="[']",eZ=RegExp(JM,"g");function Da(t){return function(e){return mO(US(TS(e).replace(eZ,"")),t,"")}}var tZ=Da(function(t,e,n){return e=e.toLowerCase(),t+(n?QS(e):e)});function nZ(){if(!arguments.length)return[];var t=arguments[0];return Ie(t)?t:[t]}var iZ=Gt.isFinite,rZ=Math.min;function vO(t){var e=Math[t];return function(n,i){if(n=mi(n),i=i==null?0:rZ(Xe(i),292),i&&iZ(n)){var r=(ut(n)+"e").split("e"),s=e(r[0]+"e"+(+r[1]+i));return r=(ut(s)+"e").split("e"),+(r[0]+"e"+(+r[1]-i))}return e(n)}}var sZ=vO("ceil");function VS(t){var e=_(t);return e.__chain__=!0,e}var oZ=Math.ceil,aZ=Math.max;function lZ(t,e,n){(n?Tn(t,e,n):e===void 0)?e=1:e=aZ(Xe(e),0);var i=t==null?0:t.length;if(!i||e<1)return[];for(var r=0,s=0,o=Array(oZ(i/e));r<i;)o[s++]=Si(t,r,r+=e);return o}function wo(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function uZ(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=mi(n),n=n===n?n:0),e!==void 0&&(e=mi(e),e=e===e?e:0),wo(mi(t),e,n)}function cZ(){this.__data__=new Vr,this.size=0}function fZ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function hZ(t){return this.__data__.get(t)}function dZ(t){return this.__data__.has(t)}var pZ=200;function gZ(t,e){var n=this.__data__;if(n instanceof Vr){var i=n.__data__;if(!Ll||i.length<pZ-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Lr(i)}return n.set(t,e),this.size=n.size,this}function Di(t){var e=this.__data__=new Vr(t);this.size=e.size}Di.prototype.clear=cZ;Di.prototype.delete=fZ;Di.prototype.get=hZ;Di.prototype.has=dZ;Di.prototype.set=gZ;function LS(t,e){return t&&hr(e,Ft(e),t)}function mZ(t,e){return t&&hr(e,zn(e),t)}var zS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qb=zS&&typeof module=="object"&&module&&!module.nodeType&&module,OZ=Qb&&Qb.exports===zS,Tb=OZ?Gt.Buffer:void 0,Ab=Tb?Tb.allocUnsafe:void 0;function YS(t,e){if(e)return t.slice();var n=t.length,i=Ab?Ab(n):new t.constructor(n);return t.copy(i),i}function As(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function bO(){return[]}var vZ=Object.prototype,bZ=vZ.propertyIsEnumerable,Cb=Object.getOwnPropertySymbols,yO=Cb?function(t){return t==null?[]:(t=Object(t),As(Cb(t),function(e){return bZ.call(t,e)}))}:bO;function yZ(t,e){return hr(t,yO(t),e)}var _Z=Object.getOwnPropertySymbols,NS=_Z?function(t){for(var e=[];t;)Qs(e,yO(t)),t=kh(t);return e}:bO;function wZ(t,e){return hr(t,NS(t),e)}function FS(t,e,n){var i=e(t);return Ie(t)?i:Qs(i,n(t))}function Og(t){return FS(t,Ft,yO)}function _O(t){return FS(t,zn,NS)}var vg=yo(Gt,"DataView"),bg=yo(Gt,"Promise"),No=yo(Gt,"Set"),Rb="[object Map]",xZ="[object Object]",Eb="[object Promise]",qb="[object Set]",Mb="[object WeakMap]",Zb="[object DataView]",SZ=bo(vg),$Z=bo(Ll),kZ=bo(bg),PZ=bo(No),QZ=bo(Xl),mn=Cn;(vg&&mn(new vg(new ArrayBuffer(1)))!=Zb||Ll&&mn(new Ll)!=Rb||bg&&mn(bg.resolve())!=Eb||No&&mn(new No)!=qb||Xl&&mn(new Xl)!=Mb)&&(mn=function(t){var e=Cn(t),n=e==xZ?t.constructor:void 0,i=n?bo(n):"";if(i)switch(i){case SZ:return Zb;case $Z:return Rb;case kZ:return Eb;case PZ:return qb;case QZ:return Mb}return e});var TZ=Object.prototype,AZ=TZ.hasOwnProperty;function CZ(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&AZ.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var pf=Gt.Uint8Array;function wO(t){var e=new t.constructor(t.byteLength);return new pf(e).set(new pf(t)),e}function RZ(t,e){var n=e?wO(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var EZ=/\w*$/;function qZ(t){var e=new t.constructor(t.source,EZ.exec(t));return e.lastIndex=t.lastIndex,e}var Db=_n?_n.prototype:void 0,jb=Db?Db.valueOf:void 0;function MZ(t){return jb?Object(jb.call(t)):{}}function GS(t,e){var n=e?wO(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ZZ="[object Boolean]",DZ="[object Date]",jZ="[object Map]",WZ="[object Number]",BZ="[object RegExp]",IZ="[object Set]",XZ="[object String]",UZ="[object Symbol]",VZ="[object ArrayBuffer]",LZ="[object DataView]",zZ="[object Float32Array]",YZ="[object Float64Array]",NZ="[object Int8Array]",FZ="[object Int16Array]",GZ="[object Int32Array]",HZ="[object Uint8Array]",KZ="[object Uint8ClampedArray]",JZ="[object Uint16Array]",eD="[object Uint32Array]";function tD(t,e,n){var i=t.constructor;switch(e){case VZ:return wO(t);case ZZ:case DZ:return new i(+t);case LZ:return RZ(t,n);case zZ:case YZ:case NZ:case FZ:case GZ:case HZ:case KZ:case JZ:case eD:return GS(t,n);case jZ:return new i;case WZ:case XZ:return new i(t);case BZ:return qZ(t);case IZ:return new i;case UZ:return MZ(t)}}function HS(t){return typeof t.constructor=="function"&&!Pu(t)?Ca(kh(t)):{}}var nD="[object Map]";function iD(t){return Zt(t)&&mn(t)==nD}var Wb=xi&&xi.isMap,KS=Wb?li(Wb):iD,rD="[object Set]";function sD(t){return Zt(t)&&mn(t)==rD}var Bb=xi&&xi.isSet,JS=Bb?li(Bb):sD,oD=1,aD=2,lD=4,e$="[object Arguments]",uD="[object Array]",cD="[object Boolean]",fD="[object Date]",hD="[object Error]",t$="[object Function]",dD="[object GeneratorFunction]",pD="[object Map]",gD="[object Number]",n$="[object Object]",mD="[object RegExp]",OD="[object Set]",vD="[object String]",bD="[object Symbol]",yD="[object WeakMap]",_D="[object ArrayBuffer]",wD="[object DataView]",xD="[object Float32Array]",SD="[object Float64Array]",$D="[object Int8Array]",kD="[object Int16Array]",PD="[object Int32Array]",QD="[object Uint8Array]",TD="[object Uint8ClampedArray]",AD="[object Uint16Array]",CD="[object Uint32Array]",_t={};_t[e$]=_t[uD]=_t[_D]=_t[wD]=_t[cD]=_t[fD]=_t[xD]=_t[SD]=_t[$D]=_t[kD]=_t[PD]=_t[pD]=_t[gD]=_t[n$]=_t[mD]=_t[OD]=_t[vD]=_t[bD]=_t[QD]=_t[TD]=_t[AD]=_t[CD]=!0;_t[hD]=_t[t$]=_t[yD]=!1;function Oi(t,e,n,i,r,s){var o,a=e&oD,l=e&aD,c=e&lD;if(n&&(o=r?n(t,i,r,s):n(t)),o!==void 0)return o;if(!qt(t))return t;var u=Ie(t);if(u){if(o=CZ(t),!a)return Xn(t,o)}else{var f=mn(t),h=f==t$||f==dD;if(bs(t))return YS(t,a);if(f==n$||f==e$||h&&!r){if(o=l||h?{}:HS(t),!a)return l?wZ(t,mZ(o,t)):yZ(t,LS(o,t))}else{if(!_t[f])return r?t:{};o=tD(t,f,a)}}s||(s=new Di);var d=s.get(t);if(d)return d;s.set(t,o),JS(t)?t.forEach(function(O){o.add(Oi(O,e,n,O,t,s))}):KS(t)&&t.forEach(function(O,v){o.set(v,Oi(O,e,n,v,t,s))});var p=c?l?_O:Og:l?zn:Ft,m=u?void 0:p(t);return Ai(m||t,function(O,v){m&&(v=O,O=t[v]),ku(o,v,Oi(O,e,n,v,t,s))}),o}var RD=4;function ED(t){return Oi(t,RD)}var qD=1,MD=4;function gt(t){return Oi(t,qD|MD)}var ZD=1,DD=4;function jD(t,e){return e=typeof e=="function"?e:void 0,Oi(t,ZD|DD,e)}var WD=4;function BD(t,e){return e=typeof e=="function"?e:void 0,Oi(t,WD,e)}function ID(){return new wi(this.value(),this.__chain__)}function XD(t){for(var e=-1,n=t==null?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r}function UD(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Qs(Ie(n)?Xn(n):[n],cn(e,1))}var VD="__lodash_hash_undefined__";function LD(t){return this.__data__.set(t,VD),this}function zD(t){return this.__data__.has(t)}function so(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Lr;++e<n;)this.add(t[e])}so.prototype.add=so.prototype.push=LD;so.prototype.has=zD;function xO(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function zl(t,e){return t.has(e)}var YD=1,ND=2;function i$(t,e,n,i,r,s){var o=n&YD,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&ND?new so:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],m=e[f];if(i)var O=o?i(m,p,f,e,t,s):i(p,m,f,t,e,s);if(O!==void 0){if(O)continue;h=!1;break}if(d){if(!xO(e,function(v,b){if(!zl(d,b)&&(p===v||r(p,v,n,i,s)))return d.push(b)})){h=!1;break}}else if(!(p===m||r(p,m,n,i,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function SO(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function Qh(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var FD=1,GD=2,HD="[object Boolean]",KD="[object Date]",JD="[object Error]",ej="[object Map]",tj="[object Number]",nj="[object RegExp]",ij="[object Set]",rj="[object String]",sj="[object Symbol]",oj="[object ArrayBuffer]",aj="[object DataView]",Ib=_n?_n.prototype:void 0,jd=Ib?Ib.valueOf:void 0;function lj(t,e,n,i,r,s,o){switch(n){case aj:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oj:return!(t.byteLength!=e.byteLength||!s(new pf(t),new pf(e)));case HD:case KD:case tj:return Vi(+t,+e);case JD:return t.name==e.name&&t.message==e.message;case nj:case rj:return t==e+"";case ej:var a=SO;case ij:var l=i&FD;if(a||(a=Qh),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=GD,o.set(t,e);var u=i$(a(t),a(e),i,r,s,o);return o.delete(t),u;case sj:if(jd)return jd.call(t)==jd.call(e)}return!1}var uj=1,cj=Object.prototype,fj=cj.hasOwnProperty;function hj(t,e,n,i,r,s){var o=n&uj,a=Og(t),l=a.length,c=Og(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:fj.call(e,h)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var O=o;++f<l;){h=a[f];var v=t[h],b=e[h];if(i)var S=o?i(b,v,h,e,t,s):i(v,b,h,t,e,s);if(!(S===void 0?v===b||r(v,b,n,i,s):S)){m=!1;break}O||(O=h=="constructor")}if(m&&!O){var y=t.constructor,w=e.constructor;y!=w&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof w=="function"&&w instanceof w)&&(m=!1)}return s.delete(t),s.delete(e),m}var dj=1,Xb="[object Arguments]",Ub="[object Array]",uc="[object Object]",pj=Object.prototype,Vb=pj.hasOwnProperty;function gj(t,e,n,i,r,s){var o=Ie(t),a=Ie(e),l=o?Ub:mn(t),c=a?Ub:mn(e);l=l==Xb?uc:l,c=c==Xb?uc:c;var u=l==uc,f=c==uc,h=l==c;if(h&&bs(t)){if(!bs(e))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Di),o||Ma(t)?i$(t,e,n,i,r,s):lj(t,e,l,n,i,r,s);if(!(n&dj)){var d=u&&Vb.call(t,"__wrapped__"),p=f&&Vb.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,O=p?e.value():e;return s||(s=new Di),r(m,O,n,i,s)}}return h?(s||(s=new Di),hj(t,e,n,i,r,s)):!1}function Tu(t,e,n,i,r){return t===e?!0:t==null||e==null||!Zt(t)&&!Zt(e)?t!==t&&e!==e:gj(t,e,n,i,Tu,r)}var mj=1,Oj=2;function $O(t,e,n,i){var r=n.length,s=r,o=!i;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Di;if(i)var h=i(c,u,l,t,e,f);if(!(h===void 0?Tu(u,c,mj|Oj,i,f):h))return!1}}return!0}function r$(t){return t===t&&!qt(t)}function kO(t){for(var e=Ft(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,r$(r)]}return e}function s$(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function o$(t){var e=kO(t);return e.length==1&&e[0][2]?s$(e[0][0],e[0][1]):function(n){return n===t||$O(n,t,e)}}function vj(t,e){return t!=null&&e in Object(t)}function a$(t,e,n){e=Ps(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var o=dr(e[i]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&wh(r)&&Ir(o,r)&&(Ie(t)||io(t)))}function PO(t,e){return t!=null&&a$(t,e,vj)}var bj=1,yj=2;function l$(t,e){return cO(t)&&r$(e)?s$(dr(t),e):function(n){var i=fO(n,t);return i===void 0&&i===e?PO(n,t):Tu(e,i,bj|yj)}}function QO(t){return function(e){return e==null?void 0:e[t]}}function _j(t){return function(e){return _o(e,t)}}function u$(t){return cO(t)?QO(dr(t)):_j(t)}function je(t){return typeof t=="function"?t:t==null?Rn:typeof t=="object"?Ie(t)?l$(t[0],t[1]):o$(t):u$(t)}var wj="Expected a function";function xj(t){var e=t==null?0:t.length,n=je;return t=e?Et(t,function(i){if(typeof i[1]!="function")throw new TypeError(wj);return[n(i[0]),i[1]]}):[],Ne(function(i){for(var r=-1;++r<e;){var s=t[r];if(ai(s[0],this,i))return ai(s[1],this,i)}})}function c$(t,e,n){var i=n.length;if(t==null)return!i;for(t=Object(t);i--;){var r=n[i],s=e[r],o=t[r];if(o===void 0&&!(r in t)||!s(o))return!1}return!0}function Sj(t){var e=Ft(t);return function(n){return c$(n,t,e)}}var $j=1;function kj(t){return Sj(Oi(t,$j))}function Pj(t,e){return e==null||c$(t,e,Ft(e))}function Qj(t,e,n,i){for(var r=-1,s=t==null?0:t.length;++r<s;){var o=t[r];e(i,o,n(o),t)}return i}function f$(t){return function(e,n,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++r];if(n(s[l],l,s)===!1)break}return e}}var TO=f$();function pr(t,e){return t&&TO(t,e,Ft)}function h$(t,e){return function(n,i){if(n==null)return n;if(!Ln(n))return t(n,i);for(var r=n.length,s=e?r:-1,o=Object(n);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return n}}var Cs=h$(pr);function Tj(t,e,n,i){return Cs(t,function(r,s,o){e(i,r,n(r),o)}),i}function Th(t,e){return function(n,i){var r=Ie(n)?Qj:Tj,s=e?e():{};return r(n,t,je(i),s)}}var Aj=Object.prototype,Cj=Aj.hasOwnProperty,Rj=Th(function(t,e,n){Cj.call(t,n)?++t[n]:Ur(t,n,1)});function Ej(t,e){var n=Ca(t);return e==null?n:LS(n,e)}var qj=8;function AO(t,e,n){e=n?void 0:e;var i=Xr(t,qj,void 0,void 0,void 0,void 0,void 0,e);return i.placeholder=AO.placeholder,i}AO.placeholder={};var Mj=16;function CO(t,e,n){e=n?void 0:e;var i=Xr(t,Mj,void 0,void 0,void 0,void 0,void 0,e);return i.placeholder=CO.placeholder,i}CO.placeholder={};var Ic=function(){return Gt.Date.now()},Zj="Expected a function",Dj=Math.max,jj=Math.min;function d$(t,e,n){var i,r,s,o,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Zj);e=mi(e)||0,qt(n)&&(u=!!n.leading,f="maxWait"in n,s=f?Dj(mi(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function d(P){var x=i,k=r;return i=r=void 0,c=P,o=t.apply(k,x),o}function p(P){return c=P,a=setTimeout(v,e),u?d(P):o}function m(P){var x=P-l,k=P-c,A=e-x;return f?jj(A,s-k):A}function O(P){var x=P-l,k=P-c;return l===void 0||x>=e||x<0||f&&k>=s}function v(){var P=Ic();if(O(P))return b(P);a=setTimeout(v,m(P))}function b(P){return a=void 0,h&&i?d(P):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function y(){return a===void 0?o:b(Ic())}function w(){var P=Ic(),x=O(P);if(i=arguments,r=this,l=P,x){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(v,e),d(l)}return a===void 0&&(a=setTimeout(v,e)),o}return w.cancel=S,w.flush=y,w}function Wj(t,e){return t==null||t!==t?e:t}var p$=Object.prototype,Bj=p$.hasOwnProperty,Ij=Ne(function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&Tn(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],o=zn(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||Vi(u,p$[c])&&!Bj.call(t,c))&&(t[c]=s[c])}return t});function yg(t,e,n){(n!==void 0&&!Vi(t[e],n)||n===void 0&&!(e in t))&&Ur(t,e,n)}function It(t){return Zt(t)&&Ln(t)}function _g(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function g$(t){return hr(t,zn(t))}function Xj(t,e,n,i,r,s,o){var a=_g(t,n),l=_g(e,n),c=o.get(l);if(c){yg(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,f=u===void 0;if(f){var h=Ie(l),d=!h&&bs(l),p=!h&&!d&&Ma(l);u=l,h||d||p?Ie(a)?u=a:It(a)?u=Xn(a):d?(f=!1,u=YS(l,!0)):p?(f=!1,u=GS(l,!0)):u=[]:Qu(l)||io(l)?(u=a,io(a)?u=g$(a):(!qt(a)||Br(a))&&(u=HS(l))):f=!1}f&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),yg(t,n,u)}function Ah(t,e,n,i,r){t!==e&&TO(e,function(s,o){if(r||(r=new Di),qt(s))Xj(t,e,o,n,Ah,i,r);else{var a=i?i(_g(t,o),s,o+"",t,e,r):void 0;a===void 0&&(a=s),yg(t,o,a)}},zn)}function m$(t,e,n,i,r,s){return qt(t)&&qt(e)&&(s.set(e,t),Ah(t,e,void 0,m$,s),s.delete(e)),t}var O$=qa(function(t,e,n,i){Ah(t,e,n,i)}),Uj=Ne(function(t){return t.push(void 0,m$),ai(O$,void 0,t)}),Vj="Expected a function";function v$(t,e,n){if(typeof t!="function")throw new TypeError(Vj);return setTimeout(function(){t.apply(void 0,n)},e)}var Lj=Ne(function(t,e){return v$(t,1,e)}),zj=Ne(function(t,e,n){return v$(t,mi(e)||0,n)});function RO(t,e,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}var Yj=200;function Au(t,e,n,i){var r=-1,s=yh,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=Et(e,li(n))),i?(s=RO,o=!1):e.length>=Yj&&(s=zl,o=!1,e=new so(e));e:for(;++r<a;){var u=t[r],f=n==null?u:n(u);if(u=i||u!==0?u:0,o&&f===f){for(var h=c;h--;)if(e[h]===f)continue e;l.push(u)}else s(e,f,i)||l.push(u)}return l}var Nj=Ne(function(t,e){return It(t)?Au(t,cn(e,1,It,!0)):[]});function ui(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Fj=Ne(function(t,e){var n=ui(e);return It(n)&&(n=void 0),It(t)?Au(t,cn(e,1,It,!0),je(n)):[]}),Gj=Ne(function(t,e){var n=ui(e);return It(n)&&(n=void 0),It(t)?Au(t,cn(e,1,It,!0),void 0,n):[]}),Hj=Oh(function(t,e){return t/e},1);function Kj(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:Xe(e),Si(t,e<0?0:e,i)):[]}function Jj(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:Xe(e),e=i-e,Si(t,0,e<0?0:e)):[]}function Ch(t,e,n,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&e(t[s],s,t););return n?Si(t,i?0:s,i?s+1:r):Si(t,i?s+1:0,i?r:s)}function eW(t,e){return t&&t.length?Ch(t,je(e),!0,!0):[]}function tW(t,e){return t&&t.length?Ch(t,je(e),!0):[]}function gr(t){return typeof t=="function"?t:Rn}function Lb(t,e){var n=Ie(t)?Ai:Cs;return n(t,gr(e))}function nW(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var b$=f$(!0);function EO(t,e){return t&&b$(t,e,Ft)}var y$=h$(EO,!0);function zb(t,e){var n=Ie(t)?nW:y$;return n(t,gr(e))}function iW(t,e,n){t=ut(t),e=oi(e);var i=t.length;n=n===void 0?i:wo(Xe(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function rW(t,e){return Et(e,function(n){return[n,t[n]]})}function sW(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=[i,i]}),n}var oW="[object Map]",aW="[object Set]";function _$(t){return function(e){var n=mn(e);return n==oW?SO(e):n==aW?sW(e):rW(e,t(e))}}var Yb=_$(Ft),Nb=_$(zn),lW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uW=OO(lW),w$=/[&<>"']/g,cW=RegExp(w$.source);function x$(t){return t=ut(t),t&&cW.test(t)?t.replace(w$,uW):t}var S$=/[\\^$.*+?()[\]{}|]/g,fW=RegExp(S$.source);function hW(t){return t=ut(t),t&&fW.test(t)?t.replace(S$,"\\$&"):t}function $$(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function dW(t,e){var n=!0;return Cs(t,function(i,r,s){return n=!!e(i,r,s),n}),n}function pW(t,e,n){var i=Ie(t)?$$:dW;return n&&Tn(t,e,n)&&(e=void 0),i(t,je(e))}var gW=4294967295;function k$(t){return t?wo(Xe(t),0,gW):0}function mW(t,e,n,i){var r=t.length;for(n=Xe(n),n<0&&(n=-n>r?0:r+n),i=i===void 0||i>r?r:Xe(i),i<0&&(i+=r),i=n>i?0:k$(i);n<i;)t[n++]=e;return t}function OW(t,e,n,i){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&Tn(t,e,n)&&(n=0,i=r),mW(t,e,n,i)):[]}function P$(t,e){var n=[];return Cs(t,function(i,r,s){e(i,r,s)&&n.push(i)}),n}function vW(t,e){var n=Ie(t)?As:P$;return n(t,je(e))}function Q$(t){return function(e,n,i){var r=Object(e);if(!Ln(e)){var s=je(n);e=Ft(e),n=function(a){return s(r[a],a,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:void 0}}var bW=Math.max;function T$(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:Xe(n);return r<0&&(r=bW(i+r,0)),bh(t,je(e),r)}var A$=Q$(T$);function C$(t,e,n){var i;return n(t,function(r,s,o){if(e(r,s,o))return i=s,!1}),i}function yW(t,e){return C$(t,je(e),pr)}var _W=Math.max,wW=Math.min;function R$(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=i-1;return n!==void 0&&(r=Xe(n),r=n<0?_W(i+r,0):wW(r,i-1)),bh(t,je(e),r,!0)}var xW=Q$(R$);function SW(t,e){return C$(t,je(e),EO)}function Fb(t){return t&&t.length?t[0]:void 0}function E$(t,e){var n=-1,i=Ln(t)?Array(t.length):[];return Cs(t,function(r,s,o){i[++n]=e(r,s,o)}),i}function Rh(t,e){var n=Ie(t)?Et:E$;return n(t,je(e))}function $W(t,e){return cn(Rh(t,e),1)}var kW=1/0;function PW(t,e){return cn(Rh(t,e),kW)}function QW(t,e,n){return n=n===void 0?1:Xe(n),cn(Rh(t,e),n)}var TW=1/0;function AW(t){var e=t==null?0:t.length;return e?cn(t,TW):[]}function CW(t,e){var n=t==null?0:t.length;return n?(e=e===void 0?1:Xe(e),cn(t,e)):[]}var RW=512;function EW(t){return Xr(t,RW)}var qW=vO("floor"),MW="Expected a function",ZW=8,DW=32,jW=128,WW=256;function q$(t){return zr(function(e){var n=e.length,i=n,r=wi.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if(typeof s!="function")throw new TypeError(MW);if(r&&!o&&Bc(s)=="wrapper")var o=new wi([],!0)}for(i=o?i:n;++i<n;){s=e[i];var a=Bc(s),l=a=="wrapper"?rO(s):void 0;l&&pg(l[0])&&l[1]==(jW|ZW|DW|WW)&&!l[4].length&&l[9]==1?o=o[Bc(l[0])].apply(o,l[3]):o=s.length==1&&pg(s)?o[a]():o.thru(s)}return function(){var c=arguments,u=c[0];if(o&&c.length==1&&Ie(u))return o.plant(u).value();for(var f=0,h=n?e[f].apply(this,c):u;++f<n;)h=e[f].call(this,h);return h}})}var BW=q$(),IW=q$(!0);function XW(t,e){return t==null?t:TO(t,gr(e),zn)}function UW(t,e){return t==null?t:b$(t,gr(e),zn)}function VW(t,e){return t&&pr(t,gr(e))}function LW(t,e){return t&&EO(t,gr(e))}function zW(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function Eh(t,e){return As(e,function(n){return Br(t[n])})}function YW(t){return t==null?[]:Eh(t,Ft(t))}function NW(t){return t==null?[]:Eh(t,zn(t))}var FW=Object.prototype,GW=FW.hasOwnProperty,HW=Th(function(t,e,n){GW.call(t,n)?t[n].push(e):Ur(t,n,[e])});function qO(t,e){return t>e}function qh(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=mi(e),n=mi(n)),t(e,n)}}var KW=qh(qO),JW=qh(function(t,e){return t>=e}),eB=Object.prototype,tB=eB.hasOwnProperty;function nB(t,e){return t!=null&&tB.call(t,e)}function iB(t,e){return t!=null&&a$(t,e,nB)}var rB=Math.max,sB=Math.min;function oB(t,e,n){return t>=sB(e,n)&&t<rB(e,n)}function aB(t,e,n){return e=kr(e),n===void 0?(n=e,e=0):n=kr(n),t=mi(t),oB(t,e,n)}var lB="[object String]";function Mh(t){return typeof t=="string"||!Ie(t)&&Zt(t)&&Cn(t)==lB}function MO(t,e){return Et(e,function(n){return t[n]})}function ja(t){return t==null?[]:MO(t,Ft(t))}var uB=Math.max;function cB(t,e,n,i){t=Ln(t)?t:ja(t),n=n&&!i?Xe(n):0;var r=t.length;return n<0&&(n=uB(r+n,0)),Mh(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ra(t,e,n)>-1}var fB=Math.max;function hB(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:Xe(n);return r<0&&(r=fB(i+r,0)),Ra(t,e,r)}function dB(t){var e=t==null?0:t.length;return e?Si(t,0,-1):[]}var pB=Math.min;function ZO(t,e,n){for(var i=n?RO:yh,r=t[0].length,s=t.length,o=s,a=Array(s),l=1/0,c=[];o--;){var u=t[o];o&&e&&(u=Et(u,li(e))),l=pB(u.length,l),a[o]=!n&&(e||r>=120&&u.length>=120)?new so(o&&u):void 0}u=t[0];var f=-1,h=a[0];e:for(;++f<r&&c.length<l;){var d=u[f],p=e?e(d):d;if(d=n||d!==0?d:0,!(h?zl(h,p):i(c,p,n))){for(o=s;--o;){var m=a[o];if(!(m?zl(m,p):i(t[o],p,n)))continue e}h&&h.push(p),c.push(d)}}return c}function DO(t){return It(t)?t:[]}var gB=Ne(function(t){var e=Et(t,DO);return e.length&&e[0]===t[0]?ZO(e):[]}),mB=Ne(function(t){var e=ui(t),n=Et(t,DO);return e===ui(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?ZO(n,je(e)):[]}),OB=Ne(function(t){var e=ui(t),n=Et(t,DO);return e=typeof e=="function"?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?ZO(n,void 0,e):[]});function vB(t,e,n,i){return pr(t,function(r,s,o){e(i,n(r),s,o)}),i}function M$(t,e){return function(n,i){return vB(n,t,e(i),{})}}var bB=Object.prototype,yB=bB.toString,_B=M$(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=yB.call(e)),t[e]=n},sO(Rn)),Z$=Object.prototype,wB=Z$.hasOwnProperty,xB=Z$.toString,SB=M$(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=xB.call(e)),wB.call(t,e)?t[e].push(n):t[e]=[n]},je);function D$(t,e){return e.length<2?t:_o(t,Si(e,0,-1))}function Cu(t,e,n){e=Ps(e,t),t=D$(t,e);var i=t==null?t:t[dr(ui(e))];return i==null?void 0:ai(i,t,n)}var $B=Ne(Cu),kB=Ne(function(t,e,n){var i=-1,r=typeof e=="function",s=Ln(t)?Array(t.length):[];return Cs(t,function(o){s[++i]=r?ai(e,o,n):Cu(o,e,n)}),s}),PB="[object ArrayBuffer]";function QB(t){return Zt(t)&&Cn(t)==PB}var Gb=xi&&xi.isArrayBuffer,TB=Gb?li(Gb):QB,AB="[object Boolean]";function CB(t){return t===!0||t===!1||Zt(t)&&Cn(t)==AB}var RB="[object Date]";function EB(t){return Zt(t)&&Cn(t)==RB}var Hb=xi&&xi.isDate,qB=Hb?li(Hb):EB;function MB(t){return Zt(t)&&t.nodeType===1&&!Qu(t)}var ZB="[object Map]",DB="[object Set]",jB=Object.prototype,WB=jB.hasOwnProperty;function BB(t){if(t==null)return!0;if(Ln(t)&&(Ie(t)||typeof t=="string"||typeof t.splice=="function"||bs(t)||Ma(t)||io(t)))return!t.length;var e=mn(t);if(e==ZB||e==DB)return!t.size;if(Pu(t))return!uO(t).length;for(var n in t)if(WB.call(t,n))return!1;return!0}function IB(t,e){return Tu(t,e)}function XB(t,e,n){n=typeof n=="function"?n:void 0;var i=n?n(t,e):void 0;return i===void 0?Tu(t,e,void 0,n):!!i}var UB=Gt.isFinite;function VB(t){return typeof t=="number"&&UB(t)}function j$(t){return typeof t=="number"&&t==Xe(t)}function LB(t,e){return t===e||$O(t,e,kO(e))}function zB(t,e,n){return n=typeof n=="function"?n:void 0,$O(t,e,kO(e),n)}var YB="[object Number]";function W$(t){return typeof t=="number"||Zt(t)&&Cn(t)==YB}function NB(t){return W$(t)&&t!=+t}var FB=Wc?Br:lO,GB="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function HB(t){if(FB(t))throw new Error(GB);return Jx(t)}function KB(t){return t==null}function JB(t){return t===null}var eI="[object RegExp]";function tI(t){return Zt(t)&&Cn(t)==eI}var Kb=xi&&xi.isRegExp,jO=Kb?li(Kb):tI,Jb=9007199254740991;function nI(t){return j$(t)&&t>=-Jb&&t<=Jb}function iI(t){return t===void 0}var rI="[object WeakMap]";function sI(t){return Zt(t)&&mn(t)==rI}var oI="[object WeakSet]";function aI(t){return Zt(t)&&Cn(t)==oI}var lI=1;function uI(t){return je(typeof t=="function"?t:Oi(t,lI))}var cI=Array.prototype,fI=cI.join;function hI(t,e){return t==null?"":fI.call(t,e)}var dI=Da(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),pI=Th(function(t,e,n){Ur(t,n,e)});function gI(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}var mI=Math.max,OI=Math.min;function vI(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=i;return n!==void 0&&(r=Xe(n),r=r<0?mI(i+r,0):OI(r,i-1)),e===e?gI(t,e,r):bh(t,oS,r,!0)}var bI=Da(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),yI=PS("toLowerCase");function WO(t,e){return t<e}var _I=qh(WO),wI=qh(function(t,e){return t<=e});function xI(t,e){var n={};return e=je(e),pr(t,function(i,r,s){Ur(n,e(i,r,s),i)}),n}function SI(t,e){var n={};return e=je(e),pr(t,function(i,r,s){Ur(n,r,e(i,r,s))}),n}var $I=1;function kI(t){return o$(Oi(t,$I))}var PI=1;function QI(t,e){return l$(t,Oi(e,PI))}function Zh(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],o=e(s);if(o!=null&&(a===void 0?o===o&&!si(o):n(o,a)))var a=o,l=s}return l}function TI(t){return t&&t.length?Zh(t,Rn,qO):void 0}function AI(t,e){return t&&t.length?Zh(t,je(e),qO):void 0}function BO(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==void 0&&(n=n===void 0?s:n+s)}return n}var CI=NaN;function B$(t,e){var n=t==null?0:t.length;return n?BO(t,e)/n:CI}function RI(t){return B$(t,Rn)}function EI(t,e){return B$(t,je(e))}var qI=qa(function(t,e,n){Ah(t,e,n)}),MI=Ne(function(t,e){return function(n){return Cu(n,t,e)}}),ZI=Ne(function(t,e){return function(n){return Cu(t,n,e)}});function DI(t){return t&&t.length?Zh(t,Rn,WO):void 0}function jI(t,e){return t&&t.length?Zh(t,je(e),WO):void 0}function I$(t,e,n){var i=Ft(e),r=Eh(e,i),s=!(qt(n)&&"chain"in n)||!!n.chain,o=Br(t);return Ai(r,function(a){var l=e[a];t[a]=l,o&&(t.prototype[a]=function(){var c=this.__chain__;if(s||c){var u=t(this.__wrapped__),f=u.__actions__=Xn(this.__actions__);return f.push({func:l,args:arguments,thisArg:t}),u.__chain__=c,u}return l.apply(t,Qs([this.value()],arguments))})}),t}var WI=Oh(function(t,e){return t*e},1),BI="Expected a function";function Ru(t){if(typeof t!="function")throw new TypeError(BI);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function II(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var XI="[object Map]",UI="[object Set]",Wd=_n?_n.iterator:void 0;function X$(t){if(!t)return[];if(Ln(t))return Mh(t)?Wi(t):Xn(t);if(Wd&&t[Wd])return II(t[Wd]());var e=mn(t),n=e==XI?SO:e==UI?Qh:ja;return n(t)}function VI(){this.__values__===void 0&&(this.__values__=X$(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function U$(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ir(e,n)?t[e]:void 0}function LI(t,e){return t&&t.length?U$(t,Xe(e)):void 0}function zI(t){return t=Xe(t),Ne(function(e){return U$(e,t)})}function IO(t,e){return e=Ps(e,t),t=D$(t,e),t==null||delete t[dr(ui(e))]}function YI(t){return Qu(t)?void 0:t}var NI=1,FI=2,GI=4,HI=zr(function(t,e){var n={};if(t==null)return n;var i=!1;e=Et(e,function(s){return s=Ps(s,t),i||(i=s.length>1),s}),hr(t,_O(t),n),i&&(n=Oi(n,NI|FI|GI,YI));for(var r=e.length;r--;)IO(n,e[r]);return n});function Eu(t,e,n,i){if(!qt(t))return t;e=Ps(e,t);for(var r=-1,s=e.length,o=s-1,a=t;a!=null&&++r<s;){var l=dr(e[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=qt(u)?u:Ir(e[r+1])?[]:{})}ku(a,l,c),a=a[l]}return t}function V$(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=_o(t,o);n(a,o)&&Eu(s,Ps(o,t),a)}return s}function L$(t,e){if(t==null)return{};var n=Et(_O(t),function(i){return[i]});return e=je(e),V$(t,n,function(i,r){return e(i,r[0])})}function KI(t,e){return L$(t,Ru(je(e)))}function JI(t){return yS(2,t)}function eX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function z$(t,e){if(t!==e){var n=t!==void 0,i=t===null,r=t===t,s=si(t),o=e!==void 0,a=e===null,l=e===e,c=si(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!s&&!c&&t<e||c&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!l)return-1}return 0}function tX(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,o=r.length,a=n.length;++i<o;){var l=z$(r[i],s[i]);if(l){if(i>=a)return l;var c=n[i];return l*(c=="desc"?-1:1)}}return t.index-e.index}function Y$(t,e,n){e.length?e=Et(e,function(s){return Ie(s)?function(o){return _o(o,s.length===1?s[0]:s)}:s}):e=[Rn];var i=-1;e=Et(e,li(je));var r=E$(t,function(s,o,a){var l=Et(e,function(c){return c(s)});return{criteria:l,index:++i,value:s}});return eX(r,function(s,o){return tX(s,o,n)})}function nX(t,e,n,i){return t==null?[]:(Ie(e)||(e=e==null?[]:[e]),n=i?void 0:n,Ie(n)||(n=n==null?[]:[n]),Y$(t,e,n))}function XO(t){return zr(function(e){return e=Et(e,li(je)),Ne(function(n){var i=this;return t(e,function(r){return ai(r,i,n)})})})}var iX=XO(Et),rX=Ne,sX=Math.min,oX=rX(function(t,e){e=e.length==1&&Ie(e[0])?Et(e[0],li(je)):Et(cn(e,1),li(je));var n=e.length;return Ne(function(i){for(var r=-1,s=sX(i.length,n);++r<s;)i[r]=e[r].call(this,i[r]);return ai(t,this,i)})}),aX=XO($$),lX=XO(xO),uX=9007199254740991,cX=Math.floor;function wg(t,e){var n="";if(!t||e<1||e>uX)return n;do e%2&&(n+=t),e=cX(e/2),e&&(t+=t);while(e);return n}var fX=QO("length"),N$="\\ud800-\\udfff",hX="\\u0300-\\u036f",dX="\\ufe20-\\ufe2f",pX="\\u20d0-\\u20ff",gX=hX+dX+pX,mX="\\ufe0e\\ufe0f",OX="["+N$+"]",xg="["+gX+"]",Sg="\\ud83c[\\udffb-\\udfff]",vX="(?:"+xg+"|"+Sg+")",F$="[^"+N$+"]",G$="(?:\\ud83c[\\udde6-\\uddff]){2}",H$="[\\ud800-\\udbff][\\udc00-\\udfff]",bX="\\u200d",K$=vX+"?",J$="["+mX+"]?",yX="(?:"+bX+"(?:"+[F$,G$,H$].join("|")+")"+J$+K$+")*",_X=J$+K$+yX,wX="(?:"+[F$+xg+"?",xg,G$,H$,OX].join("|")+")",ey=RegExp(Sg+"(?="+Sg+")|"+wX+_X,"g");function xX(t){for(var e=ey.lastIndex=0;ey.test(t);)++e;return e}function Wa(t){return Za(t)?xX(t):fX(t)}var SX=Math.ceil;function gf(t,e){e=e===void 0?" ":oi(e);var n=e.length;if(n<2)return n?wg(e,t):e;var i=wg(e,SX(t/Wa(e)));return Za(e)?Ts(Wi(i),0,t).join(""):i.slice(0,t)}var $X=Math.ceil,kX=Math.floor;function PX(t,e,n){t=ut(t),e=Xe(e);var i=e?Wa(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return gf(kX(r),n)+t+gf($X(r),n)}function QX(t,e,n){t=ut(t),e=Xe(e);var i=e?Wa(t):0;return e&&i<e?t+gf(e-i,n):t}function TX(t,e,n){t=ut(t),e=Xe(e);var i=e?Wa(t):0;return e&&i<e?gf(e-i,n)+t:t}var AX=/^\s+/,CX=Gt.parseInt;function RX(t,e,n){return n||e==null?e=0:e&&(e=+e),CX(ut(t).replace(AX,""),e||0)}var EX=32,Dh=Ne(function(t,e){var n=vs(e,Ea(Dh));return Xr(t,EX,void 0,e,n)});Dh.placeholder={};var qX=64,UO=Ne(function(t,e){var n=vs(e,Ea(UO));return Xr(t,qX,void 0,e,n)});UO.placeholder={};var MX=Th(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function ZX(t,e){return V$(t,e,function(n,i){return PO(t,i)})}var DX=zr(function(t,e){return t==null?{}:ZX(t,e)});function jX(t){for(var e,n=this;n instanceof vh;){var i=iS(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function WX(t){return function(e){return t==null?void 0:_o(t,e)}}function BX(t,e,n,i){for(var r=n-1,s=t.length;++r<s;)if(i(t[r],e))return r;return-1}var IX=Array.prototype,ty=IX.splice;function VO(t,e,n,i){var r=i?BX:Ra,s=-1,o=e.length,a=t;for(t===e&&(e=Xn(e)),n&&(a=Et(t,li(n)));++s<o;)for(var l=0,c=e[s],u=n?n(c):c;(l=r(a,u,l,i))>-1;)a!==t&&ty.call(a,l,1),ty.call(t,l,1);return t}function ek(t,e){return t&&t.length&&e&&e.length?VO(t,e):t}var XX=Ne(ek);function UX(t,e,n){return t&&t.length&&e&&e.length?VO(t,e,je(n)):t}function VX(t,e,n){return t&&t.length&&e&&e.length?VO(t,e,void 0,n):t}var LX=Array.prototype,zX=LX.splice;function tk(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==s){var s=r;Ir(r)?zX.call(t,r,1):IO(t,r)}}return t}var YX=zr(function(t,e){var n=t==null?0:t.length,i=hO(t,e);return tk(t,Et(e,function(r){return Ir(r,n)?+r:r}).sort(z$)),i}),NX=Math.floor,FX=Math.random;function LO(t,e){return t+NX(FX()*(e-t+1))}var GX=parseFloat,HX=Math.min,KX=Math.random;function JX(t,e,n){if(n&&typeof n!="boolean"&&Tn(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=kr(t),e===void 0?(e=t,t=0):e=kr(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=KX();return HX(t+r*(e-t+GX("1e-"+((r+"").length-1))),e)}return LO(t,e)}var eU=Math.ceil,tU=Math.max;function nU(t,e,n,i){for(var r=-1,s=tU(eU((e-t)/(n||1)),0),o=Array(s);s--;)o[i?s:++r]=t,t+=n;return o}function nk(t){return function(e,n,i){return i&&typeof i!="number"&&Tn(e,n,i)&&(n=i=void 0),e=kr(e),n===void 0?(n=e,e=0):n=kr(n),i=i===void 0?e<n?1:-1:kr(i),nU(e,n,i,t)}}var iU=nk(),rU=nk(!0),sU=256,oU=zr(function(t,e){return Xr(t,sU,void 0,void 0,void 0,e)});function ik(t,e,n,i,r){return r(t,function(s,o,a){n=i?(i=!1,s):e(n,s,o,a)}),n}function aU(t,e,n){var i=Ie(t)?mO:ik,r=arguments.length<3;return i(t,je(e),n,r,Cs)}function lU(t,e,n,i){var r=t==null?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function uU(t,e,n){var i=Ie(t)?lU:ik,r=arguments.length<3;return i(t,je(e),n,r,y$)}function cU(t,e){var n=Ie(t)?As:P$;return n(t,Ru(je(e)))}function fU(t,e){var n=[];if(!(t&&t.length))return n;var i=-1,r=[],s=t.length;for(e=je(e);++i<s;){var o=t[i];e(o,i,t)&&(n.push(o),r.push(i))}return tk(t,r),n}function hU(t,e,n){return(n?Tn(t,e,n):e===void 0)?e=1:e=Xe(e),wg(ut(t),e)}function dU(){var t=arguments,e=ut(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var pU="Expected a function";function gU(t,e){if(typeof t!="function")throw new TypeError(pU);return e=e===void 0?e:Xe(e),Ne(t,e)}function mU(t,e,n){e=Ps(e,t);var i=-1,r=e.length;for(r||(r=1,t=void 0);++i<r;){var s=t==null?void 0:t[dr(e[i])];s===void 0&&(i=r,s=n),t=Br(s)?s.call(t):s}return t}var OU=Array.prototype,vU=OU.reverse;function $g(t){return t==null?t:vU.call(t)}var bU=vO("round");function rk(t){var e=t.length;return e?t[LO(0,e-1)]:void 0}function yU(t){return rk(ja(t))}function _U(t){var e=Ie(t)?rk:yU;return e(t)}function jh(t,e){var n=-1,i=t.length,r=i-1;for(e=e===void 0?i:e;++n<e;){var s=LO(n,r),o=t[s];t[s]=t[n],t[n]=o}return t.length=e,t}function wU(t,e){return jh(Xn(t),wo(e,0,t.length))}function xU(t,e){var n=ja(t);return jh(n,wo(e,0,n.length))}function SU(t,e,n){(n?Tn(t,e,n):e===void 0)?e=1:e=Xe(e);var i=Ie(t)?wU:xU;return i(t,e)}function $U(t,e,n){return t==null?t:Eu(t,e,n)}function kU(t,e,n,i){return i=typeof i=="function"?i:void 0,t==null?t:Eu(t,e,n,i)}function PU(t){return jh(Xn(t))}function QU(t){return jh(ja(t))}function TU(t){var e=Ie(t)?PU:QU;return e(t)}var AU="[object Map]",CU="[object Set]";function RU(t){if(t==null)return 0;if(Ln(t))return Mh(t)?Wa(t):t.length;var e=mn(t);return e==AU||e==CU?t.size:uO(t).length}function EU(t,e,n){var i=t==null?0:t.length;return i?(n&&typeof n!="number"&&Tn(t,e,n)?(e=0,n=i):(e=e==null?0:Xe(e),n=n===void 0?i:Xe(n)),Si(t,e,n)):[]}var qU=Da(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function MU(t,e){var n;return Cs(t,function(i,r,s){return n=e(i,r,s),!n}),!!n}function ZU(t,e,n){var i=Ie(t)?xO:MU;return n&&Tn(t,e,n)&&(e=void 0),i(t,je(e))}var DU=Ne(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Tn(t,e[0],e[1])?e=[]:n>2&&Tn(e[0],e[1],e[2])&&(e=[e[0]]),Y$(t,cn(e,1),[])}),jU=4294967295,WU=jU-1,BU=Math.floor,IU=Math.min;function zO(t,e,n,i){var r=0,s=t==null?0:t.length;if(s===0)return 0;e=n(e);for(var o=e!==e,a=e===null,l=si(e),c=e===void 0;r<s;){var u=BU((r+s)/2),f=n(t[u]),h=f!==void 0,d=f===null,p=f===f,m=si(f);if(o)var O=i||p;else c?O=p&&(i||h):a?O=p&&h&&(i||!d):l?O=p&&h&&!d&&(i||!m):d||m?O=!1:O=i?f<=e:f<e;O?r=u+1:s=u}return IU(s,WU)}var XU=4294967295,UU=XU>>>1;function Wh(t,e,n){var i=0,r=t==null?i:t.length;if(typeof e=="number"&&e===e&&r<=UU){for(;i<r;){var s=i+r>>>1,o=t[s];o!==null&&!si(o)&&(n?o<=e:o<e)?i=s+1:r=s}return r}return zO(t,e,Rn,n)}function VU(t,e){return Wh(t,e)}function LU(t,e,n){return zO(t,e,je(n))}function zU(t,e){var n=t==null?0:t.length;if(n){var i=Wh(t,e);if(i<n&&Vi(t[i],e))return i}return-1}function YU(t,e){return Wh(t,e,!0)}function NU(t,e,n){return zO(t,e,je(n),!0)}function FU(t,e){var n=t==null?0:t.length;if(n){var i=Wh(t,e,!0)-1;if(Vi(t[i],e))return i}return-1}function sk(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var o=t[n],a=e?e(o):o;if(!n||!Vi(a,l)){var l=a;s[r++]=o===0?0:o}}return s}function GU(t){return t&&t.length?sk(t):[]}function HU(t,e){return t&&t.length?sk(t,je(e)):[]}var KU=4294967295;function JU(t,e,n){return n&&typeof n!="number"&&Tn(t,e,n)&&(e=n=void 0),n=n===void 0?KU:n>>>0,n?(t=ut(t),t&&(typeof e=="string"||e!=null&&!jO(e))&&(e=oi(e),!e&&Za(t))?Ts(Wi(t),0,n):t.split(e,n)):[]}var eV="Expected a function",tV=Math.max;function nV(t,e){if(typeof t!="function")throw new TypeError(eV);return e=e==null?0:tV(Xe(e),0),Ne(function(n){var i=n[e],r=Ts(n,0,e);return i&&Qs(r,i),ai(t,this,r)})}var iV=Da(function(t,e,n){return t+(n?" ":"")+gO(e)});function rV(t,e,n){return t=ut(t),n=n==null?0:wo(Xe(n),0,t.length),e=oi(e),t.slice(n,n+e.length)==e}function sV(){return{}}function oV(){return""}function aV(){return!0}var lV=Oh(function(t,e){return t-e},0);function uV(t){return t&&t.length?BO(t,Rn):0}function cV(t,e){return t&&t.length?BO(t,je(e)):0}function fV(t){var e=t==null?0:t.length;return e?Si(t,1,e):[]}function hV(t,e,n){return t&&t.length?(e=n||e===void 0?1:Xe(e),Si(t,0,e<0?0:e)):[]}function dV(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:Xe(e),e=i-e,Si(t,e<0?0:e,i)):[]}function pV(t,e){return t&&t.length?Ch(t,je(e),!1,!0):[]}function gV(t,e){return t&&t.length?Ch(t,je(e)):[]}function mV(t,e){return e(t),t}var ok=Object.prototype,OV=ok.hasOwnProperty;function ny(t,e,n,i){return t===void 0||Vi(t,ok[n])&&!OV.call(i,n)?e:t}var vV={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function bV(t){return"\\"+vV[t]}var ak=/<%=([\s\S]+?)%>/g,yV=/<%-([\s\S]+?)%>/g,_V=/<%([\s\S]+?)%>/g,kg={escape:yV,evaluate:_V,interpolate:ak,variable:"",imports:{_:{escape:x$}}},wV="Invalid `variable` option passed into `_.template`",xV=/\b__p \+= '';/g,SV=/\b(__p \+=) '' \+/g,$V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kV=/[()=,{}\[\]\/\s]/,PV=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cc=/($^)/,QV=/['\n\r\u2028\u2029\\]/g,TV=Object.prototype,iy=TV.hasOwnProperty;function AV(t,e,n){var i=kg.imports._.templateSettings||kg;n&&Tn(t,e,n)&&(e=void 0),t=ut(t),e=df({},e,i,ny);var r=df({},e.imports,i.imports,ny),s=Ft(r),o=MO(r,s),a,l,c=0,u=e.interpolate||cc,f="__p += '",h=RegExp((e.escape||cc).source+"|"+u.source+"|"+(u===ak?PV:cc).source+"|"+(e.evaluate||cc).source+"|$","g"),d=iy.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(h,function(O,v,b,S,y,w){return b||(b=S),f+=t.slice(c,w).replace(QV,bV),v&&(a=!0,f+=`' +
__e(`+v+`) +
'`),y&&(l=!0,f+=`';
`+y+`;
__p += '`),b&&(f+=`' +
((__t = (`+b+`)) == null ? '' : __t) +
'`),c=w+O.length,O}),f+=`';
`;var p=iy.call(e,"variable")&&e.variable;if(!p)f=`with (obj) {
`+f+`
}
`;else if(kV.test(p))throw new Error(wV);f=(l?f.replace(xV,""):f).replace(SV,"$1").replace($V,"$1;"),f="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var m=bS(function(){return Function(s,d+"return "+f).apply(void 0,o)});if(m.source=f,dO(m))throw m;return m}var CV="Expected a function";function RV(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(CV);return qt(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),d$(t,e,{leading:i,maxWait:e,trailing:r})}function qu(t,e){return e(t)}var EV=9007199254740991,Bd=4294967295,qV=Math.min;function MV(t,e){if(t=Xe(t),t<1||t>EV)return[];var n=Bd,i=qV(t,Bd);e=gr(e),t-=Bd;for(var r=aO(i,e);++n<t;)e(n);return r}function ZV(){return this}function lk(t,e){var n=t;return n instanceof Ke&&(n=n.value()),mO(e,function(i,r){return r.func.apply(r.thisArg,Qs([i],r.args))},n)}function Id(){return lk(this.__wrapped__,this.__actions__)}function DV(t){return ut(t).toLowerCase()}function jV(t){return Ie(t)?Et(t,dr):si(t)?[t]:Xn(mS(ut(t)))}var ry=9007199254740991;function WV(t){return t?wo(Xe(t),-ry,ry):t===0?t:0}function BV(t){return ut(t).toUpperCase()}function IV(t,e,n){var i=Ie(t),r=i||bs(t)||Ma(t);if(e=je(e),n==null){var s=t&&t.constructor;r?n=i?new s:[]:qt(t)?n=Br(s)?Ca(kh(t)):{}:n={}}return(r?Ai:pr)(t,function(o,a,l){return e(n,o,a,l)}),n}function uk(t,e){for(var n=t.length;n--&&Ra(e,t[n],0)>-1;);return n}function ck(t,e){for(var n=-1,i=t.length;++n<i&&Ra(e,t[n],0)>-1;);return n}function XV(t,e,n){if(t=ut(t),t&&(n||e===void 0))return Kx(t);if(!t||!(e=oi(e)))return t;var i=Wi(t),r=Wi(e),s=ck(i,r),o=uk(i,r)+1;return Ts(i,s,o).join("")}function UV(t,e,n){if(t=ut(t),t&&(n||e===void 0))return t.slice(0,Hx(t)+1);if(!t||!(e=oi(e)))return t;var i=Wi(t),r=uk(i,Wi(e))+1;return Ts(i,0,r).join("")}var VV=/^\s+/;function LV(t,e,n){if(t=ut(t),t&&(n||e===void 0))return t.replace(VV,"");if(!t||!(e=oi(e)))return t;var i=Wi(t),r=ck(i,Wi(e));return Ts(i,r).join("")}var zV=30,YV="...",NV=/\w*$/;function FV(t,e){var n=zV,i=YV;if(qt(e)){var r="separator"in e?e.separator:r;n="length"in e?Xe(e.length):n,i="omission"in e?oi(e.omission):i}t=ut(t);var s=t.length;if(Za(t)){var o=Wi(t);s=o.length}if(n>=s)return t;var a=n-Wa(i);if(a<1)return i;var l=o?Ts(o,0,a).join(""):t.slice(0,a);if(r===void 0)return l+i;if(o&&(a+=l.length-a),jO(r)){if(t.slice(a).search(r)){var c,u=l;for(r.global||(r=RegExp(r.source,ut(NV.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var f=c.index;l=l.slice(0,f===void 0?a:f)}}else if(t.indexOf(oi(r),a)!=a){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function GV(t){return uS(t,1)}var HV={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},KV=OO(HV),fk=/&(?:amp|lt|gt|quot|#39);/g,JV=RegExp(fk.source);function eL(t){return t=ut(t),t&&JV.test(t)?t.replace(fk,KV):t}var tL=1/0,nL=No&&1/Qh(new No([,-0]))[1]==tL?function(t){return new No(t)}:iO,iL=200;function ys(t,e,n){var i=-1,r=yh,s=t.length,o=!0,a=[],l=a;if(n)o=!1,r=RO;else if(s>=iL){var c=e?null:nL(t);if(c)return Qh(c);o=!1,r=zl,l=new so}else l=e?[]:a;e:for(;++i<s;){var u=t[i],f=e?e(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(u)}else r(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}var rL=Ne(function(t){return ys(cn(t,1,It,!0))}),sL=Ne(function(t){var e=ui(t);return It(e)&&(e=void 0),ys(cn(t,1,It,!0),je(e))}),oL=Ne(function(t){var e=ui(t);return e=typeof e=="function"?e:void 0,ys(cn(t,1,It,!0),void 0,e)});function aL(t){return t&&t.length?ys(t):[]}function lL(t,e){return t&&t.length?ys(t,je(e)):[]}function uL(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?ys(t,void 0,e):[]}var cL=0;function fL(t){var e=++cL;return ut(t)+e}function hL(t,e){return t==null?!0:IO(t,e)}var dL=Math.max;function YO(t){if(!(t&&t.length))return[];var e=0;return t=As(t,function(n){if(It(n))return e=dL(n.length,e),!0}),aO(e,function(n){return Et(t,QO(n))})}function hk(t,e){if(!(t&&t.length))return[];var n=YO(t);return e==null?n:Et(n,function(i){return ai(e,void 0,i)})}function dk(t,e,n,i){return Eu(t,e,n(_o(t,e)),i)}function pL(t,e,n){return t==null?t:dk(t,e,gr(n))}function gL(t,e,n,i){return i=typeof i=="function"?i:void 0,t==null?t:dk(t,e,gr(n),i)}var mL=Da(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});function OL(t){return t==null?[]:MO(t,zn(t))}var vL=Ne(function(t,e){return It(t)?Au(t,e):[]});function bL(t,e){return Dh(gr(e),t)}var yL=zr(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(s){return hO(s,t)};return e>1||this.__actions__.length||!(i instanceof Ke)||!Ir(n)?this.thru(r):(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:qu,args:[r],thisArg:void 0}),new wi(i,this.__chain__).thru(function(s){return e&&!s.length&&s.push(void 0),s}))});function _L(){return VS(this)}function wL(){var t=this.__wrapped__;if(t instanceof Ke){var e=t;return this.__actions__.length&&(e=new Ke(this)),e=e.reverse(),e.__actions__.push({func:qu,args:[$g],thisArg:void 0}),new wi(e,this.__chain__)}return this.thru($g)}function NO(t,e,n){var i=t.length;if(i<2)return i?ys(t[0]):[];for(var r=-1,s=Array(i);++r<i;)for(var o=t[r],a=-1;++a<i;)a!=r&&(s[r]=Au(s[r]||o,t[a],e,n));return ys(cn(s,1),e,n)}var xL=Ne(function(t){return NO(As(t,It))}),SL=Ne(function(t){var e=ui(t);return It(e)&&(e=void 0),NO(As(t,It),je(e))}),$L=Ne(function(t){var e=ui(t);return e=typeof e=="function"?e:void 0,NO(As(t,It),void 0,e)}),kL=Ne(YO);function pk(t,e,n){for(var i=-1,r=t.length,s=e.length,o={};++i<r;){var a=i<s?e[i]:void 0;n(o,t[i],a)}return o}function PL(t,e){return pk(t||[],e||[],ku)}function QL(t,e){return pk(t||[],e||[],Eu)}var TL=Ne(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,hk(t,n)});const ke={chunk:lZ,compact:XD,concat:UD,difference:Nj,differenceBy:Fj,differenceWith:Gj,drop:Kj,dropRight:Jj,dropRightWhile:eW,dropWhile:tW,fill:OW,findIndex:T$,findLastIndex:R$,first:Fb,flatten:OS,flattenDeep:AW,flattenDepth:CW,fromPairs:zW,head:Fb,indexOf:hB,initial:dB,intersection:gB,intersectionBy:mB,intersectionWith:OB,join:hI,last:ui,lastIndexOf:vI,nth:LI,pull:XX,pullAll:ek,pullAllBy:UX,pullAllWith:VX,pullAt:YX,remove:fU,reverse:$g,slice:EU,sortedIndex:VU,sortedIndexBy:LU,sortedIndexOf:zU,sortedLastIndex:YU,sortedLastIndexBy:NU,sortedLastIndexOf:FU,sortedUniq:GU,sortedUniqBy:HU,tail:fV,take:hV,takeRight:dV,takeRightWhile:pV,takeWhile:gV,union:rL,unionBy:sL,unionWith:oL,uniq:aL,uniqBy:lL,uniqWith:uL,unzip:YO,unzipWith:hk,without:vL,xor:xL,xorBy:SL,xorWith:$L,zip:kL,zipObject:PL,zipObjectDeep:QL,zipWith:TL},pt={countBy:Rj,each:Lb,eachRight:zb,every:pW,filter:vW,find:A$,findLast:xW,flatMap:$W,flatMapDeep:PW,flatMapDepth:QW,forEach:Lb,forEachRight:zb,groupBy:HW,includes:cB,invokeMap:kB,keyBy:pI,map:Rh,orderBy:nX,partition:MX,reduce:aU,reduceRight:uU,reject:cU,sample:_U,sampleSize:SU,shuffle:TU,size:RU,some:ZU,sortBy:DU},AL={now:Ic},jt={after:V3,ary:uS,before:yS,bind:Ph,bindKey:pO,curry:AO,curryRight:CO,debounce:d$,defer:Lj,delay:zj,flip:EW,memoize:$h,negate:Ru,once:JI,overArgs:oX,partial:Dh,partialRight:UO,rearg:oU,rest:gU,spread:nV,throttle:RV,unary:GV,wrap:bL},Ee={castArray:nZ,clone:ED,cloneDeep:gt,cloneDeepWith:jD,cloneWith:BD,conformsTo:Pj,eq:Vi,gt:KW,gte:JW,isArguments:io,isArray:Ie,isArrayBuffer:TB,isArrayLike:Ln,isArrayLikeObject:It,isBoolean:CB,isBuffer:bs,isDate:qB,isElement:MB,isEmpty:BB,isEqual:IB,isEqualWith:XB,isError:dO,isFinite:VB,isFunction:Br,isInteger:j$,isLength:wh,isMap:KS,isMatch:LB,isMatchWith:zB,isNaN:NB,isNative:HB,isNil:KB,isNull:JB,isNumber:W$,isObject:qt,isObjectLike:Zt,isPlainObject:Qu,isRegExp:jO,isSafeInteger:nI,isSet:JS,isString:Mh,isSymbol:si,isTypedArray:Ma,isUndefined:iI,isWeakMap:sI,isWeakSet:aI,lt:_I,lte:wI,toArray:X$,toFinite:kr,toInteger:Xe,toLength:k$,toNumber:mi,toPlainObject:g$,toSafeInteger:WV,toString:ut},En={add:M3,ceil:sZ,divide:Hj,floor:qW,max:TI,maxBy:AI,mean:RI,meanBy:EI,min:DI,minBy:jI,multiply:WI,round:bU,subtract:lV,sum:uV,sumBy:cV},FO={clamp:uZ,inRange:aB,random:JX},Ze={assign:Fq,assignIn:wb,assignInWith:df,assignWith:e5,at:q5,create:Ej,defaults:Ij,defaultsDeep:Uj,entries:Yb,entriesIn:Nb,extend:wb,extendWith:df,findKey:yW,findLastKey:SW,forIn:XW,forInRight:UW,forOwn:VW,forOwnRight:LW,functions:YW,functionsIn:NW,get:fO,has:iB,hasIn:PO,invert:_B,invertBy:SB,invoke:$B,keys:Ft,keysIn:zn,mapKeys:xI,mapValues:SI,merge:qI,mergeWith:O$,omit:HI,omitBy:KI,pick:DX,pickBy:L$,result:mU,set:$U,setWith:kU,toPairs:Yb,toPairsIn:Nb,transform:IV,unset:hL,update:pL,updateWith:gL,values:ja,valuesIn:OL},mr={at:yL,chain:VS,commit:ID,lodash:_,next:VI,plant:jX,reverse:wL,tap:mV,thru:qu,toIterator:ZV,toJSON:Id,value:Id,valueOf:Id,wrapperChain:_L},lt={camelCase:tZ,capitalize:QS,deburr:TS,endsWith:iW,escape:x$,escapeRegExp:hW,kebabCase:dI,lowerCase:bI,lowerFirst:yI,pad:PX,padEnd:QX,padStart:TX,parseInt:RX,repeat:hU,replace:dU,snakeCase:qU,split:JU,startCase:iV,startsWith:rV,template:AV,templateSettings:kg,toLower:DV,toUpper:BV,trim:XV,trimEnd:UV,trimStart:LV,truncate:FV,unescape:eL,upperCase:mL,upperFirst:gO,words:US},ct={attempt:bS,bindAll:L5,cond:xj,conforms:kj,constant:sO,defaultTo:Wj,flow:BW,flowRight:IW,identity:Rn,iteratee:uI,matches:kI,matchesProperty:QI,method:MI,methodOf:ZI,mixin:I$,noop:iO,nthArg:zI,over:iX,overEvery:aX,overSome:lX,property:u$,propertyOf:WX,range:iU,rangeRight:rU,stubArray:bO,stubFalse:lO,stubObject:sV,stubString:oV,stubTrue:aV,times:MV,toPath:jV,uniqueId:fL};function CL(){var t=new Ke(this.__wrapped__);return t.__actions__=Xn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Xn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Xn(this.__views__),t}function RL(){if(this.__filtered__){var t=new Ke(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var EL=Math.max,qL=Math.min;function ML(t,e,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=qL(e,t+o);break;case"takeRight":t=EL(t,e-o);break}}return{start:t,end:e}}var ZL=1,DL=2,jL=Math.min;function WL(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ie(t),i=e<0,r=n?t.length:0,s=ML(0,r,this.__views__),o=s.start,a=s.end,l=a-o,c=i?a:o-1,u=this.__iteratees__,f=u.length,h=0,d=jL(l,this.__takeCount__);if(!n||!i&&r==l&&d==l)return lk(t,this.__actions__);var p=[];e:for(;l--&&h<d;){c+=e;for(var m=-1,O=t[c];++m<f;){var v=u[m],b=v.iteratee,S=v.type,y=b(O);if(S==DL)O=y;else if(!y){if(S==ZL)continue e;break e}}p[h++]=O}return p}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var BL="4.17.21",IL=2,XL=1,UL=3,gk=4294967295,VL=Array.prototype,LL=Object.prototype,mk=LL.hasOwnProperty,sy=_n?_n.iterator:void 0,zL=Math.max,oy=Math.min,GO=function(t){return function(e,n,i){if(i==null){var r=qt(n),s=r&&Ft(n),o=s&&s.length&&Eh(n,s);(o?o.length:r)||(i=n,n=e,e=this)}return t(e,n,i)}}(I$);_.after=jt.after;_.ary=jt.ary;_.assign=Ze.assign;_.assignIn=Ze.assignIn;_.assignInWith=Ze.assignInWith;_.assignWith=Ze.assignWith;_.at=Ze.at;_.before=jt.before;_.bind=jt.bind;_.bindAll=ct.bindAll;_.bindKey=jt.bindKey;_.castArray=Ee.castArray;_.chain=mr.chain;_.chunk=ke.chunk;_.compact=ke.compact;_.concat=ke.concat;_.cond=ct.cond;_.conforms=ct.conforms;_.constant=ct.constant;_.countBy=pt.countBy;_.create=Ze.create;_.curry=jt.curry;_.curryRight=jt.curryRight;_.debounce=jt.debounce;_.defaults=Ze.defaults;_.defaultsDeep=Ze.defaultsDeep;_.defer=jt.defer;_.delay=jt.delay;_.difference=ke.difference;_.differenceBy=ke.differenceBy;_.differenceWith=ke.differenceWith;_.drop=ke.drop;_.dropRight=ke.dropRight;_.dropRightWhile=ke.dropRightWhile;_.dropWhile=ke.dropWhile;_.fill=ke.fill;_.filter=pt.filter;_.flatMap=pt.flatMap;_.flatMapDeep=pt.flatMapDeep;_.flatMapDepth=pt.flatMapDepth;_.flatten=ke.flatten;_.flattenDeep=ke.flattenDeep;_.flattenDepth=ke.flattenDepth;_.flip=jt.flip;_.flow=ct.flow;_.flowRight=ct.flowRight;_.fromPairs=ke.fromPairs;_.functions=Ze.functions;_.functionsIn=Ze.functionsIn;_.groupBy=pt.groupBy;_.initial=ke.initial;_.intersection=ke.intersection;_.intersectionBy=ke.intersectionBy;_.intersectionWith=ke.intersectionWith;_.invert=Ze.invert;_.invertBy=Ze.invertBy;_.invokeMap=pt.invokeMap;_.iteratee=ct.iteratee;_.keyBy=pt.keyBy;_.keys=Ft;_.keysIn=Ze.keysIn;_.map=pt.map;_.mapKeys=Ze.mapKeys;_.mapValues=Ze.mapValues;_.matches=ct.matches;_.matchesProperty=ct.matchesProperty;_.memoize=jt.memoize;_.merge=Ze.merge;_.mergeWith=Ze.mergeWith;_.method=ct.method;_.methodOf=ct.methodOf;_.mixin=GO;_.negate=Ru;_.nthArg=ct.nthArg;_.omit=Ze.omit;_.omitBy=Ze.omitBy;_.once=jt.once;_.orderBy=pt.orderBy;_.over=ct.over;_.overArgs=jt.overArgs;_.overEvery=ct.overEvery;_.overSome=ct.overSome;_.partial=jt.partial;_.partialRight=jt.partialRight;_.partition=pt.partition;_.pick=Ze.pick;_.pickBy=Ze.pickBy;_.property=ct.property;_.propertyOf=ct.propertyOf;_.pull=ke.pull;_.pullAll=ke.pullAll;_.pullAllBy=ke.pullAllBy;_.pullAllWith=ke.pullAllWith;_.pullAt=ke.pullAt;_.range=ct.range;_.rangeRight=ct.rangeRight;_.rearg=jt.rearg;_.reject=pt.reject;_.remove=ke.remove;_.rest=jt.rest;_.reverse=ke.reverse;_.sampleSize=pt.sampleSize;_.set=Ze.set;_.setWith=Ze.setWith;_.shuffle=pt.shuffle;_.slice=ke.slice;_.sortBy=pt.sortBy;_.sortedUniq=ke.sortedUniq;_.sortedUniqBy=ke.sortedUniqBy;_.split=lt.split;_.spread=jt.spread;_.tail=ke.tail;_.take=ke.take;_.takeRight=ke.takeRight;_.takeRightWhile=ke.takeRightWhile;_.takeWhile=ke.takeWhile;_.tap=mr.tap;_.throttle=jt.throttle;_.thru=qu;_.toArray=Ee.toArray;_.toPairs=Ze.toPairs;_.toPairsIn=Ze.toPairsIn;_.toPath=ct.toPath;_.toPlainObject=Ee.toPlainObject;_.transform=Ze.transform;_.unary=jt.unary;_.union=ke.union;_.unionBy=ke.unionBy;_.unionWith=ke.unionWith;_.uniq=ke.uniq;_.uniqBy=ke.uniqBy;_.uniqWith=ke.uniqWith;_.unset=Ze.unset;_.unzip=ke.unzip;_.unzipWith=ke.unzipWith;_.update=Ze.update;_.updateWith=Ze.updateWith;_.values=Ze.values;_.valuesIn=Ze.valuesIn;_.without=ke.without;_.words=lt.words;_.wrap=jt.wrap;_.xor=ke.xor;_.xorBy=ke.xorBy;_.xorWith=ke.xorWith;_.zip=ke.zip;_.zipObject=ke.zipObject;_.zipObjectDeep=ke.zipObjectDeep;_.zipWith=ke.zipWith;_.entries=Ze.toPairs;_.entriesIn=Ze.toPairsIn;_.extend=Ze.assignIn;_.extendWith=Ze.assignInWith;GO(_,_);_.add=En.add;_.attempt=ct.attempt;_.camelCase=lt.camelCase;_.capitalize=lt.capitalize;_.ceil=En.ceil;_.clamp=FO.clamp;_.clone=Ee.clone;_.cloneDeep=Ee.cloneDeep;_.cloneDeepWith=Ee.cloneDeepWith;_.cloneWith=Ee.cloneWith;_.conformsTo=Ee.conformsTo;_.deburr=lt.deburr;_.defaultTo=ct.defaultTo;_.divide=En.divide;_.endsWith=lt.endsWith;_.eq=Ee.eq;_.escape=lt.escape;_.escapeRegExp=lt.escapeRegExp;_.every=pt.every;_.find=pt.find;_.findIndex=ke.findIndex;_.findKey=Ze.findKey;_.findLast=pt.findLast;_.findLastIndex=ke.findLastIndex;_.findLastKey=Ze.findLastKey;_.floor=En.floor;_.forEach=pt.forEach;_.forEachRight=pt.forEachRight;_.forIn=Ze.forIn;_.forInRight=Ze.forInRight;_.forOwn=Ze.forOwn;_.forOwnRight=Ze.forOwnRight;_.get=Ze.get;_.gt=Ee.gt;_.gte=Ee.gte;_.has=Ze.has;_.hasIn=Ze.hasIn;_.head=ke.head;_.identity=Rn;_.includes=pt.includes;_.indexOf=ke.indexOf;_.inRange=FO.inRange;_.invoke=Ze.invoke;_.isArguments=Ee.isArguments;_.isArray=Ie;_.isArrayBuffer=Ee.isArrayBuffer;_.isArrayLike=Ee.isArrayLike;_.isArrayLikeObject=Ee.isArrayLikeObject;_.isBoolean=Ee.isBoolean;_.isBuffer=Ee.isBuffer;_.isDate=Ee.isDate;_.isElement=Ee.isElement;_.isEmpty=Ee.isEmpty;_.isEqual=Ee.isEqual;_.isEqualWith=Ee.isEqualWith;_.isError=Ee.isError;_.isFinite=Ee.isFinite;_.isFunction=Ee.isFunction;_.isInteger=Ee.isInteger;_.isLength=Ee.isLength;_.isMap=Ee.isMap;_.isMatch=Ee.isMatch;_.isMatchWith=Ee.isMatchWith;_.isNaN=Ee.isNaN;_.isNative=Ee.isNative;_.isNil=Ee.isNil;_.isNull=Ee.isNull;_.isNumber=Ee.isNumber;_.isObject=qt;_.isObjectLike=Ee.isObjectLike;_.isPlainObject=Ee.isPlainObject;_.isRegExp=Ee.isRegExp;_.isSafeInteger=Ee.isSafeInteger;_.isSet=Ee.isSet;_.isString=Ee.isString;_.isSymbol=Ee.isSymbol;_.isTypedArray=Ee.isTypedArray;_.isUndefined=Ee.isUndefined;_.isWeakMap=Ee.isWeakMap;_.isWeakSet=Ee.isWeakSet;_.join=ke.join;_.kebabCase=lt.kebabCase;_.last=ui;_.lastIndexOf=ke.lastIndexOf;_.lowerCase=lt.lowerCase;_.lowerFirst=lt.lowerFirst;_.lt=Ee.lt;_.lte=Ee.lte;_.max=En.max;_.maxBy=En.maxBy;_.mean=En.mean;_.meanBy=En.meanBy;_.min=En.min;_.minBy=En.minBy;_.stubArray=ct.stubArray;_.stubFalse=ct.stubFalse;_.stubObject=ct.stubObject;_.stubString=ct.stubString;_.stubTrue=ct.stubTrue;_.multiply=En.multiply;_.nth=ke.nth;_.noop=ct.noop;_.now=AL.now;_.pad=lt.pad;_.padEnd=lt.padEnd;_.padStart=lt.padStart;_.parseInt=lt.parseInt;_.random=FO.random;_.reduce=pt.reduce;_.reduceRight=pt.reduceRight;_.repeat=lt.repeat;_.replace=lt.replace;_.result=Ze.result;_.round=En.round;_.sample=pt.sample;_.size=pt.size;_.snakeCase=lt.snakeCase;_.some=pt.some;_.sortedIndex=ke.sortedIndex;_.sortedIndexBy=ke.sortedIndexBy;_.sortedIndexOf=ke.sortedIndexOf;_.sortedLastIndex=ke.sortedLastIndex;_.sortedLastIndexBy=ke.sortedLastIndexBy;_.sortedLastIndexOf=ke.sortedLastIndexOf;_.startCase=lt.startCase;_.startsWith=lt.startsWith;_.subtract=En.subtract;_.sum=En.sum;_.sumBy=En.sumBy;_.template=lt.template;_.times=ct.times;_.toFinite=Ee.toFinite;_.toInteger=Xe;_.toLength=Ee.toLength;_.toLower=lt.toLower;_.toNumber=Ee.toNumber;_.toSafeInteger=Ee.toSafeInteger;_.toString=Ee.toString;_.toUpper=lt.toUpper;_.trim=lt.trim;_.trimEnd=lt.trimEnd;_.trimStart=lt.trimStart;_.truncate=lt.truncate;_.unescape=lt.unescape;_.uniqueId=ct.uniqueId;_.upperCase=lt.upperCase;_.upperFirst=lt.upperFirst;_.each=pt.forEach;_.eachRight=pt.forEachRight;_.first=ke.head;GO(_,function(){var t={};return pr(_,function(e,n){mk.call(_.prototype,n)||(t[n]=e)}),t}(),{chain:!1});_.VERSION=BL;(_.templateSettings=lt.templateSettings).imports._=_;Ai(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){_[t].placeholder=_});Ai(["drop","take"],function(t,e){Ke.prototype[t]=function(n){n=n===void 0?1:zL(Xe(n),0);var i=this.__filtered__&&!e?new Ke(this):this.clone();return i.__filtered__?i.__takeCount__=oy(n,i.__takeCount__):i.__views__.push({size:oy(n,gk),type:t+(i.__dir__<0?"Right":"")}),i},Ke.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}});Ai(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==XL||n==UL;Ke.prototype[t]=function(r){var s=this.clone();return s.__iteratees__.push({iteratee:je(r),type:n}),s.__filtered__=s.__filtered__||i,s}});Ai(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ke.prototype[t]=function(){return this[n](1).value()[0]}});Ai(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ke.prototype[t]=function(){return this.__filtered__?new Ke(this):this[n](1)}});Ke.prototype.compact=function(){return this.filter(Rn)};Ke.prototype.find=function(t){return this.filter(t).head()};Ke.prototype.findLast=function(t){return this.reverse().find(t)};Ke.prototype.invokeMap=Ne(function(t,e){return typeof t=="function"?new Ke(this):this.map(function(n){return Cu(n,t,e)})});Ke.prototype.reject=function(t){return this.filter(Ru(je(t)))};Ke.prototype.slice=function(t,e){t=Xe(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Ke(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(e=Xe(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)};Ke.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};Ke.prototype.toArray=function(){return this.take(gk)};pr(Ke.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=_[i?"take"+(e=="last"?"Right":""):e],s=i||/^find/.test(e);r&&(_.prototype[e]=function(){var o=this.__wrapped__,a=i?[1]:arguments,l=o instanceof Ke,c=a[0],u=l||Ie(o),f=function(v){var b=r.apply(_,Qs([v],a));return i&&h?b[0]:b};u&&n&&typeof c=="function"&&c.length!=1&&(l=u=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,m=l&&!d;if(!s&&u){o=m?o:new Ke(this);var O=t.apply(o,a);return O.__actions__.push({func:qu,args:[f],thisArg:void 0}),new wi(O,h)}return p&&m?t.apply(this,a):(O=this.thru(f),p?i?O.value()[0]:O.value():O)})});Ai(["pop","push","shift","sort","splice","unshift"],function(t){var e=VL[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);_.prototype[t]=function(){var r=arguments;if(i&&!this.__chain__){var s=this.value();return e.apply(Ie(s)?s:[],r)}return this[n](function(o){return e.apply(Ie(o)?o:[],r)})}});pr(Ke.prototype,function(t,e){var n=_[e];if(n){var i=n.name+"";mk.call(Yo,i)||(Yo[i]=[]),Yo[i].push({name:e,func:n})}});Yo[_h(void 0,IL).name]=[{name:"wrapper",func:void 0}];Ke.prototype.clone=CL;Ke.prototype.reverse=RL;Ke.prototype.value=WL;_.prototype.at=mr.at;_.prototype.chain=mr.wrapperChain;_.prototype.commit=mr.commit;_.prototype.next=mr.next;_.prototype.plant=mr.plant;_.prototype.reverse=mr.reverse;_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=mr.value;_.prototype.first=_.prototype.head;sy&&(_.prototype[sy]=mr.toIterator);const Pg={};let fc=0;const ca={html:async(t,e)=>await new Promise(n=>{i();async function i(){const r=Pg.html;if(r){const s=await r(t);n(s)}else fc++,fc<100&&setTimeout(i,100)}}),css:async(t,e)=>await new Promise(n=>{i();async function i(){const r=Pg.css;if(r){const s=await r(t);n(s)}else fc++,fc<100&&setTimeout(i,100)}}),js:async(t,e)=>t};function jhe(t){for(const[e,n]of Object.entries(t))Pg[e]=n}var YL=E("<span><!></span>"),NL=E("<span> </span>"),FL=E("<button><!> <!> <!> <!></button>");function Ba(t,e){Se(e,!0);let n=F(e,"variants",3,""),i=F(e,"type",3,"button"),r=F(e,"disabled",3,!1),s=F(e,"loading",3,!1),o=F(e,"arrow",3,!1);var a=FL();a.__click=function(...h){var d;(d=e.onclick)==null||d.apply(this,h)};var l=Q(a);J(l,s,h=>{var d=be(),p=he(d);Be(p,()=>nt.Spinner,(m,O)=>{O(m,{})}),T(h,d)});var c=B(l,2);J(c,()=>e.icon,h=>{var d=YL(),p=Q(d);ge(p,{get icon(){return e.icon}}),$(d),de(()=>Ae(d,"hidden",s())),T(h,d)});var u=B(c,2);J(u,()=>e.children,h=>{var d=be(),p=he(d);$r(p,()=>e.children),T(h,d)},h=>{var d=be(),p=he(d);J(p,()=>e.label,m=>{var O=NL(),v=Q(O,!0);$(O),de(()=>{Ae(O,"hidden",s()),Re(v,e.label)}),T(m,O)},null,!0),T(h,d)});var f=B(u,2);J(f,o,h=>{ge(h,{icon:"ooui:arrow-next-ltr"})}),$(a),de(()=>{Ti(a,`Button ${n()??""} svelte-qn1brq`),Ge(a,"type",i()),a.disabled=r()||s()}),T(t,a),$e()}st(["click"]);var Is,hc,Cl=typeof Map=="function"?new Map:(Is=[],hc=[],{has:function(t){return Is.indexOf(t)>-1},get:function(t){return hc[Is.indexOf(t)]},set:function(t,e){Is.indexOf(t)===-1&&(Is.push(t),hc.push(e))},delete:function(t){var e=Is.indexOf(t);e>-1&&(Is.splice(e,1),hc.splice(e,1))}}),Ok=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch{Ok=function(e){var n=document.createEvent("Event");return n.initEvent(e,!0,!1),n}}function GL(t){var e=Cl.get(t);e&&e.destroy()}function HL(t){var e=Cl.get(t);e&&e.update()}var gl=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((gl=function(t){return t}).destroy=function(t){return t},gl.update=function(t){return t}):((gl=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(n){return function(i){if(i&&i.nodeName&&i.nodeName==="TEXTAREA"&&!Cl.has(i)){var r,s=null,o=null,a=null,l=function(){i.clientWidth!==o&&h()},c=(function(d){window.removeEventListener("resize",l,!1),i.removeEventListener("input",h,!1),i.removeEventListener("keyup",h,!1),i.removeEventListener("autosize:destroy",c,!1),i.removeEventListener("autosize:update",h,!1),Object.keys(d).forEach(function(p){i.style[p]=d[p]}),Cl.delete(i)}).bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",c,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",h,!1),window.addEventListener("resize",l,!1),i.addEventListener("input",h,!1),i.addEventListener("autosize:update",h,!1),i.style.overflowX="hidden",i.style.wordWrap="break-word",Cl.set(i,{destroy:c,update:h}),(r=window.getComputedStyle(i,null)).resize==="vertical"?i.style.resize="none":r.resize==="both"&&(i.style.resize="horizontal"),s=r.boxSizing==="content-box"?-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),isNaN(s)&&(s=0),h()}function u(d){var p=i.style.width;i.style.width="0px",i.style.width=p,i.style.overflowY=d}function f(){if(i.scrollHeight!==0){var d=function(p){for(var m=[];p&&p.parentNode&&p.parentNode instanceof Element;)p.parentNode.scrollTop&&(p.parentNode.style.scrollBehavior="auto",m.push([p.parentNode,p.parentNode.scrollTop])),p=p.parentNode;return function(){return m.forEach(function(O){var v=O[0];v.scrollTop=O[1],v.style.scrollBehavior=null})}}(i);i.style.height="",i.style.height=i.scrollHeight+s+"px",o=i.clientWidth,d()}}function h(){f();var d=Math.round(parseFloat(i.style.height)),p=window.getComputedStyle(i,null),m=p.boxSizing==="content-box"?Math.round(parseFloat(p.height)):i.offsetHeight;if(m<d?p.overflowY==="hidden"&&(u("scroll"),f(),m=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight):p.overflowY!=="hidden"&&(u("hidden"),f(),m=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight),a!==m){a=m;var O=Ok("autosize:resized");try{i.dispatchEvent(O)}catch{}}}}(n)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],GL),t},gl.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],HL),t});var HO=gl,KL=E('<span class="primo--field-label svelte-1eimj56"> </span>'),JL=(t,e)=>{var n;return e("select",{value:(n=t==null?void 0:t.target)==null?void 0:n.value})},e7=E('<option class="svelte-1eimj56"> </option>'),t7=E('<select class="options svelte-1eimj56"></select>'),n7=E('<span class="prefix svelte-1eimj56"> </span>'),i7=({target:t},e,n)=>{e(t.value),console.log({oninput:n()}),n()(e())},r7=E('<textarea rows="1" class="svelte-1eimj56"></textarea>'),s7=({target:t},e,n)=>{e(t.value),n()(e())},o7=({target:t},e,n)=>{e(t.value),n()(e())},a7=E('<input class="svelte-1eimj56">'),l7=E('<button class="svelte-1eimj56"> </button>'),u7=E('<label><!> <div style="display: flex;width: 100%;gap: 0.5rem;"><!> <div class="input-container svelte-1eimj56"><!> <!> <!></div></div></label>');function fa(t,e){Se(e,!0);const n=At();let i=F(e,"id",3,null),r=F(e,"label",3,null),s=F(e,"prefix",3,""),o=F(e,"prefix_icon",3,""),a=F(e,"value",15),l=F(e,"placeholder",3,""),c=F(e,"variants",3,""),u=F(e,"type",3,"text"),f=F(e,"autofocus",3,!1),h=F(e,"selection",15,""),d=F(e,"grow",3,!1),p=F(e,"disabled",3,!1),m=F(e,"options",19,()=>[]),O=F(e,"button",3,null),v=F(e,"oninput",3,()=>{}),b=F(e,"onblur",3,()=>{}),S=F(e,"onkeydown",3,()=>{}),y=F(e,"onfocus",3,()=>{}),w=ce(void 0);Ui(()=>{g(w)&&HO(g(w))});var P=u7(),x=Q(P);J(x,r,N=>{var Y=KL(),z=Q(Y,!0);$(Y),de(()=>Re(z,r())),T(N,Y)});var k=B(x,2),A=Q(k);J(A,()=>m().length>0,N=>{var Y=t7();Y.__change=[JL,n],Rt(Y,21,m,Nt,(z,q)=>{var Z=e7(),K={},I=Q(Z,!0);$(Z),de(()=>{K!==(K=g(q).value)&&(Z.value=(Z.__value=g(q).value)==null?"":g(q).value),Re(I,g(q).label)}),T(z,Z)}),$(Y),yR(Y,h),T(N,Y)});var D=B(A,2),W=Q(D);J(W,s,N=>{var Y=n7(),z=Q(Y,!0);$(Y),de(()=>Re(z,s())),T(N,Y)},N=>{var Y=be(),z=he(Y);J(z,o,q=>{ge(q,{get icon(){return o()}})},null,!0),T(N,Y)});var j=B(W,2);J(j,d,N=>{var Y=r7();un(Y,z=>V(w,z),()=>g(w)),vx(Y),uf(Y,f()),Y.__input=[i7,a,v],Y.__keydown=function(...z){var q;(q=S())==null||q.apply(this,z)},de(()=>{aa(Y,a()),Ge(Y,"type",u()),Ge(Y,"placeholder",l()),Y.disabled=p()}),Ve("focus",Y,function(...z){var q;(q=y())==null||q.apply(this,z)}),Ve("blur",Y,function(...z){var q;(q=b())==null||q.apply(this,z)}),T(N,Y)},N=>{var Y=a7();Tr(Y),uf(Y,f()),Y.__input=[s7,a,v],Y.__change=[o7,a,v],Y.__keydown=function(...z){var q;(q=S())==null||q.apply(this,z)},de(()=>{aa(Y,a()),Ge(Y,"type",u()),Ge(Y,"placeholder",l()),Y.disabled=p()}),Ve("focus",Y,function(...z){var q;(q=y())==null||q.apply(this,z)}),Ve("blur",Y,function(...z){var q;(q=b())==null||q.apply(this,z)}),T(N,Y)});var U=B(j,2);J(U,O,N=>{var Y=l7();Y.__click=function(...q){var Z;(Z=O().onclick)==null||Z.apply(this,q)};var z=Q(Y,!0);$(Y),de(()=>{Ge(Y,"type",O().type),Y.disabled=O().disabled,Re(z,O().label)}),T(N,Y)}),$(D),$(k),$(P),de(()=>{Ti(P,`TextInput ${c()??""} svelte-1eimj56`),Ge(P,"id",i())}),T(t,P),$e()}st(["change","input","keydown","click"]);var c7=E('<div class="Spinner svelte-1c35m1j"><!></div>');function vk(t,e){Se(e,!0);let n=F(e,"variant",3,"dots");const i={dots:"eos-icons:three-dots-loading",loop:"line-md:loading-twotone-loop"}[n()];var r=c7(),s=Q(r);ge(s,{icon:i}),$(r),T(t,r),$e()}let bk=(t,e=21)=>(n=e)=>{let i="",r=n;for(;r--;)i+=t[Math.random()*t.length|0];return i};function f7(t=5){return bk("abcdefghijklmnopqrstuvwxyz",t)()}function oo(t){return t.replace(/\s+/g,"-").replace(/[^0-9a-z\-._]/gi,"").toLowerCase()}function Qg(t,e){let n=t.textContent;t.contentEditable=!0,t.spellcheck=!1,t.onfocus=()=>{const i=document.createRange(),r=window.getSelection();i.setStart(t,1),i.collapse(!0),r==null||r.removeAllRanges(),r==null||r.addRange(i)},e.autofocus&&t.focus(),t.onkeydown=i=>{var r;i.code==="Enter"&&(i.preventDefault(),(r=i.target)==null||r.blur(),e.on_submit(n))},t.onkeyup=i=>{n=i.target.textContent,e.on_change(n)}}function Whe(t,e){if(!e)return!1;const n=e.getBoundingClientRect();return t.x>=Math.floor(n.right)||t.y>=Math.floor(n.bottom)||t.x<=Math.floor(n.left)||t.y<=Math.floor(n.top)}function Bhe(t,e,n){let i=_.cloneDeep(t);return i[e]=t[n],i[n]=t[e],i}function Bh(t){const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function Ihe(t,e=null){navigator.clipboard.writeText(e||t.innerText),t.addEventListener("click",()=>{t.style.opacity="0.5"})}var Un="top",$i="bottom",ki="right",Vn="left",KO="auto",Mu=[Un,$i,ki,Vn],ha="start",Yl="end",h7="clippingParents",yk="viewport",tl="popper",d7="reference",ay=Mu.reduce(function(t,e){return t.concat([e+"-"+ha,e+"-"+Yl])},[]),_k=[].concat(Mu,[KO]).reduce(function(t,e){return t.concat([e,e+"-"+ha,e+"-"+Yl])},[]),p7="beforeRead",g7="read",m7="afterRead",O7="beforeMain",v7="main",b7="afterMain",y7="beforeWrite",_7="write",w7="afterWrite",x7=[p7,g7,m7,O7,v7,b7,y7,_7,w7];function cr(t){return t?(t.nodeName||"").toLowerCase():null}function ci(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ao(t){var e=ci(t).Element;return t instanceof e||t instanceof Element}function vi(t){var e=ci(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function JO(t){if(typeof ShadowRoot>"u")return!1;var e=ci(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function S7(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!vi(s)||!cr(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function $7(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!vi(r)||!cr(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const k7={name:"applyStyles",enabled:!0,phase:"write",fn:S7,effect:$7,requires:["computeStyles"]};function ar(t){return t.split("-")[0]}var no=Math.max,mf=Math.min,da=Math.round;function Tg(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wk(){return!/^((?!chrome|android).)*safari/i.test(Tg())}function pa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&vi(t)&&(r=t.offsetWidth>0&&da(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&da(i.height)/t.offsetHeight||1);var o=ao(t)?ci(t):window,a=o.visualViewport,l=!wk()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,f=i.width/r,h=i.height/s;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function ev(t){var e=pa(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function xk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&JO(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ar(t){return ci(t).getComputedStyle(t)}function P7(t){return["table","td","th"].indexOf(cr(t))>=0}function Rs(t){return((ao(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ih(t){return cr(t)==="html"?t:t.assignedSlot||t.parentNode||(JO(t)?t.host:null)||Rs(t)}function ly(t){return!vi(t)||Ar(t).position==="fixed"?null:t.offsetParent}function Q7(t){var e=/firefox/i.test(Tg()),n=/Trident/i.test(Tg());if(n&&vi(t)){var i=Ar(t);if(i.position==="fixed")return null}var r=Ih(t);for(JO(r)&&(r=r.host);vi(r)&&["html","body"].indexOf(cr(r))<0;){var s=Ar(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Zu(t){for(var e=ci(t),n=ly(t);n&&P7(n)&&Ar(n).position==="static";)n=ly(n);return n&&(cr(n)==="html"||cr(n)==="body"&&Ar(n).position==="static")?e:n||Q7(t)||e}function tv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Rl(t,e,n){return no(t,mf(e,n))}function T7(t,e,n){var i=Rl(t,e,n);return i>n?n:i}function Sk(){return{top:0,right:0,bottom:0,left:0}}function $k(t){return Object.assign({},Sk(),t)}function kk(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var A7=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$k(typeof e!="number"?e:kk(e,Mu))};function C7(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ar(n.placement),l=tv(a),c=[Vn,ki].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var f=A7(r.padding,n),h=ev(s),d=l==="y"?Un:Vn,p=l==="y"?$i:ki,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],O=o[l]-n.rects.reference[l],v=Zu(s),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,S=m/2-O/2,y=f[d],w=b-h[u]-f[p],P=b/2-h[u]/2+S,x=Rl(y,P,w),k=l;n.modifiersData[i]=(e={},e[k]=x,e.centerOffset=x-P,e)}}function R7(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||xk(e.elements.popper,r)&&(e.elements.arrow=r))}const E7={name:"arrow",enabled:!0,phase:"main",fn:C7,effect:R7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ga(t){return t.split("-")[1]}var q7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function M7(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:da(n*r)/r||0,y:da(i*r)/r||0}}function uy(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=o.x,d=h===void 0?0:h,p=o.y,m=p===void 0?0:p,O=typeof u=="function"?u({x:d,y:m}):{x:d,y:m};d=O.x,m=O.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),S=Vn,y=Un,w=window;if(c){var P=Zu(n),x="clientHeight",k="clientWidth";if(P===ci(n)&&(P=Rs(n),Ar(P).position!=="static"&&a==="absolute"&&(x="scrollHeight",k="scrollWidth")),P=P,r===Un||(r===Vn||r===ki)&&s===Yl){y=$i;var A=f&&P===w&&w.visualViewport?w.visualViewport.height:P[x];m-=A-i.height,m*=l?1:-1}if(r===Vn||(r===Un||r===$i)&&s===Yl){S=ki;var D=f&&P===w&&w.visualViewport?w.visualViewport.width:P[k];d-=D-i.width,d*=l?1:-1}}var W=Object.assign({position:a},c&&q7),j=u===!0?M7({x:d,y:m},ci(n)):{x:d,y:m};if(d=j.x,m=j.y,l){var U;return Object.assign({},W,(U={},U[y]=b?"0":"",U[S]=v?"0":"",U.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",U))}return Object.assign({},W,(e={},e[y]=b?m+"px":"",e[S]=v?d+"px":"",e.transform="",e))}function Z7(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ar(e.placement),variation:ga(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uy(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uy(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const D7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Z7,data:{}};var dc={passive:!0};function j7(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=ci(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,dc)}),a&&l.addEventListener("resize",n.update,dc),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,dc)}),a&&l.removeEventListener("resize",n.update,dc)}}const W7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j7,data:{}};var B7={left:"right",right:"left",bottom:"top",top:"bottom"};function Xc(t){return t.replace(/left|right|bottom|top/g,function(e){return B7[e]})}var I7={start:"end",end:"start"};function cy(t){return t.replace(/start|end/g,function(e){return I7[e]})}function nv(t){var e=ci(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function iv(t){return pa(Rs(t)).left+nv(t).scrollLeft}function X7(t,e){var n=ci(t),i=Rs(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=wk();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+iv(t),y:l}}function U7(t){var e,n=Rs(t),i=nv(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=no(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=no(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+iv(t),l=-i.scrollTop;return Ar(r||n).direction==="rtl"&&(a+=no(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function rv(t){var e=Ar(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function Pk(t){return["html","body","#document"].indexOf(cr(t))>=0?t.ownerDocument.body:vi(t)&&rv(t)?t:Pk(Ih(t))}function El(t,e){var n;e===void 0&&(e=[]);var i=Pk(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=ci(i),o=r?[s].concat(s.visualViewport||[],rv(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(El(Ih(o)))}function Ag(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function V7(t,e){var n=pa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function fy(t,e,n){return e===yk?Ag(X7(t,n)):ao(e)?V7(e,n):Ag(U7(Rs(t)))}function L7(t){var e=El(Ih(t)),n=["absolute","fixed"].indexOf(Ar(t).position)>=0,i=n&&vi(t)?Zu(t):t;return ao(i)?e.filter(function(r){return ao(r)&&xk(r,i)&&cr(r)!=="body"}):[]}function z7(t,e,n,i){var r=e==="clippingParents"?L7(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var u=fy(t,c,i);return l.top=no(u.top,l.top),l.right=mf(u.right,l.right),l.bottom=mf(u.bottom,l.bottom),l.left=no(u.left,l.left),l},fy(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Qk(t){var e=t.reference,n=t.element,i=t.placement,r=i?ar(i):null,s=i?ga(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Un:l={x:o,y:e.y-n.height};break;case $i:l={x:o,y:e.y+e.height};break;case ki:l={x:e.x+e.width,y:a};break;case Vn:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?tv(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ha:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Yl:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Nl(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?h7:a,c=n.rootBoundary,u=c===void 0?yk:c,f=n.elementContext,h=f===void 0?tl:f,d=n.altBoundary,p=d===void 0?!1:d,m=n.padding,O=m===void 0?0:m,v=$k(typeof O!="number"?O:kk(O,Mu)),b=h===tl?d7:tl,S=t.rects.popper,y=t.elements[p?b:h],w=z7(ao(y)?y:y.contextElement||Rs(t.elements.popper),l,u,o),P=pa(t.elements.reference),x=Qk({reference:P,element:S,strategy:"absolute",placement:r}),k=Ag(Object.assign({},S,x)),A=h===tl?k:P,D={top:w.top-A.top+v.top,bottom:A.bottom-w.bottom+v.bottom,left:w.left-A.left+v.left,right:A.right-w.right+v.right},W=t.modifiersData.offset;if(h===tl&&W){var j=W[r];Object.keys(D).forEach(function(U){var N=[ki,$i].indexOf(U)>=0?1:-1,Y=[Un,$i].indexOf(U)>=0?"y":"x";D[U]+=j[Y]*N})}return D}function Y7(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?_k:l,u=ga(i),f=u?a?ay:ay.filter(function(p){return ga(p)===u}):Mu,h=f.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,m){return p[m]=Nl(t,{placement:m,boundary:r,rootBoundary:s,padding:o})[ar(m)],p},{});return Object.keys(d).sort(function(p,m){return d[p]-d[m]})}function N7(t){if(ar(t)===KO)return[];var e=Xc(t);return[cy(t),e,cy(e)]}function F7(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,m=n.allowedAutoPlacements,O=e.options.placement,v=ar(O),b=v===O,S=l||(b||!p?[Xc(O)]:N7(O)),y=[O].concat(S).reduce(function(M,X){return M.concat(ar(X)===KO?Y7(e,{placement:X,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:m}):X)},[]),w=e.rects.reference,P=e.rects.popper,x=new Map,k=!0,A=y[0],D=0;D<y.length;D++){var W=y[D],j=ar(W),U=ga(W)===ha,N=[Un,$i].indexOf(j)>=0,Y=N?"width":"height",z=Nl(e,{placement:W,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),q=N?U?ki:Vn:U?$i:Un;w[Y]>P[Y]&&(q=Xc(q));var Z=Xc(q),K=[];if(s&&K.push(z[j]<=0),a&&K.push(z[q]<=0,z[Z]<=0),K.every(function(M){return M})){A=W,k=!1;break}x.set(W,K)}if(k)for(var I=p?3:1,H=function(X){var R=y.find(function(L){var ie=x.get(L);if(ie)return ie.slice(0,X).every(function(te){return te})});if(R)return A=R,"break"},ee=I;ee>0;ee--){var ne=H(ee);if(ne==="break")break}e.placement!==A&&(e.modifiersData[i]._skip=!0,e.placement=A,e.reset=!0)}}const G7={name:"flip",enabled:!0,phase:"main",fn:F7,requiresIfExists:["offset"],data:{_skip:!1}};function hy(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dy(t){return[Un,ki,$i,Vn].some(function(e){return t[e]>=0})}function H7(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Nl(e,{elementContext:"reference"}),a=Nl(e,{altBoundary:!0}),l=hy(o,i),c=hy(a,r,s),u=dy(l),f=dy(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const K7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:H7};function J7(t,e,n){var i=ar(t),r=[Vn,Un].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Vn,ki].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function ez(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=_k.reduce(function(u,f){return u[f]=J7(f,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const tz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ez};function nz(t){var e=t.state,n=t.name;e.modifiersData[n]=Qk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const iz={name:"popperOffsets",enabled:!0,phase:"read",fn:nz,data:{}};function rz(t){return t==="x"?"y":"x"}function sz(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,m=p===void 0?0:p,O=Nl(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=ar(e.placement),b=ga(e.placement),S=!b,y=tv(v),w=rz(y),P=e.modifiersData.popperOffsets,x=e.rects.reference,k=e.rects.popper,A=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,D=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(P){if(s){var U,N=y==="y"?Un:Vn,Y=y==="y"?$i:ki,z=y==="y"?"height":"width",q=P[y],Z=q+O[N],K=q-O[Y],I=d?-k[z]/2:0,H=b===ha?x[z]:k[z],ee=b===ha?-k[z]:-x[z],ne=e.elements.arrow,M=d&&ne?ev(ne):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Sk(),R=X[N],L=X[Y],ie=Rl(0,x[z],M[z]),te=S?x[z]/2-I-ie-R-D.mainAxis:H-ie-R-D.mainAxis,G=S?-x[z]/2+I+ie+L+D.mainAxis:ee+ie+L+D.mainAxis,re=e.elements.arrow&&Zu(e.elements.arrow),oe=re?y==="y"?re.clientTop||0:re.clientLeft||0:0,ue=(U=W==null?void 0:W[y])!=null?U:0,ae=q+te-ue-oe,xe=q+G-ue,Qe=Rl(d?mf(Z,ae):Z,q,d?no(K,xe):K);P[y]=Qe,j[y]=Qe-q}if(a){var Ue,we=y==="x"?Un:Vn,De=y==="x"?$i:ki,We=P[w],Me=w==="y"?"height":"width",ot=We+O[we],ft=We-O[De],$n=[Un,Vn].indexOf(v)!==-1,zi=(Ue=W==null?void 0:W[w])!=null?Ue:0,fn=$n?ot:We-x[Me]-k[Me]-zi+D.altAxis,Yi=$n?We+x[Me]+k[Me]-zi-D.altAxis:ft,qn=d&&$n?T7(fn,We,Yi):Rl(d?fn:ot,We,d?Yi:ft);P[w]=qn,j[w]=qn-We}e.modifiersData[i]=j}}const oz={name:"preventOverflow",enabled:!0,phase:"main",fn:sz,requiresIfExists:["offset"]};function az(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function lz(t){return t===ci(t)||!vi(t)?nv(t):az(t)}function uz(t){var e=t.getBoundingClientRect(),n=da(e.width)/t.offsetWidth||1,i=da(e.height)/t.offsetHeight||1;return n!==1||i!==1}function cz(t,e,n){n===void 0&&(n=!1);var i=vi(e),r=vi(e)&&uz(e),s=Rs(e),o=pa(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((cr(e)!=="body"||rv(s))&&(a=lz(e)),vi(e)?(l=pa(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=iv(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function fz(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function hz(t){var e=fz(t);return x7.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function dz(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function pz(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var py={placement:"bottom",modifiers:[],strategy:"absolute"};function gy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function gz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?py:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},py,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(v){var b=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:ao(a)?El(a):a.contextElement?El(a.contextElement):[],popper:El(l)};var S=hz(pz([].concat(i,u.options.modifiers)));return u.orderedModifiers=S.filter(function(y){return y.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var v=u.elements,b=v.reference,S=v.popper;if(gy(b,S)){u.rects={reference:cz(b,Zu(S),u.options.strategy==="fixed"),popper:ev(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var w=u.orderedModifiers[y],P=w.fn,x=w.options,k=x===void 0?{}:x,A=w.name;typeof P=="function"&&(u=P({state:u,options:k,name:A,instance:d})||u)}}}},update:dz(function(){return new Promise(function(O){d.forceUpdate(),O(u)})}),destroy:function(){m(),h=!0}};if(!gy(a,l))return d;d.setOptions(c).then(function(O){!h&&c.onFirstUpdate&&c.onFirstUpdate(O)});function p(){u.orderedModifiers.forEach(function(O){var v=O.name,b=O.options,S=b===void 0?{}:b,y=O.effect;if(typeof y=="function"){var w=y({state:u,name:v,instance:d,options:S}),P=function(){};f.push(w||P)}})}function m(){f.forEach(function(O){return O()}),f=[]}return d}}var mz=[W7,iz,D7,k7,tz,G7,oz,E7,K7],Oz=gz({defaultModifiers:mz});function Xh(t){let e=null,n,i,r=t;const s=()=>{n!==void 0&&i!==void 0&&(e=Oz(n,i,r))},o=()=>{e!==null&&(e.destroy(),e=null)},a=u=>"subscribe"in u?(l(u),{}):(n=u,s(),{destroy(){o()}}),l=u=>{const f=u.subscribe(h=>{n===void 0?(n=h,s()):(Object.assign(n,h),e==null||e.update())});xu(f)};return[a,(u,f)=>(i=u,r={...t,...f},s(),{update(h){r={...t,...h},e==null||e.setOptions(r)},destroy(){o()}}),()=>e]}var vz=(t,e)=>{V(e,!g(e))},bz=E('<button class="primary svelte-py49wm" type="button"><!> <p class="svelte-py49wm"> </p> <span class="dropdown-icon svelte-py49wm"><!></span></button>'),yz=(t,e)=>V(e,!g(e)),_z=E('<button class="vertical-menu svelte-py49wm" type="button"><!></button>'),wz=(t,e,n,i)=>{g(e).on_click?(V(n,!1),g(e).on_click(t)):(V(n,!1),i("input",g(e).value))},xz=(t,e,n)=>{V(e,se({title:g(n).label,options:g(n).suboptions}))},Sz=E('<button class="svelte-py49wm"><!></button>'),$z=E('<hr class="svelte-py49wm">'),kz=E('<div class="item svelte-py49wm"><button type="button" class="svelte-py49wm"><!> <span> </span></button> <!></div> <!>',1),Pz=E('<div class="options svelte-py49wm"></div>'),Qz=(t,e,n)=>{V(e,null),V(n,null)},Tz=(t,e,n,i)=>{e()?e()():n("input",i())},Az=E('<button type="button" class="svelte-py49wm"> </button>'),Cz=(t,e,n,i,r,s)=>{V(e,!1),V(n,null),i()?i()():r("input",s())},Rz=E('<div class="item svelte-py49wm"><button type="button" class="svelte-py49wm"> </button></div>'),Ez=E('<div class="submenu svelte-py49wm"><header class="svelte-py49wm"><span class="svelte-py49wm"> </span> <button type="button" class="svelte-py49wm"><!></button></header> <div class="options svelte-py49wm"><!></div></div>'),qz=E('<div class="popup svelte-py49wm"><!></div>'),Mz=E('<div role="menu"><!> <!></div>');function Uh(t,e){Se(e,!0);const n=At();let i=F(e,"label",3,""),r=F(e,"icon",3,"carbon:overflow-menu-vertical"),s=F(e,"options",19,()=>[]),o=F(e,"dividers",19,()=>[]),a=F(e,"placement",3,"bottom-start"),l=F(e,"variant",3,"");const[c,u]=Xh({placement:a(),strategy:"fixed"});let f=ce(!1),h=ce(null),d=ce(null);var p=Mz(),m=Q(p);J(m,i,v=>{var b=bz();b.__click=[vz,f];var S=Q(b);ge(S,{get icon(){return r()}});var y=B(S,2),w=Q(y,!0);$(y);var P=B(y,2),x=Q(P);ge(x,{icon:"mi:select"}),$(P),$(b),de(()=>Re(w,i())),sn(b,k=>c(k)),T(v,b)},v=>{var b=_z();b.__click=[yz,f];var S=Q(b);ge(S,{get icon(){return r()}}),$(b),sn(b,y=>c(y)),T(v,b)});var O=B(m,2);J(O,()=>g(f),v=>{var b=qz(),S=Q(b);J(S,()=>!g(h),y=>{var w=Pz();Rt(w,21,s,Nt,(P,x,k)=>{var A=kz();const D=le(()=>{var Z;return((Z=g(x).suboptions)==null?void 0:Z.length)>0});var W=he(A),j=Q(W);j.__click=[wz,x,f,n];var U=Q(j);ge(U,{get icon(){return g(x).icon}});var N=B(U,2),Y=Q(N,!0);$(N),$(j);var z=B(j,2);J(z,()=>g(D),Z=>{var K=Sz();K.__click=[xz,h,x];var I=Q(K);ge(I,{icon:"material-symbols:chevron-right"}),$(K),T(Z,K)}),$(W);var q=B(W,2);J(q,()=>o().includes(k),Z=>{var K=$z();T(Z,K)}),de(()=>{Ae(W,"disabled",g(x).disabled),Ae(j,"active",i()===g(x).label),Ae(j,"danger",g(x).is_danger),Re(Y,g(x).label)}),T(P,A)}),$(w),T(y,w)},y=>{var w=be(),P=he(w);J(P,()=>g(h),x=>{var k=Ez(),A=Q(k),D=Q(A),W=Q(D,!0);$(D);var j=B(D,2);j.__click=[Qz,h,d];var U=Q(j);ge(U,{icon:"carbon:close"}),$(j),$(A);var N=B(A,2),Y=Q(N);J(Y,()=>typeof s()=="function",z=>{var q=be(),Z=he(q);OR(Z,()=>s()(),K=>{ge(K,{width:"25",icon:"line-md:loading-twotone-loop"})},(K,I)=>{var H=be(),ee=he(H);Rt(ee,17,()=>g(I),Nt,(M,X)=>{let R=()=>g(X).label,L=()=>g(X).value,ie=()=>g(X).onclick;var te=Az();te.__click=[Tz,ie,n,L];var G=Q(te,!0);$(te),de(()=>Re(G,R())),T(M,te)}),T(K,H)}),T(z,q)},z=>{var q=be(),Z=he(q);Rt(Z,17,()=>g(h).options,Nt,(I,H)=>{let ee=()=>g(H).label,ne=()=>g(H).value,M=()=>g(H).onclick;var X=Rz(),R=Q(X);R.__click=[Cz,f,h,M,n,ne];var L=Q(R,!0);$(R),$(X),de(()=>Re(L,ee())),T(I,X)}),T(z,q)}),$(N),$(k),de(()=>Re(W,g(h).title)),ln(1,k,()=>In,()=>({duration:100})),T(x,k)},null,!0),T(y,w)}),$(b),ln(1,b,()=>In,()=>({duration:100})),sn(b,(y,w)=>u(y,w),()=>({modifiers:[{name:"offset",options:{offset:[0,3]}}]})),T(v,b)}),$(p),de(()=>Ti(p,`Dropdown ${l()??""} svelte-py49wm`)),Ve("click_outside",p,()=>V(f,!1)),sn(p,v=>Bh(v)),T(t,p),$e()}st(["click"]);var Zz=E('<label class="primo--field-label"><!> <span> </span></label>'),Dz=(t,e)=>V(e,!g(e)),jz=E('<div style="padding: 3.5px;"><!></div>'),Wz=E('<div class="icon svelte-15y94qs"><!></div>'),Bz=E('<!> <p class="svelte-15y94qs"> </p>',1),Iz=E('<p class="svelte-15y94qs"> </p>'),Xz=(t,e,n,i,r)=>{V(e,!0),g(n).on_click?(V(i,!1),g(n).on_click(t)):(V(i,!1),r("input",g(n).value))},Uz=(t,e,n)=>{V(e,se({title:g(n).label,options:g(n).suboptions}))},Vz=E('<button class="svelte-15y94qs"><!></button>'),Lz=E('<hr class="svelte-15y94qs">'),zz=E('<div class="item svelte-15y94qs"><button type="button" class="svelte-15y94qs"><!> <span> </span></button> <!></div> <!>',1),Yz=E('<div class="options svelte-15y94qs"></div>'),Nz=(t,e)=>V(e,null),Fz=(t,e,n,i,r,s)=>{V(e,!1),V(n,null),i()?i()():r("input",s())},Gz=E('<div class="item svelte-15y94qs"><button type="button" class="svelte-15y94qs"> </button></div>'),Hz=E('<div class="submenu svelte-15y94qs"><header class="svelte-15y94qs"><span class="svelte-15y94qs"> </span> <button type="button" class="svelte-15y94qs"><!></button></header> <div class="options"><!></div></div>'),Kz=E('<div class="popup svelte-15y94qs"><!></div>'),Jz=E('<div role="menu"><div class="select-container svelte-15y94qs"><!> <button class="primary svelte-15y94qs" type="button"><!> <span class="dropdown-icon svelte-15y94qs"><!></span></button></div> <!></div>');function eY(t,e){Se(e,!0);const n=At();let i=F(e,"icon",3,""),r=F(e,"label",3,""),s=F(e,"options",19,()=>[]),o=F(e,"value",19,()=>{var z;return(z=s()[0])==null?void 0:z.value}),a=F(e,"fallback_label",3,null),l=F(e,"dividers",19,()=>[]),c=F(e,"placement",3,"bottom-start"),u=F(e,"variant",3,"small"),f=F(e,"fullwidth",3,!1),h=F(e,"loading",3,!1);const[d,p]=Xh({placement:c(),strategy:"fixed",modifiers:f()?[{name:"offset",options:{offset:[0,3]}},{name:"sameWidth",enabled:!0,fn:({state:z})=>{z.styles.popper.width=`${z.rects.reference.width}px`},phase:"beforeWrite",requires:["computeStyles"]}]:[{name:"offset",options:{offset:[0,3]}}]});let m=ce(!1),O=ce(null);const v=f7();function b(z,q){var K;let Z;for(const I of z){const H=(K=I.suboptions)==null?void 0:K.find(ee=>ee.value===q);H?Z=H:I.value===q&&(Z=I)}return Z}s().find(z=>{var Z;const q=(Z=z.suboptions)==null?void 0:Z.find(K=>K.value===o());return z.value===o()||q});let S=ce(!1),y=!0,w=ce(!1);function P(){if(y){y=!1;return}else g(w)||(V(S,!0),setTimeout(()=>{V(S,!1)},400))}let x=le(()=>b(s(),o()));at(()=>{o(),P()});var k=Jz(),A=Q(k),D=Q(A);J(D,r,z=>{var q=Zz();Ge(q,"for",v);var Z=Q(q);J(Z,i,H=>{ge(H,{get icon(){return i()}})});var K=B(Z,2),I=Q(K,!0);$(K),$(q),de(()=>Re(I,r())),T(z,q)});var W=B(D,2);Ge(W,"id",v),W.__click=[Dz,m];var j=Q(W);J(j,h,z=>{var q=jz(),Z=Q(q);ge(Z,{icon:"line-md:loading-twotone-loop"}),$(q),T(z,q)},z=>{var q=be(),Z=he(q);J(Z,()=>g(x),K=>{var I=Bz(),H=he(I);J(H,()=>g(x).icon,M=>{var X=Wz(),R=Q(X);ge(R,{get icon(){return g(x).icon}}),$(X),T(M,X)});var ee=B(H,2),ne=Q(ee,!0);$(ee),de(()=>Re(ne,g(x).label)),T(K,I)},K=>{var I=be(),H=he(I);J(H,a,ee=>{var ne=Iz(),M=Q(ne,!0);$(ne),de(()=>Re(M,a())),T(ee,ne)},null,!0),T(K,I)},!0),T(z,q)});var U=B(j,2),N=Q(U);ge(N,{icon:"mi:select"}),$(U),$(W),$(A);var Y=B(A,2);J(Y,()=>g(m),z=>{var q=Kz(),Z=Q(q);J(Z,()=>!g(O),K=>{var I=Yz();Rt(I,21,s,Nt,(H,ee,ne)=>{var M=zz();const X=le(()=>{var ue;return((ue=g(ee).suboptions)==null?void 0:ue.length)>0});var R=he(M),L=Q(R);L.__click=[Xz,w,ee,m,n];var ie=Q(L);ge(ie,{get icon(){return g(ee).icon}});var te=B(ie,2),G=Q(te,!0);$(te),$(L);var re=B(L,2);J(re,()=>g(X),ue=>{var ae=Vz();ae.__click=[Uz,O,ee];var xe=Q(ae);ge(xe,{icon:"material-symbols:chevron-right"}),$(ae),T(ue,ae)}),$(R);var oe=B(R,2);J(oe,()=>l().includes(ne),ue=>{var ae=Lz();T(ue,ae)}),de(()=>{L.disabled=g(ee).disabled,Ae(L,"active",r()===g(ee).label),Re(G,g(ee).label)}),T(H,M)}),$(I),T(K,I)},K=>{var I=be(),H=he(I);J(H,()=>g(O),ee=>{var ne=Hz(),M=Q(ne),X=Q(M),R=Q(X,!0);$(X);var L=B(X,2);L.__click=[Nz,O];var ie=Q(L);ge(ie,{icon:"carbon:close"}),$(L),$(M);var te=B(M,2),G=Q(te);J(G,()=>typeof s()=="function",re=>{},re=>{var oe=be(),ue=he(oe);Rt(ue,17,()=>g(O).options,Nt,(xe,Qe)=>{let Ue=()=>g(Qe).label,we=()=>g(Qe).value,De=()=>g(Qe).onclick;var We=Gz(),Me=Q(We);Me.__click=[Fz,m,O,De,n,we];var ot=Q(Me,!0);$(Me),$(We),de(()=>Re(ot,Ue())),T(xe,We)}),T(re,oe)}),$(te),$(ne),de(()=>Re(R,g(O).title)),ln(1,ne,()=>In,()=>({duration:100})),T(ee,ne)},null,!0),T(K,I)}),$(q),ln(1,q,()=>In,()=>({duration:100})),sn(q,K=>p(K)),T(z,q)}),$(k),de(()=>{Ti(k,`Select ${u()??""} svelte-15y94qs`),Ae(W,"highlighted",g(S))}),Ve("click_outside",k,()=>V(m,!1)),sn(W,z=>d(z)),sn(k,z=>Bh(z)),T(t,k),$e()}st(["click"]);var tY=E('<span class="primo--field-label"> </span>'),nY=(t,e)=>e.oninput(!e.value),iY=E('<div class="label-container svelte-1jxheao"><label class="svelte-1jxheao"><!> <div class="switch-container svelte-1jxheao"><input type="checkbox" class="svelte-1jxheao"> <span class="svelte-1jxheao"></span></div></label></div>');function rY(t,e){Se(e,!0);let n=F(e,"label",3,"");var i=iY(),r=Q(i),s=Q(r);J(s,n,l=>{var c=tY(),u=Q(c,!0);$(c),de(()=>Re(u,n())),T(l,c)});var o=B(s,2),a=Q(o);Tr(a),a.__input=[nY,e],On(2),$(o),$(r),$(i),de(()=>dR(a,e.value)),T(t,i),$e()}st(["input"]);function sv(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function sY(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const i=sv(n);return(r,s)=>i.then(o=>s(o.transaction(e,r).objectStore(e)))}let Xd;function Tk(){return Xd||(Xd=sY("keyval-store","keyval")),Xd}function Ia(t,e=Tk()){return e("readonly",n=>sv(n.get(t)))}function Du(t,e,n=Tk()){return n("readwrite",i=>(i.put(e,t),sv(i.transaction)))}var oY=(t,e)=>{V(e,!g(e))},aY=E('<span class="title svelte-4eqwah"> </span>'),lY=E('<span class="pill svelte-4eqwah"> </span>'),uY=E(`<button class="header-button svelte-4eqwah"><header class="svelte-4eqwah"><div style="display: flex;
				align-items: center;
				gap: 0.5rem;"><!> <!> <!></div> <!></header></button>`),cY=E('<div class="card-body svelte-4eqwah"><!> <!></div>'),fY=E('<div class="Card svelte-4eqwah"><!> <!> <!></div>');function Cg(t,e){Se(e,!0);let n=F(e,"id",3,null),i=F(e,"title",3,null),r=F(e,"minimal",3,!1),s=F(e,"icon",3,""),o=F(e,"pill",3,null),a=ce(!1);_u(()=>{i()&&Ia(i()).then(h=>{h!==void 0&&V(a,se(h))})}),xu(()=>{i()&&Du(i(),g(a))});var l=fY(),c=Q(l);J(c,i,h=>{var d=uY();d.__click=[oY,a];var p=Q(d),m=Q(p),O=Q(m);J(O,i,y=>{var w=aY(),P=Q(w,!0);$(w),de(()=>Re(P,i())),T(y,w)});var v=B(O,2);J(v,s,y=>{ge(y,{get icon(){return s()}})});var b=B(v,2);J(b,o,y=>{var w=lY(),P=Q(w,!0);$(w),de(()=>Re(P,o())),T(y,w)}),$(m);var S=B(m,2);J(S,()=>g(a),y=>{ge(y,{icon:"ph:caret-down-bold"})},y=>{ge(y,{icon:"ph:caret-up-bold"})}),$(p),$(d),T(h,d)});var u=B(c,2);J(u,()=>!g(a),h=>{var d=cY(),p=Q(d);$r(p,()=>e.body??ds);var m=B(p,2);$r(m,()=>e.children??ds),$(d),T(h,d)});var f=B(u,2);$r(f,()=>e.footer??ds,()=>({class:"card-footer"})),$(l),de(()=>{Ge(l,"id",n()),Ae(l,"minimal",r())}),T(t,l),$e()}st(["click"]);var hY=E('<p class="url svelte-iz2r77"> </p>'),dY=E('<button class="toggle svelte-iz2r77" aria-label="Toggle child pages"><!></button>'),pY=E('<div class="options svelte-iz2r77"><!></div>'),gY=E("<button><!></button>"),mY=E('<div class="options svelte-iz2r77"></div>'),OY=E('<li class="svelte-iz2r77"><!></li>'),vY=E('<ul class="page-list svelte-iz2r77"></ul>'),bY=E('<div class="page-item-container svelte-iz2r77"><div class="left svelte-iz2r77"><div class="details svelte-iz2r77"><p class="name"> </p> <!> <!></div> <!></div> <!> <!></div> <!>',1);function Ak(t,e){Se(e,!1);const n=vn();let i=F(e,"title",8),r=F(e,"is_child",8,!1),s=F(e,"subtitle",8,""),o=F(e,"active",8,!1),a=F(e,"children",24,()=>[]),l=F(e,"popup_menu",24,()=>[]),c=F(e,"icon_buttons",24,()=>[]),u=vn(!1);Ia(`form-list-toggle--${i()}`).then(k=>{k!==void 0&&V(u,k)});let f=vn("");zt(()=>mt(a()),()=>{V(n,a().length>0)}),zt(()=>(mt(i()),g(u)),()=>{Du(`form-list-toggle--${i()}`,g(u))}),zt(()=>(g(f),oo),()=>{V(f,oo(g(f)))}),wu(),Qa();var h=bY(),d=he(h),p=Q(d),m=Q(p),O=Q(m),v=Q(O,!0);$(O);var b=B(O,2);J(b,s,k=>{var A=hY(),D=Q(A,!0);$(A),de(()=>Re(D,s())),T(k,A)});var S=B(b,2);to(S,e,"title",{},null),$(m);var y=B(m,2);J(y,()=>g(n),k=>{var A=dY(),D=Q(A);ge(D,{icon:"mdi:chevron-down"}),$(A),de(()=>Ae(A,"active",g(u))),Ve("click",A,()=>V(u,!g(u))),T(k,A)}),$(p);var w=B(p,2);J(w,()=>l().length>0,k=>{var A=pY(),D=Q(A);Uh(D,{icon:"carbon:overflow-menu-vertical",get options(){return l()}}),$(A),T(k,A)});var P=B(w,2);J(P,()=>{var k;return((k=c())==null?void 0:k.length)>0},k=>{var A=mY();Rt(A,5,c,Nt,(D,W)=>{var j=gY(),U=Q(j);ge(U,{get icon(){return g(W).icon}}),$(j),T(D,j)}),$(A),T(k,A)}),$(d);var x=B(d,2);J(x,()=>g(u)&&g(n),k=>{var A=vY();Rt(A,5,a,Nt,(D,W)=>{var j=OY(),U=Q(j),N=ps(()=>g(W).popup_menu||[]),Y=ps(()=>g(W).icon_buttons||[]),z=ps(()=>g(W).children||[]);Ak(U,{get popup_menu(){return g(N)},get icon_buttons(){return g(Y)},is_child:!0,get title(){return g(W).title},get subtitle(){return g(W).subtitle},get children(){return g(z)},$$events:{delete(q){Le.call(this,e,q)},create(q){Le.call(this,e,q)}}}),$(j),T(D,j)}),$(A),ln(3,A,()=>og,()=>({duration:100})),T(k,A)}),de(()=>{Ae(d,"active",o()),Ae(d,"expanded",g(u)&&g(n)),Ae(d,"is_child",r()),Ae(O,"active",o()),Re(v,i())}),T(t,h),$e()}var yY=E('<button class="show-menu svelte-1b9692j"><!></button>');function _Y(t,e){let n=F(e,"icon",3,"carbon:overflow-menu-vertical"),i=F(e,"color",3,null),r=F(e,"onclick",3,()=>{}),s=!1;var o=yY();o.__click=function(...l){var c;(c=r())==null||c.apply(this,l)},Ae(o,"active",s);var a=Q(o);ge(a,{get icon(){return n()}}),$(o),de(()=>gn(o,"color",i())),T(t,o)}st(["click"]);const Vh=Ce("DEV"),ju=Ce(!1),Xhe=Ce(!1),Ck=Ce(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),Es=Ce("en"),Rk=Ce(null),Uhe=Ce([]),Vhe=Ce([]),Lhe=Ce(!1),zhe=Ce(!1);function wY(){const{subscribe:t,update:e}=Ce([]);return{subscribe:t,dispatch:(n,i)=>{e(r=>(r.forEach(s=>{s.event===n&&s.callback(i)}),r))},on:(n,i)=>(e(r=>[...r,{event:n,callback:i}]),()=>{e(r=>r.filter(s=>s.callback!==i))})}}const Lh=wY();var xY=(t,e,n)=>e(g(n).id),SY=E('<span class="key-hint svelte-4dszli"></span>'),$Y=E('<span class="svelte-4dszli"> </span>'),kY=E('<button class="svelte-4dszli"><!> <span class="label svelte-4dszli"><!> <!></span></button>'),PY=E("<div></div>");function QY(t,e){Se(e,!0);const n=Je(),i=()=>me(ju,"$mod_key_held",n),r=At();let s=F(e,"active_tab_id",31,()=>{var f;return se((f=e.tabs[0])==null?void 0:f.id)}),o=F(e,"variant",3,"primary"),a=F(e,"disable_hotkeys",3,!1),l=F(e,"style",3,"");at(()=>{r("switch",s())});var c=be(),u=he(c);J(u,()=>e.tabs.length>1,f=>{var h=PY();Rt(h,21,()=>e.tabs,Nt,(d,p,m)=>{var O=kY();O.__click=[xY,s,p];var v=Q(O);J(v,()=>i()&&!a(),w=>{var P=SY();P.textContent=` ${m+1}`,T(w,P)});var b=B(v,2),S=Q(b);J(S,()=>g(p).icon,w=>{ge(w,{get icon(){return g(p).icon}})});var y=B(S,2);J(y,()=>typeof g(p)=="string"||g(p).label,w=>{var P=$Y(),x=Q(P,!0);$(P),de(()=>Re(x,typeof g(p)=="string"?g(p):g(p).label)),T(w,P)}),$(b),$(O),de(()=>{Ge(O,"id",g(p).id?`tab-${g(p).id}`:null),Ae(O,"active",s()===g(p).id),Ae(O,"showing_key_hint",i()&&!a())}),T(d,O)}),$(h),de(()=>{Ti(h,`tabs ${o()??""} svelte-4dszli`),Ge(h,"style",l())}),ln(1,h,()=>In,()=>({duration:200})),T(f,h)}),T(t,c),$e()}st(["click"]);var TY=E('<span class="key-hint svelte-gprdr5">&#8984; E</span>'),AY=E('<span class="key-hint svelte-gprdr5">&#8984; E</span>'),CY=E('<div><button class="svelte-gprdr5"><div class="half svelte-gprdr5"><!> <span class="label svelte-gprdr5"><!></span></div> <div class="half svelte-gprdr5"><!> <span class="label svelte-gprdr5"><!></span></div> <span class="toggle-back svelte-gprdr5"></span></button></div>');function ov(t,e){Se(e,!0);const n=Je(),i=()=>me(ju,"$mod_key_held",n),r=At();let s=F(e,"active_tab_id",31,()=>{var w;return se((w=tabs[0])==null?void 0:w.id)}),o=F(e,"variant",3,"primary"),a=F(e,"disable_hotkeys",3,!1),l=F(e,"style",3,"");Lh.on("e",c);function c(){s()==="code"?s("content"):s("code")}at(()=>{r("switch",s())});var u=CY(),f=Q(u);f.__click=c;var h=Q(f),d=Q(h);J(d,()=>i()&&!a()&&s()!=="code",w=>{var P=TY();T(w,P)});var p=B(d,2),m=Q(p);ge(m,{icon:"gravity-ui:code"}),$(p),$(h);var O=B(h,2),v=Q(O);J(v,()=>i()&&!a()&&s()!=="content",w=>{var P=AY();T(w,P)});var b=B(v,2),S=Q(b);ge(S,{icon:"uil:edit"}),$(b),$(O);var y=B(O,2);$(f),$(u),de(()=>{Ti(u,`LargeSwitch ${o()??""} svelte-gprdr5`),Ge(u,"style",l()),Ae(h,"active",s()==="code"),Ae(h,"showing_key_hint",i()&&!a()&&s()!=="code"),Ae(O,"active",s()==="content"),Ae(O,"showing_key_hint",i()&&!a()&&s()!=="content"),gn(y,"transform",s()==="code"?"":"translateX(calc(100% + 6px))")}),ln(1,u,()=>In,()=>({duration:200})),T(t,u),$e()}st(["click"]);function RY(t,e){Se(e,!0);let n=F(e,"id",19,()=>"toggle"+Math.random().toString(36)),i=F(e,"toggled",11,!0),r=F(e,"disabled",3,!1),s=yx(e,["$$slots","$$events","$$legacy","id","toggled","disabled","children"]),o=le(()=>({for:n()})),a=le(()=>({...s,id:n(),disabled:r(),"aria-checked":i(),type:"button",role:"switch"}));var l=be(),c=he(l);$r(c,()=>e.children??ds,()=>({label:g(o),button:g(a)})),T(t,l),$e()}var EY=E('<span class="svelte-1t1pwkc"> </span>'),qY=E('<label> </label> <div class="svelte-1t1pwkc"><button></button> <!></div>',1);function MY(t,e){Se(e,!0);let n=F(e,"toggled",15,!0),i=F(e,"label",3,""),r=F(e,"hideLabel",3,!1),s=F(e,"small",3,!1),o=F(e,"disabled",3,!1),a=F(e,"on",3,void 0),l=F(e,"off",3,void 0),c=F(e,"switchColor",3,"#fff"),u=F(e,"toggledColor",3,"#0f62fe"),f=F(e,"untoggledColor",3,"#8d8d8d"),h=yx(e,["$$slots","$$events","$$legacy","toggled","label","hideLabel","small","disabled","on","off","switchColor","toggledColor","untoggledColor","children"]);const d=At();RY(t,{get toggled(){return n()},set toggled(m){n(m)},children:(m,O)=>{let v=()=>O==null?void 0:O().label,b=()=>O==null?void 0:O().button;var S=qY(),y=he(S);let w;var P=Q(y,!0);$(y);var x=B(y,2),k=Q(x),A=()=>d("toggle",!n());let D;var W=B(k,2);J(W,()=>e.children,j=>{e.children(j,()=>({toggled:n()}))},j=>{var U=be(),N=he(U);J(N,()=>a()&&l(),Y=>{var z=EY(),q=Q(z,!0);$(z),de(()=>Re(q,n()?a():l())),T(Y,z)},null,!0),T(j,U)}),$(x),de(()=>{w=Bl(y,w,{...v()},"svelte-1t1pwkc"),Ae(y,"hideLabel",r()),Re(P,i()),D=Bl(k,D,{...h,...b(),style:`color: ${c()??""}; background-color: ${(n()?u():f())??""};
	      ${e.style??""}`,disabled:o(),"aria-label":i(),onclick:A,onfocus,onblur},"svelte-1t1pwkc"),Ae(k,"small",s())}),T(m,S)},$$slots:{default:!0}}),$e()}const nt={Button:Ba,IconButton:_Y,TextInput:fa,Spinner:vk,Dropdown:Uh,Select:eY,Switch:rY,LargeSwitch:ov,Toggle:MY,Card:Cg,ListItem:Ak,Tabs:QY};var av={exports:{}},Ek=function(e,n){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return e.apply(n,r)}},ZY=Ek,qs=Object.prototype.toString;function lv(t){return Array.isArray(t)}function Rg(t){return typeof t>"u"}function DY(t){return t!==null&&!Rg(t)&&t.constructor!==null&&!Rg(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function qk(t){return qs.call(t)==="[object ArrayBuffer]"}function jY(t){return qs.call(t)==="[object FormData]"}function WY(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qk(t.buffer),e}function BY(t){return typeof t=="string"}function IY(t){return typeof t=="number"}function Mk(t){return t!==null&&typeof t=="object"}function Uc(t){if(qs.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function XY(t){return qs.call(t)==="[object Date]"}function UY(t){return qs.call(t)==="[object File]"}function VY(t){return qs.call(t)==="[object Blob]"}function Zk(t){return qs.call(t)==="[object Function]"}function LY(t){return Mk(t)&&Zk(t.pipe)}function zY(t){return qs.call(t)==="[object URLSearchParams]"}function YY(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function NY(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function uv(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),lv(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function Eg(){var t={};function e(r,s){Uc(t[s])&&Uc(r)?t[s]=Eg(t[s],r):Uc(r)?t[s]=Eg({},r):lv(r)?t[s]=r.slice():t[s]=r}for(var n=0,i=arguments.length;n<i;n++)uv(arguments[n],e);return t}function FY(t,e,n){return uv(e,function(r,s){n&&typeof r=="function"?t[s]=ZY(r,n):t[s]=r}),t}function GY(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Yn={isArray:lv,isArrayBuffer:qk,isBuffer:DY,isFormData:jY,isArrayBufferView:WY,isString:BY,isNumber:IY,isObject:Mk,isPlainObject:Uc,isUndefined:Rg,isDate:XY,isFile:UY,isBlob:VY,isFunction:Zk,isStream:LY,isURLSearchParams:zY,isStandardBrowserEnv:NY,forEach:uv,merge:Eg,extend:FY,trim:YY,stripBOM:GY},Ao=Yn;function my(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Dk=function(e,n,i){if(!n)return e;var r;if(i)r=i(n);else if(Ao.isURLSearchParams(n))r=n.toString();else{var s=[];Ao.forEach(n,function(l,c){l===null||typeof l>"u"||(Ao.isArray(l)?c=c+"[]":l=[l],Ao.forEach(l,function(f){Ao.isDate(f)?f=f.toISOString():Ao.isObject(f)&&(f=JSON.stringify(f)),s.push(my(c)+"="+my(f))}))}),r=s.join("&")}if(r){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e},HY=Yn;function zh(){this.handlers=[]}zh.prototype.use=function(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};zh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};zh.prototype.forEach=function(e){HY.forEach(this.handlers,function(i){i!==null&&e(i)})};var KY=zh,JY=Yn,eN=function(e,n){JY.forEach(e,function(r,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=r,delete e[s])})},jk=function(e,n,i,r,s){return e.config=n,i&&(e.code=i),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},Wk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ud,Oy;function Bk(){if(Oy)return Ud;Oy=1;var t=jk;return Ud=function(n,i,r,s,o){var a=new Error(n);return t(a,i,r,s,o)},Ud}var Vd,vy;function tN(){if(vy)return Vd;vy=1;var t=Bk();return Vd=function(n,i,r){var s=r.config.validateStatus;!r.status||!s||s(r.status)?n(r):i(t("Request failed with status code "+r.status,r.config,null,r.request,r))},Vd}var Ld,by;function nN(){if(by)return Ld;by=1;var t=Yn;return Ld=t.isStandardBrowserEnv()?function(){return{write:function(i,r,s,o,a,l){var c=[];c.push(i+"="+encodeURIComponent(r)),t.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),t.isString(o)&&c.push("path="+o),t.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ld}var zd,yy;function iN(){return yy||(yy=1,zd=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),zd}var Yd,_y;function rN(){return _y||(_y=1,Yd=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Yd}var Nd,wy;function sN(){if(wy)return Nd;wy=1;var t=iN(),e=rN();return Nd=function(i,r){return i&&!t(r)?e(i,r):r},Nd}var Fd,xy;function oN(){if(xy)return Fd;xy=1;var t=Yn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Fd=function(i){var r={},s,o,a;return i&&t.forEach(i.split(`
`),function(c){if(a=c.indexOf(":"),s=t.trim(c.substr(0,a)).toLowerCase(),o=t.trim(c.substr(a+1)),s){if(r[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?r[s]=(r[s]?r[s]:[]).concat([o]):r[s]=r[s]?r[s]+", "+o:o}}),r},Fd}var Gd,Sy;function aN(){if(Sy)return Gd;Sy=1;var t=Yn;return Gd=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function s(o){var a=o;return n&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}(),Gd}var Hd,$y;function Yh(){if($y)return Hd;$y=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,Hd=t,Hd}var Kd,ky;function Py(){if(ky)return Kd;ky=1;var t=Yn,e=tN(),n=nN(),i=Dk,r=sN(),s=oN(),o=aN(),a=Bk(),l=Wk,c=Yh();return Kd=function(f){return new Promise(function(d,p){var m=f.data,O=f.headers,v=f.responseType,b;function S(){f.cancelToken&&f.cancelToken.unsubscribe(b),f.signal&&f.signal.removeEventListener("abort",b)}t.isFormData(m)&&delete O["Content-Type"];var y=new XMLHttpRequest;if(f.auth){var w=f.auth.username||"",P=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";O.Authorization="Basic "+btoa(w+":"+P)}var x=r(f.baseURL,f.url);y.open(f.method.toUpperCase(),i(x,f.params,f.paramsSerializer),!0),y.timeout=f.timeout;function k(){if(y){var D="getAllResponseHeaders"in y?s(y.getAllResponseHeaders()):null,W=!v||v==="text"||v==="json"?y.responseText:y.response,j={data:W,status:y.status,statusText:y.statusText,headers:D,config:f,request:y};e(function(N){d(N),S()},function(N){p(N),S()},j),y=null}}if("onloadend"in y?y.onloadend=k:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(k)},y.onabort=function(){y&&(p(a("Request aborted",f,"ECONNABORTED",y)),y=null)},y.onerror=function(){p(a("Network Error",f,null,y)),y=null},y.ontimeout=function(){var W=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",j=f.transitional||l;f.timeoutErrorMessage&&(W=f.timeoutErrorMessage),p(a(W,f,j.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},t.isStandardBrowserEnv()){var A=(f.withCredentials||o(x))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;A&&(O[f.xsrfHeaderName]=A)}"setRequestHeader"in y&&t.forEach(O,function(W,j){typeof m>"u"&&j.toLowerCase()==="content-type"?delete O[j]:y.setRequestHeader(j,W)}),t.isUndefined(f.withCredentials)||(y.withCredentials=!!f.withCredentials),v&&v!=="json"&&(y.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&y.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(b=function(D){y&&(p(!D||D&&D.type?new c("canceled"):D),y.abort(),y=null)},f.cancelToken&&f.cancelToken.subscribe(b),f.signal&&(f.signal.aborted?b():f.signal.addEventListener("abort",b))),m||(m=null),y.send(m)})},Kd}var Kt=Yn,Qy=eN,lN=jk,uN=Wk,cN={"Content-Type":"application/x-www-form-urlencoded"};function Ty(t,e){!Kt.isUndefined(t)&&Kt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function fN(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=Py()),t}function hN(t,e,n){if(Kt.isString(t))try{return(e||JSON.parse)(t),Kt.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(t)}var Nh={transitional:uN,adapter:fN(),transformRequest:[function(e,n){return Qy(n,"Accept"),Qy(n,"Content-Type"),Kt.isFormData(e)||Kt.isArrayBuffer(e)||Kt.isBuffer(e)||Kt.isStream(e)||Kt.isFile(e)||Kt.isBlob(e)?e:Kt.isArrayBufferView(e)?e.buffer:Kt.isURLSearchParams(e)?(Ty(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Kt.isObject(e)||n&&n["Content-Type"]==="application/json"?(Ty(n,"application/json"),hN(e)):e}],transformResponse:[function(e){var n=this.transitional||Nh.transitional,i=n&&n.silentJSONParsing,r=n&&n.forcedJSONParsing,s=!i&&this.responseType==="json";if(s||r&&Kt.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?lN(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kt.forEach(["delete","get","head"],function(e){Nh.headers[e]={}});Kt.forEach(["post","put","patch"],function(e){Nh.headers[e]=Kt.merge(cN)});var cv=Nh,dN=Yn,pN=cv,gN=function(e,n,i){var r=this||pN;return dN.forEach(i,function(o){e=o.call(r,e,n)}),e},Jd,Ay;function Ik(){return Ay||(Ay=1,Jd=function(e){return!!(e&&e.__CANCEL__)}),Jd}var Cy=Yn,ep=gN,mN=Ik(),ON=cv,vN=Yh();function tp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vN("canceled")}var bN=function(e){tp(e),e.headers=e.headers||{},e.data=ep.call(e,e.data,e.headers,e.transformRequest),e.headers=Cy.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Cy.forEach(["delete","get","head","post","put","patch","common"],function(r){delete e.headers[r]});var n=e.adapter||ON.adapter;return n(e).then(function(r){return tp(e),r.data=ep.call(e,r.data,r.headers,e.transformResponse),r},function(r){return mN(r)||(tp(e),r&&r.response&&(r.response.data=ep.call(e,r.response.data,r.response.headers,e.transformResponse))),Promise.reject(r)})},Fn=Yn,Xk=function(e,n){n=n||{};var i={};function r(u,f){return Fn.isPlainObject(u)&&Fn.isPlainObject(f)?Fn.merge(u,f):Fn.isPlainObject(f)?Fn.merge({},f):Fn.isArray(f)?f.slice():f}function s(u){if(Fn.isUndefined(n[u])){if(!Fn.isUndefined(e[u]))return r(void 0,e[u])}else return r(e[u],n[u])}function o(u){if(!Fn.isUndefined(n[u]))return r(void 0,n[u])}function a(u){if(Fn.isUndefined(n[u])){if(!Fn.isUndefined(e[u]))return r(void 0,e[u])}else return r(void 0,n[u])}function l(u){if(u in n)return r(e[u],n[u]);if(u in e)return r(void 0,e[u])}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Fn.forEach(Object.keys(e).concat(Object.keys(n)),function(f){var h=c[f]||s,d=h(f);Fn.isUndefined(d)&&h!==l||(i[f]=d)}),i},np,Ry;function Uk(){return Ry||(Ry=1,np={version:"0.26.1"}),np}var yN=Uk().version,fv={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){fv[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var Ey={};fv.transitional=function(e,n,i){function r(s,o){return"[Axios v"+yN+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return function(s,o,a){if(e===!1)throw new Error(r(o," has been removed"+(n?" in "+n:"")));return n&&!Ey[o]&&(Ey[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function _N(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var i=Object.keys(t),r=i.length;r-- >0;){var s=i[r],o=e[s];if(o){var a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new TypeError("option "+s+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+s)}}var wN={assertOptions:_N,validators:fv},Vk=Yn,xN=Dk,qy=KY,My=bN,Fh=Xk,Lk=wN,Co=Lk.validators;function Wu(t){this.defaults=t,this.interceptors={request:new qy,response:new qy}}Wu.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fh(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var i=n.transitional;i!==void 0&&Lk.assertOptions(i,{silentJSONParsing:Co.transitional(Co.boolean),forcedJSONParsing:Co.transitional(Co.boolean),clarifyTimeoutError:Co.transitional(Co.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(n)===!1||(s=s&&d.synchronous,r.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var a;if(!s){var l=[My,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(o),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var c=n;r.length;){var u=r.shift(),f=r.shift();try{c=u(c)}catch(h){f(h);break}}try{a=My(c)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Wu.prototype.getUri=function(e){return e=Fh(this.defaults,e),xN(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Vk.forEach(["delete","get","head","options"],function(e){Wu.prototype[e]=function(n,i){return this.request(Fh(i||{},{method:e,url:n,data:(i||{}).data}))}});Vk.forEach(["post","put","patch"],function(e){Wu.prototype[e]=function(n,i,r){return this.request(Fh(r||{},{method:e,url:n,data:i}))}});var SN=Wu,ip,Zy;function $N(){if(Zy)return ip;Zy=1;var t=Yh();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(o){i=o});var r=this;this.promise.then(function(s){if(r._listeners){var o,a=r._listeners.length;for(o=0;o<a;o++)r._listeners[o](s);r._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){r.subscribe(l),o=l}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},n(function(o){r.reason||(r.reason=new t(o),i(r.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},e.prototype.unsubscribe=function(i){if(this._listeners){var r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}},e.source=function(){var i,r=new e(function(o){i=o});return{token:r,cancel:i}},ip=e,ip}var rp,Dy;function kN(){return Dy||(Dy=1,rp=function(e){return function(i){return e.apply(null,i)}}),rp}var sp,jy;function PN(){if(jy)return sp;jy=1;var t=Yn;return sp=function(n){return t.isObject(n)&&n.isAxiosError===!0},sp}var Wy=Yn,QN=Ek,Vc=SN,TN=Xk,AN=cv;function zk(t){var e=new Vc(t),n=QN(Vc.prototype.request,e);return Wy.extend(n,Vc.prototype,e),Wy.extend(n,e),n.create=function(r){return zk(TN(t,r))},n}var Or=zk(AN);Or.Axios=Vc;Or.Cancel=Yh();Or.CancelToken=$N();Or.isCancel=Ik();Or.VERSION=Uk().version;Or.all=function(e){return Promise.all(e)};Or.spread=kN();Or.isAxiosError=PN();av.exports=Or;av.exports.default=Or;var CN=av.exports,RN=CN;const Bu=$x(RN);let Yk=()=>{};function Yhe(t){Yk=t}async function Ye(t){return await Yk(t)}let Nk=()=>{};function Nhe(t){Nk=t}async function Iu(t){return await Nk(t)}let Fk=()=>{};function Fhe(t){Fk=t}async function Ghe(t){return await Fk(t)}let Gk=()=>{};function Hhe(t){Gk=t}async function Khe(t){return await Gk(t)}let pc;const EN=new Uint8Array(16);function qN(){if(!pc&&(pc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pc(EN)}const Ht=[];for(let t=0;t<256;++t)Ht.push((t+256).toString(16).slice(1));function MN(t,e=0){return Ht[t[e+0]]+Ht[t[e+1]]+Ht[t[e+2]]+Ht[t[e+3]]+"-"+Ht[t[e+4]]+Ht[t[e+5]]+"-"+Ht[t[e+6]]+Ht[t[e+7]]+"-"+Ht[t[e+8]]+Ht[t[e+9]]+"-"+Ht[t[e+10]]+Ht[t[e+11]]+Ht[t[e+12]]+Ht[t[e+13]]+Ht[t[e+14]]+Ht[t[e+15]]}const ZN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),By={randomUUID:ZN};function ht(t,e,n){if(By.randomUUID&&!e&&!t)return By.randomUUID();t=t||{};const i=t.random||(t.rng||qN)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,MN(i)}const ni=(t={})=>({id:ht(),value:t.value!==void 0?t.value:null,locale:t.locale||null,field:t.field||null,index:t.index===void 0?null:t.index,parent:t.parent||null,metadata:t.metadata||null,section:t.section||null,symbol:t.symbol||null,page:t.page||null,page_type:t.page_type||null}),ml=(t={})=>({id:ht(),key:t.key||"",label:t.label||"",type:t.type||"text",options:t.options||{},index:t.index===void 0?null:t.index,parent:t.parent||null,source:t.source||null}),Jhe=(t={})=>({id:ht(),key:t.key||"",label:t.label||"",type:t.type||"text",options:t.options||{},index:typeof t.index=="number"?t.index:0,parent:t.parent||null,source:t.source||null}),Hk=t=>({id:ht(),index:t.index||0,symbol:t.symbol||null,page:t.page||null,page_type:t.page_type||null,master:t.master||null,palette:t.palette||null,entries:t.entries||[]}),Kk=(t={})=>({id:t.id||ht(),name:t.name||"New Block",code:t.code||{css:"",html:"",js:""},fields:t.fields||[],entries:t.entries||[],site:t.site||null,index:t.index===void 0?null:t.index,page_types:[]}),hv=(t={})=>({id:t.id||ht(),slug:t.slug||"",name:t.name||"",parent:t.parent||null,index:t.index!==void 0?t.index:null,page_type:t.page_type||dv(),entries:t.entries||[],...t}),dv=(t={})=>({id:ht(),name:t.name||"",code:{head:"",foot:""},fields:[],entries:[],site:t.site,color:t.color||"#2B407D",icon:t.icon||"iconoir:page"}),Jk=(t={})=>({id:t.id||ht(),name:t.name||"",code:t.code||{head:"",foot:""},fields:t.fields||[],entries:t.entreies||[],design:t.design||{heading_font:"open-sans",body_font:"open-sans",brand_color:"red",accent_color:"blue",roundness:"8px",depth:"0px 4px 30px rgba(0, 0, 0, 0.2)"},custom_domain:t.custom_domain||"",created_at:new Date().toISOString(),...t}),Gh=Ce("default"),eP=Ce(""),tP=Ce(""),nP=Ce([]),Hh=Ce(Jk().code),iP=Ce(Jk().entries),pv=Ce([]),rP=Ce([]),sP=Ce(""),oP=Ce(null),aP=Ce(""),lP=Ce(!1),uP=Ce(!1);function qg(t){t.id&&Gh.set(t.id),t.url&&eP.set(t.url),t.name&&tP.set(t.name),t.code&&Hh.set(t.code),t.fields&&nP.set(t.fields),t.entries&&iP.set(t.entries),t.design&&pv.set(t.design),t.subscriptions&&rP.set(t.subscriptions),t.distribution_domain_name&&sP.set(t.distribution_domain_name),t.validation_record&&oP.set(t.validation_record),t.custom_domain&&aP.set(t.custom_domain),t.custom_domain_connected&&lP.set(t.custom_domain_connected),t.custom_domain_validated&&uP.set(t.custom_domain_validated)}const Pt=Wo([Gh,eP,tP,Hh,nP,iP,pv,rP,sP,oP,aP,lP,uP],([t,e,n,i,r,s,o,a,l,c,u,f,h])=>({id:t,url:e,name:n,code:i,fields:r,entries:s,design:o,subscriptions:a,distribution_domain_name:l,validation_record:c,custom_domain:u,custom_domain_connected:f,custom_domain_validated:h}));function DN(t){let e=[t],n=e.length;const i=Ce({first:!0,last:!0,current:t});function r(){return t=e[n-1],i.set({first:n===1,last:n===e.length,current:t}),t}return{set:s=>(e=[s],n=1,r()),push:s=>(e.length=n,e[n++]=gt(s),r()),undo:()=>(n>1&&(n-=1),r()),redo:()=>(n<e.length&&(n+=1),r()),subscribe:i.subscribe}}const Cr=Ce(dv()),vr=Ce([]);Fm.subscribe(({data:t})=>{t!=null&&t.pages&&vr.set(t.pages)});const Yr=Ce([]);Fm.subscribe(({data:t})=>{t!=null&&t.page_types&&Yr.set(t.page_types)});const Xu=Ce([]),Kh=Ce([]),Fe={site:Pt,pages:vr,page_types:Yr,sections:Xu,symbols:Kh,page_type:Cr};let jN=DN({doing:()=>{console.log("initial doing")},undoing:()=>{console.log("initial undoing")}});async function Iy({doing:t,undoing:e}){await t(),jN.push({doing:t,undoing:e})}const op=new Map;async function Of({component:t,buildStatic:e=!0,format:n="esm",locale:i="en",hydrated:r=!0,ignoreCachedData:s=!1}){let o="";t.css&&(o=await WN(t.css||""));const a=JSON.stringify(s?{component:Array.isArray(t)?t.map(c=>({html:c.html,css:c.css,head:c.head})):{head:t.head,html:t.html,css:t.css}}:{component:t,format:n,buildStatic:e,hydrated:r});if(op.has(a))return op.get(a);const l=await ca.html({component:{...t,css:o},buildStatic:e,format:n,locale:i,hydrated:r});return op.set(a,l),l}const nl=new Map;let ap=new Set;async function WN(t){if(nl.has(t))return nl.get(t);if(ap.has(t)&&(await new Promise(n=>{setTimeout(n,200)}),nl.has(t)))return nl.get(t);let e;try{ap.add(t),e=await ca.css(t)||{}}catch(n){console.error(n)}if(e){if(e.error)return console.log("CSS Error:",e.error),t;if(e.css)return nl.set(t,e.css),ap.delete(t),e.css}else return""}function BN(t){return _.debounce(e=>{const[n,i]=e;n(i)},t)}function jn(t){return t.type==="repeater"||t.type==="group"?null:t.type==="image"?{url:"",src:"",alt:"",size:null}:t.type==="text"?"":t.type==="markdown"?{html:"",markdown:""}:t.type==="link"?{label:"",url:""}:t.type==="url"||t.type==="select"?"":t.type==="switch"?!0:t.type==="number"?0:t.type==="page-field"||t.type==="site-field"?null:(console.warn("No placeholder set for field type",t.type),"")}let ls,vf,bf;async function ede(t){if(ls)return ls.makeMarkdown(t);{const e=await Promise.all([Qt(()=>import("./showdown.BMipqX3H.js").then(n=>n.s),[],import.meta.url),Qt(()=>import("./index.DgvMhtcn.js").then(n=>n.i),__vite__mapDeps([0,1,2]),import.meta.url)]);return vf=e[0].default,bf=e[1].default,ls=new vf.Converter({extensions:[bf()]}),ls.makeMarkdown(t)}}async function cP(t){if(ls)return ls.makeHtml(t);{const e=await Promise.all([Qt(()=>import("./showdown.BMipqX3H.js").then(n=>n.s),[],import.meta.url),Qt(()=>import("./index.DgvMhtcn.js").then(n=>n.i),__vite__mapDeps([0,1,2]),import.meta.url)]);return vf=e[0].default,bf=e[1].default,ls=new vf.Converter({extensions:[bf()]}),ls.makeHtml(t)}}function gv(t){return/^\/.*\/$/.test(t)}function tde(t=5){return bk("abcdefghijklmnopqrstuvwxyz",t)()}function nde(t,e){function n(s){let o=decodeURIComponent(s);return o=o.trim(),o=o.replace(/^["']|["']$/g,""),o.replace(/ /g,"%20")}const i=n(t),r=n(e);return i===r}function ide({instant:t,delay:e},n=200){let i;return(...r)=>{t(...r),clearTimeout(i),i=setTimeout(()=>e(...r),n)}}function tr(t,e="parent"){const n=new Map(t.map(a=>[a.id,a])),i=[],r=new Set,s=new Set;function o(a){if(s.has(a))throw new Error("Circular dependency detected");if(r.has(a))return;s.add(a);const l=n.get(a);l[e]&&n.has(l[e])&&o(l[e]),s.delete(a),r.add(a),i.push(l)}for(const a of t)r.has(a.id)||o(a.id);return i}function Bi(t,e=!1){const n={};function i(a){n[a.id]=ht()}function r(a){return n[a]||a}t.forEach(i);function s(a){const l=_.cloneDeep(a);return l.id=r(a.id),l.parent=r(a.parent),l}const o=t.map(s);return e?[o,n]:o}function IN({pages:t,sections:e}){const n=new Map;function i(h){return h?(n.has(h)||n.set(h,ht()),n.get(h)):null}function r(h){return n.get(h)||h}function s(h){i(h.id),h.fields&&h.fields.forEach(d=>i(d.id)),h.entries&&h.entries.forEach(d=>i(d.id))}[...t,...e].forEach(s);function o(h){const d=_.cloneDeep(h);return d.id=r(h.id),d.entries&&(d.entries=d.entries.map(p=>c(p))),d}function a(h){const d=o(h);return d.page_type=r(h.page_type),d.parent=r(h.parent),d}function l(h){const d=o(h);return d.symbol=r(h.symbol),d.palette=r(h.palette),d.master=r(h.master),d.page=r(h.page),d.page_type=r(h.page_type),d}function c(h){var p;const d=_.cloneDeep(h);return d.id=r(h.id),d.parent=r(h.parent),(p=d.metadata)!=null&&p.page&&(d.metadata.page=r(d.metadata.page)),d.page=r(h.page),d.page_type=r(h.page_type),d.symbol=r(h.symbol),d.section=r(h.section),d.site=r(h.site),d}const u=t.map(a),f=e.map(l);return{pages:u,sections:f,_map:n}}function rde(t,e){const n=_.cloneDeep(e);let i=[];const r=[],s=[];for(const c of t)if(c.action==="insert")s.push({id:c.id});else if(c.action==="update"){const u=e.find(h=>h.id===c.id),f=_.pick(u,_.keys(c.data));r.push({id:c.id,data:f})}else if(c.action==="delete"){const u=e.find(f=>f.id===c.id);i.push(u)}const[o,a]=Bi(i,!0);for(const c of i){const u=a[c.id];_.find(n,["id",c.id]).id=u}return{changes:[...tr(o).map(c=>({action:"insert",data:c})),...r.map(c=>({action:"update",id:c.id,data:c.data})),...s.map(c=>({action:"delete",id:c.id}))],fields:n,map:a}}function sde(t,e,n){const i=_.cloneDeep(e);let r=[];const s=[],o=[];for(const u of t)if(u.action==="insert")o.push({id:u.id});else if(u.action==="update"){const f=e.find(d=>d.id===u.id),h=_.pick(f,_.keys(u.data));s.push({id:u.id,data:h})}else if(u.action==="delete"){const f=e.find(h=>h.id===u.id);r.push(f)}const[a,l]=Bi(r,!0);for(const u of r){const f=l[u.id];_.find(i,["id",u.id]).id=f}const c=[...tr(a).map(u=>({action:"insert",data:u})),...s.map(u=>({action:"update",id:u.id,data:u.data})),...o.map(u=>({action:"delete",id:u.id}))];return{changes:LN(c,n),entries:zN(i,n)}}function ode(t,e){const n=_.cloneDeep(e);let i=[];const r=[],s=[];for(const c of t)if(c.action==="insert")s.push({id:c.id});else if(c.action==="update"){const u=e.find(h=>h.id===c.id),f=_.pick(u,_.keys(c.data));r.push({id:c.id,data:f})}else if(c.action==="delete"){const u=e.find(f=>f.id===c.id);i.push(u)}const[o,a]=Bi(i,!0);for(const c of i){const u=a[c.id];_.find(n,["id",c.id]).id=u}return[[...tr(o).map(c=>({action:"insert",data:c})),...r.map(c=>({action:"update",id:c.id,data:c.data})),...s.map(c=>({action:"delete",id:c.id}))],n]}function ade(t,e){const n=_.cloneDeep(t),i=_.cloneDeep(e),r=Bi(i,!0)[1];for(const o of i){const a=r[o.id],l=r[o.parent]||o.parent,c=_.find(i,["id",o.id]);c.id=a,c.parent=l,t.filter(u=>u.field===o.id).forEach(u=>u.field=a)}const s=Bi(n,!0)[1];for(const o of n){const a=s[o.id],l=s[o.parent]||o.parent,c=r[o.field]||o.field,u=_.find(n,["id",o.id]);u.id=a,u.parent=l,u.field=c}return{entries:n,fields:i}}function lde({changes:t,items:e}){const n=_.cloneDeep(t.fields.filter(o=>o.action==="insert").map(o=>o.data)),i=Bi(n,!0)[1];for(const o of n){const a=i[o.id],l=i[o.parent]||o.parent,c=_.find(t.fields,["id",o.id]);c.id=a,c.data.id=a,c.data.parent=l,t.entries.filter(f=>f.data.field===o.id).forEach(f=>f.data.field=a);const u=_.find(e.fields,["id",o.id]);u.id=a,u.parent=l,e.entries.filter(f=>f.field===o.id).forEach(f=>f.field=a)}const r=_.cloneDeep(t.entries.filter(o=>o.action==="insert").map(o=>o.data)),s=Bi(r,!0)[1];for(const o of r){const a=s[o.id],l=s[o.parent]||o.parent,c=_.find(t.entries,["id",o.id]);c.id=a,c.data.id=a,c.data.parent=l;const u=_.find(e.entries,["id",o.id]);u.id=a,u.parent=l}}function ude(t,e){const n=_.cloneDeep(t.filter(r=>r.action==="insert").map(r=>r.data)),i=Bi(_.cloneDeep(n),!0)[1];for(const r of n){const s=i[r.id];_.find(t,["id",r.id]).id=s,_.find(t,["data.id",r.id]).data.id=s,_.find(e,["id",r.id]).id=s}}const wn=Ce(hv());function yf({fields:t,entries:e}){if(!e)return{en:{}};let n={en:{}};e.forEach(s=>{s.locale&&(n[s.locale]={})});function i(s,o=""){if(!s)return _.get(n,"['en']");const a=e.find(c=>c.id===s),l=t.find(c=>c.id===a.field);if(!a.parent)return _.get(n,`['en']['${l.key}']${o}`);if(l)return i(a.parent,`['${l.key}']`+o);if(a.index!==null)return i(a.parent,`[${a.index}]`+o)}let r=0;try{let s=new Set;for(;s.size<e.length&&r<999;){for(const l of e){if(s.has(l.id)||l.parent&&!s.has(l.parent))continue;const c=t.find(f=>f.id===l.field),u=i(l.parent);if((c==null?void 0:c.type)==="repeater"){if(!u)debugger;u[c.key]=[],s.add(l.id);continue}if(!l.field){if(!u)debugger;u[l.index]={},s.add(l.id);continue}if(!c)debugger;if(c.type==="group"){u[c.key]={},s.add(l.id);continue}u[c.key]=l.value,s.add(l.id)}r++}const o=Array.from(s.values()),a=e.filter(l=>!o.includes(l.id));if(a.length>0){console.error("ERROR",{looking:a,entries:e,fields:t,structured_entries:n});debugger}}catch(s){console.error(s,{entries:e,fields:t}),n=null}return n}function cde(t){const e=pe(Kh).find(n=>n.id===t);if(!e)throw Error(`Could not find symbol ${t}`);return e}function fde(t){const e=pe(Xu).find(n=>n.id===t);if(!e)throw Error(`Could not find section ${t}`);return e}function XN(t){return pe(Xu).filter(e=>{var n;return e.symbol===t||((n=e.master)==null?void 0:n.symbol)===t})}function ma({entries:t,fields:e,page:n=pe(wn),site:i=pe(Pt),pages:r=pe(Fe.pages),page_types:s=pe(Fe.page_types)}){var f,h;const o=["page-field","site-field","page","page-list"];function a(d,p){const m=[],O={id:ht(),type:"group",key:d.key,parent:d.parent};c.push(O);const v=["name","created_at","slug"],b={id:ht(),type:"group",key:"_meta",parent:O.id};c.push(b);const S=[...v.map(U=>({id:ht(),type:"text",key:U,parent:b.id})),{id:ht(),type:"url",key:"url",parent:b.id}];c.push(...S);const{page_type:y}=r.find(U=>U.page_type===d.options.page_type),P=s.find(U=>U.id===y).fields;c.push(...P);const x=r.find(U=>U.id===p.value),k={id:ht(),field:O.id,parent:null};m.push(k);const A=x.entries.map(U=>({...U,parent:U.parent||k.id}));m.push(...A);const D={id:ht(),field:b.id,parent:k.id};m.push(D);function W(U,N){if(!U)return"";const Y=N.find(z=>z.id===U.parent);return W(Y,N)+`/${U.slug}`}const j=[...Object.entries(x).filter(U=>v.includes(U[0])).map(([U,N])=>({id:ht(),value:N,field:S.find(Y=>Y.key===U).id,locale:"en",parent:D.id})),{id:ht(),value:W(x,r),field:S.find(U=>U.key==="url").id,locale:"en",parent:D.id}];return m.push(...j),m}let l={};const c=_.cloneDeep(e.filter(d=>!o.includes(d.type))),u=_.cloneDeep(t.filter(d=>{const p=t.find(O=>O.id===d.parent),m=e.find(O=>O.id===d.field||O.id===(p==null?void 0:p.field));return!m||!o.includes(m.type)}));try{const d=e.filter(p=>o.includes(p.type)).sort((p,m)=>p.index-m.index);for(const p of d){if(p.type==="page-field"){const v=n==null?void 0:n.entries,b=(f=pe(Cr))==null?void 0:f.entries,S=v!=null&&v.some(k=>k.field===p.source)?v:b,y=(h=pe(Cr))==null?void 0:h.fields,w=y!=null&&y.some(k=>k.id===p.source)?y:n.page_type.fields,P=w.find(k=>k.id===p.source),x=S.find(k=>k.field===p.source);if(!P){console.warn("Source field has been deleted",p);continue}if(c.push({...P,key:p.key}),u.push(x),P.type==="page"){const k=a(P,x);u.push(...k);continue}if(P.type==="repeater"||P.type==="group"){for(const k of S)Vs(k,S).includes(x.id)&&u.push(k);for(const k of w)Vs(k,w).includes(P.id)&&c.push(k)}continue}if(p.type==="site-field"){const v=i.entries,b=i.fields,S=v.find(w=>w.field===p.source),y=b.find(w=>w.id===p.source);if(!y)continue;if(c.push({...y,key:p.key}),u.push(S),y.type==="repeater"||y.type==="group"){for(const w of v)Vs(w,v).includes(S.id)&&u.push(w);for(const w of b)Vs(w,b).includes(y.id)&&c.push(w)}continue}if(p.type==="page"){const v=t.find(S=>S.field===p.id),b=a(p,v);u.push(...b);continue}if(p.type==="page-list"){const v={id:ht(),type:"repeater",key:p.key};c.push(v);const b=["name","created_at","slug"],S={id:ht(),type:"group",key:"_meta",parent:v.id};c.push(S);const y=[...b.map(D=>({id:ht(),type:"text",key:D,parent:S.id})),{id:ht(),type:"url",key:"url",parent:S.id}];c.push(...y);const w=s.find(D=>{var W;return D.id===((W=p.options)==null?void 0:W.page_type)});if(!w){alert("Something went wrong. Please refresh.");debugger}const P=w.fields.map(D=>({...D,parent:D.parent||w.id})),x={id:ht(),field:v.id};u.push(x);let k=0;const A=r.reduce((D,W)=>{if(W.page_type===w.id){let Y=function(q,Z){if(!q)return"";const K=Z.find(I=>I.id===q.parent);return Y(K,Z)+`/${q.slug}`};const j={id:ht(),parent:x.id,index:k},U=W.entries.map(q=>({...q,parent:q.parent||j.id})),N={id:ht(),field:S.id,parent:j.id},z=[...Object.entries(W).filter(q=>b.includes(q[0])).map(([q,Z])=>({id:ht(),value:Z,field:y.find(K=>K.key===q).id,locale:"en",parent:N.id})),{id:ht(),value:Y(W,r),field:y.find(q=>q.key==="url").id,locale:"en",parent:N.id}];return k++,D.concat(j,...U,N,...z)}return D},[]);c.push(...P),u.push(...A);continue}const m=d.find(v=>v.key===p.key&&v.parent===p.parent&&v.index>p.index),O=c.some(v=>v.key===p.key);if(!(m&&!source_entry||O)&&(c.push({...source_field,key:p.key}),u.push(source_entry),source_field.type==="repeater"||source_field.type==="group")){for(const v of i.entries)Vs(v,i.entries).includes(source_entry.id)&&u.push(v);for(const v of i.fields)Vs(v,i.fields).includes(source_field.id)&&c.push(v)}}l=yf({fields:c,entries:u})}catch(d){console.log("could not load new component entries",d)}return _.cloneDeep(l)}function Vs(t,e){const n=e.find(i=>i.id===t.parent);return n?[n.id,...Vs(n,e)]:[]}function UN({page:t=pe(wn),site:e=pe(Pt),loc:n=pe(Es)}){const i=yf({fields:t.fields||t.page_type.fields,entries:t.entries});return{...yf({fields:e.fields,entries:e.entries})[n],...i[n]}}function mv({site:t=pe(Pt),loc:e=pe(Es)}){return yf({fields:t.fields,entries:t.entries})[e]}function Xy(){return[...pe(wn).page_type.fields,...pe(Cr).fields]}async function hde(t,e={}){const n=t.filter(r=>r.action==="insert").reduce((r,s)=>[...r,{...s.data,...e}],[]),i=t.filter(r=>r.action==="update"||r.action==="delete");n.length>0&&await Ye({table:"fields",action:"insert",data:tr(n)}),await Promise.all(i.map(r=>Ye({table:"fields",action:r.action,id:r.id,data:{...r.data,...e}})))}async function dde(t,e={}){const n=t.filter(r=>r.action==="insert").reduce((r,s)=>[...r,{...s.data,...e}],[]),i=t.filter(r=>r.action==="update"||r.action==="delete");n.length>0&&await Ye({table:"entries",action:"insert",data:tr(n)}),await Promise.all(i.map(r=>Ye({table:"entries",action:r.action,id:r.id,data:{...r.data,...e}})))}async function fP(t,e={}){const n=t.filter(o=>o.action==="insert").map(o=>({...o,data:{...o.data,...e}})),i=t.filter(o=>o.action==="update"),r=t.filter(o=>o.action==="delete"),s=_.chain(n).keyBy("id").value();return n.length>0&&(await Ye({table:"fields",action:"insert",data:n.map(o=>_.omit(o.data,["id","parent","options"]))}).then(o=>{o.forEach(({id:a},l)=>{const c=n[l].id;s[c]=a})}),await Promise.all(n.filter(o=>{var a;return o.data.parent||((a=o.data.options.condition)==null?void 0:a.field)}).map(async({id:o,data:a})=>{var c,u;const l={options:a.options};a.parent&&(l.parent=s[a.parent]||a.parent),(u=(c=a.options)==null?void 0:c.condition)!=null&&u.field&&(l.options.condition.field=s[a.options.condition.field]||a.options.condition.field),await Ye({table:"fields",action:"update",id:s[o],data:l})}))),await Promise.all([...i.map(async({id:o,data:a})=>{var c,u,f;const l=_.cloneDeep(a);a.parent&&(l.parent=s[a.parent]||a.parent),(u=(c=a.options)==null?void 0:c.condition)!=null&&u.field&&(l.options.condition.field=s[(f=a.condition)==null?void 0:f.field]||a.options.condition.field),await Ye({table:"fields",action:"update",id:o,data:l})}),...r.map(async({id:o})=>Ye({table:"fields",action:"delete",id:o}))]),s}async function Oa(t,e={},n={}){const i=t.filter(a=>a.action==="insert").map(a=>({...a,data:{...a.data,...n}})),r=t.filter(a=>a.action==="update"),s=t.filter(a=>a.action==="delete"),o=_.chain(i).keyBy("id").value();return i.length>0&&(await Ye({table:"entries",action:"insert",data:i.map(a=>{const l=["id"];return e[a.data.field]&&l.push("field"),o[a.data.parent]&&l.push("parent"),_.omit(a.data,l)})}).then(a=>{a.forEach(({id:l},c)=>{const u=i[c].id;o[u]=l})}),await Promise.all(i.filter(({data:a})=>o[a.parent]||e[a.field]).map(async({id:a,data:l})=>{const c=o[l.parent],u=e[l.field];await Ye({table:"entries",action:"update",id:o[a],data:{...c?{parent:c}:{},...u?{field:u}:{}}})}))),await Promise.all([...r.map(async({action:a,id:l,data:c})=>{const u=o[c.parent]||c.parent,f=e[c.field]||c.field;await Ye({table:"entries",action:a,id:l,data:{...c,...u?{parent:u}:{},...f?{field:f}:{}}})}),...s.map(async({id:a})=>Ye({table:"entries",action:"delete",id:a}))]),o}function Jh(t,e){const n=e.find(i=>i.id===t.parent);return n?[n,...Jh(n,e)]:[]}function Ro({entry:t,entries:e,fields:n}){return n.find(i=>{if(t.field)return i.id===t.field;{const r=e.find(s=>s.id===t.parent);return i.id===(r==null?void 0:r.field)}})}function VN({section_entries:t,field_changes:e,original_fields:n,updated_fields:i}){const r=e.filter(m=>m.action==="insert").map(m=>m.data);function s({entry:m,entries:O,fields:v}){return v.find(b=>{if(m.field)return b.id===m.field;{const S=O.find(y=>y.id===m.parent);return b.id===(S==null?void 0:S.field)}})}const o=[],a=[],l=[];for(const m of t){const O=s({entry:m,entries:t,fields:i});if(!O){o.push(m);continue}const v=s({entry:m,entries:t,fields:n});if(v&&v.type!==O.type){const b={...m,value:jn(O)};a.push(b);continue}l.push(m)}const c=[];for(const m of r){if(Jh(m,r).some(S=>S.type==="repeater"))continue;if(!m.parent){const S=ni({value:jn(m),field:m.id});c.push(S)}const v=l.filter(S=>{const y=S.index!==null,w=l.find(P=>P.id===S.parent);return y&&w.field===m.parent});if(v.length>0){const S=v.map(y=>ni({value:jn(m),parent:y.id,field:m.id}));c.push(...S);continue}const b=[...l,...c].find(S=>S.field&&S.field===m.parent);if(b){const S=ni({value:jn(m),parent:b.id,field:m.id});c.push(S);continue}}const u=c.map(m=>({action:"insert",id:m.id,data:_.cloneDeep(m)})),f=a.map(m=>({action:"update",id:m.id,data:{value:m.value}})),d=[...o.map(m=>({action:"delete",id:m.id})),...f,...u],p=[...l,...a,...c];return{changes:d,entries:p}}function pde({original_symbol_entries:t,original_symbol_fields:e,updated_section_entries:n,section_content_changes:i,updated_symbol_fields:r,field_changes:s}){const o=i.filter(v=>v.action==="insert").map(v=>v.data),a=s.filter(v=>v.action==="insert").map(v=>v.data),l=[],c=[],u=[];for(const v of t){const b=Ro({entry:v,entries:t,fields:r});if(!b){c.push(v);continue}const S=Ro({entry:v,entries:t,fields:e});if(S.type!==b.type){if(S.type==="repeater"&&v.index!==null){c.push(v);continue}const y={...v,value:jn(b)};u.push(y);continue}l.push(v)}const f=[...l,...u];let h=[];for(const v of o){const b=Ro({entry:v,entries:o,fields:a});if(!b)continue;const S=Jh(b,a).some(k=>!k.parent);if(!b.parent||S){h.push(_.cloneDeep(v));continue}const y=n.find(k=>k.id===v.parent),w=Ro({entry:y,entries:n,fields:r}),P=f.find(k=>{const D=Ro({entry:k,entries:f,fields:r}).id===w.id,W=y.index===k.index;return D&&W});if(P){h.push({...v,parent:P.id});continue}const x=f.find(k=>k.field&&k.field===b.parent);if(x){const k=ni({value:jn(b),parent:x.id,field:b.id});h.push(k);continue}}const d=f.filter(v=>v.index!==null);for(const v of d){const b=Ro({entry:v,entries:f,fields:r});if(h.some(w=>w.parent===v.id))continue;const y=a.filter(w=>w.parent===b.id);for(const w of y){const P=ni({field:w.id,parent:v.id,value:jn(w)});h.push(P)}}h=Bi(h);const p=h.map(v=>({action:"insert",id:v.id,data:_.cloneDeep(v)})),m=u.map(v=>({action:"update",id:v.id,data:{value:v.value}}));return{changes:[...c.map(v=>({action:"delete",id:v.id})),...m,...p],entries:[...f,...h]}}function gde({section_id:t="",symbol_id:e,field_changes:n,original_fields:i,updated_fields:r},s=XN(e)){return s.filter(a=>a.id!==t).map(a=>({id:a.id,entries:a.entries})).map(({id:a,entries:l})=>{const{changes:c,entries:u}=VN({section_entries:l,field_changes:n,original_fields:i,updated_fields:r});return{id:a,changes:c,entries:u}})}function LN(t,e){return t.map(({action:n,id:i,data:r})=>{const s=e[r==null?void 0:r.field]||(r==null?void 0:r.field);return{action:n,id:i,data:{...r,...s?{field:s}:{}}}})}function zN(t,e){return t.map(n=>({...n,field:e[n.field]||n.field}))}async function YN({code:t,entries:e,fields:n,content_changes:i,fields_changes:r}){const s=e.map(l=>({...l,site:pe(Pt).id}));qg({code:t,entries:s,fields:n});const o=await fP(r,{site:pe(Pt).id}),a=await Oa(i,o,{site:pe(Pt).id});qg({fields:pe(Pt).fields.map(l=>({...l,id:o[l.id]||l.id,parent:o[l.parent]||l.parent})),entries:pe(Pt).entries.map(l=>({...l,id:a[l.id]||l.id,parent:a[l.parent]||l.parent,field:o[l.field]||l.field}))}),await Ye({table:"sites",action:"update",id:pe(Pt).id,data:{code:t}}),Fe.sections.update(l=>l)}const mde={update:async t=>{qg(t),await Ye({table:"sites",action:"update",data:t,id:pe(Fm).data.site.id})}},NN={heading_font:{label:"Heading Font",type:"font-family",variable:"font-heading",group:""},body_font:{label:"Body Font",type:"font-family",variable:"font-body",group:""},brand_color:{label:"Brand Color",type:"color",variable:"color-brand",group:""},accent_color:{label:"Accent Color",type:"color",variable:"color-accent",group:""},roundness:{label:"Roundness (Border Radius)",type:"border-radius",variable:"border-radius",group:""},depth:{label:"Depth (Shadows)",type:"box-shadow",variable:"box-shadow",group:""}},Ode=[{key:"af",name:"Afrikaans"},{key:"ar",name:"Arabic"},{key:"be",name:"Belarusian"},{key:"bg",name:"Bulgarian"},{key:"bs",name:"Bosnian"},{key:"ca",name:"Catalan"},{key:"cs",name:"Czech"},{key:"cy",name:"Welsh"},{key:"da",name:"Danish"},{key:"de",name:"German"},{key:"el",name:"Greek"},{key:"en",name:"English"},{key:"fa",name:"Persian"},{key:"fi",name:"Finnish"},{key:"fr",name:"French"},{key:"he",name:"Hebrew"},{key:"hi",name:"Hindi"},{key:"hu",name:"Hungarian"},{key:"hy-am",name:"Armenian"},{key:"id",name:"Indonesian"},{key:"is",name:"Icelandic"},{key:"it",name:"Italian"},{key:"ja",name:"Japanese"},{key:"ka",name:"Georgian"},{key:"kk",name:"Kazakh"},{key:"km",name:"Cambodian"},{key:"ko",name:"Korean"},{key:"lo",name:"Lao"},{key:"lt",name:"Lithuanian"},{key:"lv",name:"Latvian"},{key:"mk",name:"Macedonian"},{key:"mn",name:"Mongolian"},{key:"ms",name:"Malay"},{key:"my",name:"Burmese"},{key:"ne",name:"Nepalese"},{key:"nl",name:"Dutch"},{key:"pl",name:"Polish"},{key:"pt",name:"Portuguese"},{key:"ro",name:"Romanian"},{key:"ru",name:"Russian"},{key:"sk",name:"Slovak"},{key:"sl",name:"Slovenian"},{key:"sq",name:"Albanian"},{key:"sv",name:"Swedish"},{key:"th",name:"Thai"},{key:"tl-ph",name:"Tagalog (Philippines)"},{key:"tr",name:"Turkish"},{key:"uk",name:"Ukrainian"},{key:"ur",name:"Urdu"},{key:"uz",name:"Uzbek"},{key:"vi",name:"Vietnamese"},{key:"zh",name:"Chinese"},{key:"es",name:"Spanish"},{key:"et",name:"Estonian"}];async function vde({code:t,data:e}){const{html:n,css:i,js:r}=t,{css:s,error:o}=await ca.css(i||"");return await ca.html({component:{html:n,css:s,js:r,data:e}})}async function FN({page:t=pe(wn),site:e=pe(Pt),page_sections:n=pe(Xu),page_symbols:i=pe(Kh),page_list:r=pe(vr),page_types:s=pe(Fe.page_types),locale:o="en",no_js:a=!1}){const l=i.filter(d=>d.code.js&&n.some(p=>{var m;return p.symbol===d.id||((m=p.master)==null?void 0:m.symbol)===d.id})),c=await Promise.all([(async()=>{const d=UN({page:t,site:e,loc:o});return{html:`
         <svelte:head>
           ${e.code.head}
           ${t==null?void 0:t.page_type.code.head}
           ${hP(e.design)}
         </svelte:head>`,css:"",js:"",data:d}})(),...n.filter(d=>{var p;return d.symbol||((p=d.master)==null?void 0:p.symbol)}).map(async d=>{const p=i.find(w=>w.id===(d.symbol||d.master.symbol)),{html:m,css:O,js:v}=p.code,b=ma({entries:d.entries,fields:p.fields,page:t,site:e,pages:r,page_types:s})[o],{css:S,error:y}=await ca.css(O||"");return{html:`
         <div data-section="${d.id}" id="section-${d.id}" data-symbol="${p.id}">
           ${m}
         </div>`,js:v,css:S,data:b}}),(async()=>{const d=mv({site:e,loc:o});return{html:e.code.foot,css:"",js:"",data:d}})()]),u=await ca.html({component:c,locale:o});return{html:` <!DOCTYPE html>
 <html lang="${o}">
   <head>
     <meta name="generator" content="Primo" />
     ${u.head}
     <style>${u.css}</style>
   </head>
   <body id="page">
     ${u.html}
     ${a?"":`<script type="module">${h(l)}<\/script>`}
   </body>
 </html>
 `,js:u.js};function h(d){return d.map(p=>`
     import('/_symbols/${p.id}.js')
     .then(({default:App}) => {
       ${n.filter(m=>{var O;return m.symbol===p.id||((O=m.master)==null?void 0:O.symbol)===p.id}).map(m=>{const O=ma({entries:m.entries,fields:p.fields,page:t,site:e,pages:r,page_types:s})[o];return`
           new App({
             target: document.querySelector('#section-${m.id}'),
             hydrate: true,
             props: ${JSON.stringify(O)}
           })
         `}).join(`
`)}
     })
     .catch(e => console.error(e));
   `).join(`
`)}}function hP(t){return`
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=${t.heading_font.replace(/ /g,"+")}:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=${t.body_font.replace(/ /g,"+")}:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700" rel="stylesheet">
	<style>
	:root {
${Object.entries(NN).map(([e,{variable:n}])=>`--${n}: ${t[e]};`).join(`
`)}}
	</style>
	`}const bde=Nx(xx,Sx,{realtime:{params:{eventsPerSecond:10}}}),Uy=(t="en",e="")=>`
  <!DOCTYPE html>
  <html lang="${t}">
    <head>
      ${e}
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script type="module">
        let c;

        const channel = new BroadcastChannel('component_preview');
        channel.onmessage = ({data}) => {
          const { event, payload = {} } = data
          if (payload.componentApp || payload.data) {
            update(payload.componentApp, payload.data)
          }
        }

        function update(source = null, props) {
          if (c && !source && props) {
            // TODO: re-render component when passing only a subset of existing props (i.e. when a prop has been deleted)
            c.$set(props);
          } else if (source) {
            const withLogs = \`
              const channel = new BroadcastChannel('component_preview');
              const primoLog = console ? console.log.bind(console) : null;
              const primoError = console ? console.error.bind(console) : null;
              function postMessage(logs) {
                channel.postMessage({
                  event: 'SET_CONSOLE_LOGS',
                  payload: { logs }
                });
              }
              channel.postMessage({ event: 'BEGIN' });
              if (primoLog) console.log = (...args) => { try {postMessage(...args)}catch(e){postMessage('Could not print ' + typeof(args) + '. See in console.')}; primoLog(...args); };
              if (primoLog) console.error = (...args) => { try {postMessage(...args)}catch(e){postMessage('Could not print ' + typeof(args) + '. See in console.')}; primoError(...args); };
              \` + source;
            const blob = new Blob([withLogs], { type: 'text/javascript' });
            const url = URL.createObjectURL(blob);
            import(url).then(({ default: App }) => {
              if (c) c.$destroy();
              try {
                c = new App({ 
                  target: document.querySelector('#page'),
                  props
                })
                // setTimeout(setListeners, 1000)
              } catch(e) {
                document.querySelector('#page').innerHTML = ''
                console.error(e.toString())
                channel.postMessage({
                  event: 'SET_ERROR',
                  payload: {
                    error: e.toString()
                  }
                });
              }
              channel.postMessage({
                event: 'SET_HEIGHT',
                payload: {
                  height: window.document.body.scrollHeight
                }
              });
            })
          }
        }

        function setListeners() {
          document.body.querySelectorAll('*').forEach(el => {
            el.addEventListener('mouseenter', () => {
              const loc = el?.__svelte_meta?.loc // line of code
              channel.postMessage({
                event: 'SET_ELEMENT_PATH',
                payload: { loc }
              });
            })
          })
          // Move site+page styles to top of html head to cascade correctly
          const head = document.getElementsByTagName('head')[0]
          head.prepend(document.getElementById('parent-styles'))
        }
		  <\/script>
    </head>
    <body id="page"></body>
  </html>
`,GN=({head:t,html:e,css:n,foot:i})=>`
    <!DOCTYPE html>
    <html lang="en">
      <head>${t}</head>
      <body id="page" style="margin:0">
        ${e}
        <style>${n}</style>
        ${i}
      </body>
    </html>
  `,yde=({id:t,head:e,html:n,css:i,foot:r})=>`
    <!DOCTYPE html>
    <html lang="en">
      <head>
        ${e}
      </head>
      <body id="page" style="margin:0;overflow:hidden;">
        ${n}
        <style>${i}</style>
        ${r}
        <style>
          [contenteditable="true"] { outline: 0 !important; }
        </style>
      </body>
    </html>
  `;var HN=E('<span class="_jsonSep svelte-ebb8sg">,</span>'),KN=E('<span class="_jsonBkt empty svelte-ebb8sg"> </span><!>',1),JN=E('<span class="_jsonSep svelte-ebb8sg">,</span>'),e8=E('<span class="_jsonBkt svelte-ebb8sg" role="button" tabindex="0"> </span><!>',1),t8=E('<span class="_jsonKey svelte-ebb8sg"> </span><span class="_jsonSep svelte-ebb8sg">:</span>',1),n8=E('<span class="_jsonSep svelte-ebb8sg">,</span>'),i8=E("<span> </span><!>",1),r8=E("<li><!> <!></li>"),s8=E('<span class="_jsonSep svelte-ebb8sg">,</span>'),o8=E('<span class="_jsonBkt svelte-ebb8sg" role="button" tabindex="0"> </span> <ul class="_jsonList svelte-ebb8sg"></ul> <span class="_jsonBkt svelte-ebb8sg" role="button" tabindex="0"> </span><!>',1);function dP(t,e){Se(e,!1);let n=F(e,"json",8),i=F(e,"depth",8,1/0),r=F(e,"_cur",8,0),s=F(e,"_last",8,!0),o=vn([]),a=vn(!1),l=vn(["",""]),c=vn(!1);function u(v){return v===null?"null":typeof v}function f(v){return JSON.stringify(v)}function h(v){switch(u(v)){case"function":return"f () {...}";case"symbol":return v.toString();default:return f(v)}}function d(){V(c,!g(c))}function p(v){v instanceof KeyboardEvent&&["Enter"," "].includes(v.key)&&d()}zt(()=>(mt(n()),g(a)),()=>{V(o,u(n())==="object"?Object.keys(n()):[]),V(a,Array.isArray(n())),V(l,g(a)?["[","]"]:["{","}"])}),zt(()=>(mt(i()),mt(r())),()=>{V(c,i()<r())}),wu(),Qa();var m=be(),O=he(m);J(O,()=>!g(o).length,v=>{var b=KN(),S=he(b),y=Q(S);$(S);var w=B(S);J(w,()=>!s(),P=>{var x=HN();T(P,x)}),de(()=>{Ae(S,"isArray",g(a)),Re(y,`${g(l)[0]??""}${g(l)[1]??""}`)}),T(v,b)},v=>{var b=be(),S=he(b);J(S,()=>g(c),y=>{var w=e8(),P=he(w),x=Q(P);$(P);var k=B(P);J(k,()=>!s()&&g(c),A=>{var D=JN();T(A,D)}),de(()=>{Ae(P,"isArray",g(a)),Re(x,`${g(l)[0]??""}...${g(l)[1]??""}`)}),Ve("click",P,d),Ve("keydown",P,p),T(y,w)},y=>{var w=o8(),P=he(w),x=Q(P,!0);$(P);var k=B(P,2);Rt(k,5,()=>g(o),Nt,(j,U,N)=>{var Y=r8(),z=Q(Y);J(z,()=>!g(a),Z=>{var K=t8(),I=he(K),H=Q(I,!0);de(()=>Re(H,f(g(U)))),$(I),On(),T(Z,K)});var q=B(z,2);J(q,()=>u(n()[g(U)])==="object",Z=>{var K=be(),I=he(K),H=ps(()=>r()+1),ee=ps(()=>N===g(o).length-1);dP(I,{get json(){return n()[g(U)]},get depth(){return i()},get _cur(){return g(H)},get _last(){return g(ee)}}),T(Z,K)},Z=>{var K=i8(),I=he(K);const H=ps(()=>`_jsonVal ${u(n()[g(U)])??""} svelte-ebb8sg`);var ee=Q(I,!0);de(()=>Re(ee,h(n()[g(U)]))),$(I);var ne=B(I);J(ne,()=>N<g(o).length-1,M=>{var X=n8();T(M,X)}),de(()=>Ti(I,g(H))),T(Z,K)}),$(Y),T(j,Y)}),$(k);var A=B(k,2),D=Q(A,!0);$(A);var W=B(A);J(W,()=>!s(),j=>{var U=s8();T(j,U)}),de(()=>{Ae(P,"isArray",g(a)),Re(x,g(l)[0]),Ae(A,"isArray",g(a)),Re(D,g(l)[1])}),Ve("click",P,d),Ve("keydown",P,p),Ve("click",A,d),Ve("keydown",A,p),T(y,w)},!0),T(v,b)}),T(t,m),$e()}const _f=Ce(!0),Vy=Ce(!0),a8=Ce(!0);function l8(t,e,n,i,r){g(e)===n.phone?i(n.tablet):g(e)===n.tablet?i(n.laptop):g(e)===n.laptop?i(n.desktop):i(n.phone),r()}async function u8(t,e,n){e()==="small"?(e("large"),n()):e("small")}function c8(t,e){e()==="vertical"?e("horizontal"):e()==="horizontal"&&e("vertical")}var f8=E(`<pre class="error-container svelte-s5sx8t">
      <!>
    </pre>`),h8=E('<!> <pre class="svelte-s5sx8t"><!></pre>',1),d8=E('<pre class="svelte-s5sx8t"><!></pre>'),p8=E('<div class="logs svelte-s5sx8t"><div class="log svelte-s5sx8t"><!></div></div>'),g8=E('<iframe tabindex="-1" title="Preview HTML" class="svelte-s5sx8t"></iframe>'),m8=E('<iframe tabindex="-1" title="Preview" class="svelte-s5sx8t"></iframe>'),O8=E('<button class="svelte-s5sx8t"><!></button> <button class="svelte-s5sx8t"><div class="static-width svelte-s5sx8t"> </div></button>',1),v8=E('<span class="svelte-s5sx8t"><!></span> <span class="svelte-s5sx8t"> </span>',1),b8=E("<span>static width</span>"),y8=E("<span>dynamic width</span>"),_8=(t,e,n)=>Mn(n,!e()),w8=E('<div class="footer-buttons svelte-s5sx8t"><div class="preview-width svelte-s5sx8t"><!></div> <button class="switch-view svelte-s5sx8t"><!> <!></button> <button class="preview-orientation svelte-s5sx8t"><!></button> <button title="Toggle auto-refresh (refresh with Command R)" class="auto-refresh svelte-s5sx8t"><!></button></div>'),x8=E('<div class="code-preview svelte-s5sx8t"><!> <!> <div class="preview-container svelte-s5sx8t"><!></div> <!></div>');function pP(t,e){Se(e,!0);const n=Je(),i=()=>me(Hh,"$siteCode",n),r=()=>me(pv,"$siteDesign",n),s=()=>me(Es,"$locale",n),o=()=>me(Vy,"$autoRefresh",n);let a=F(e,"code",19,()=>({html:"",css:"",js:""})),l=F(e,"view",15,"small"),c=F(e,"orientation",15,"horizontal"),u=F(e,"loading",15,!1),f=F(e,"hideControls",3,!1),h=F(e,"preview",3,null),d=F(e,"data",19,()=>({})),p=F(e,"append",3,"");Mn(a8,!1);let m=ce(null),O=ce("");_u(()=>{v()});async function v(){u(!0),await te(),await setTimeout(()=>{u(!1)},200);async function te(){const G=await Of({component:{html:`<svelte:head>${i().head+hP(r())}</svelte:head>`,css:"",js:"",data:mv({})}});G.error||V(O,se(G.head))}}let b=ce(null);async function S(te){if(!te.html)return;u(!0),await G(),await setTimeout(()=>{u(!1)},200);async function G(){const{js:re,error:oe}=await Of({component:{html:te.html,css:te.css,js:te.js,data:d()},buildStatic:!1});oe?(V(m,se(oe)),Mn(_f,!0)):(V(b,se(re)),V(m,null),Mn(_f,!1))}}let y;Ui(()=>{y=new BroadcastChannel("component_preview"),y.onmessage=({data:te})=>{const{event:G,payload:re}=te;G==="BEGIN"?(V(w,null),V(m,null)):G==="SET_CONSOLE_LOGS"?V(w,se(te.payload.logs)):G==="SET_ERROR"?V(m,se(te.payload.error)):G==="SET_ELEMENT_PATH"&&re.loc&&Mn(Rk,se(re.loc))}});let w=ce(void 0),P=ce(void 0);function x(te){var G=document.createElement("div");G.innerHTML=te,Array.from(G.childNodes).forEach(re=>{g(P).contentWindow.document.head.appendChild(re)})}let k=ce(void 0),A=ce(!1),D=ce(void 0),W=ce(void 0);async function j(){if(l()&&g(k)&&g(P)){await uh();const{clientWidth:te}=g(k),{clientWidth:G}=g(P),re=te/G;V(D,`scale(${re})`),V(W,100/re+"%")}}function U(te){V(K,se(te))}function N({iframeLoaded:te,componentApp:G}){te&&y.postMessage({event:"SET_APP",payload:{componentApp:G,data:d()}})}function Y(te){var re,oe;g(m)&&S(a());const G=(oe=(re=g(P))==null?void 0:re.contentDocument)==null?void 0:oe.querySelector("div.component");(G==null?void 0:G.innerHTML)===""?N({iframeLoaded:g(A),componentApp:g(b)}):g(A)&&y.postMessage({event:"SET_APP_DATA",payload:{data:te}})}function z(){if(!g(A)){V(A,!0);return}V(A,!1),g(P).srcdoc=Uy(s(),g(O))}let q=ce(void 0);const Z={phone:300,tablet:600,laptop:1200,desktop:1600};let K=ce(se(Z.laptop));function I(te){return te<Z.tablet?"bi:phone":te<Z.laptop?"ant-design:tablet-outlined":te<Z.desktop?"bi:laptop":"akar-icons:desktop-device"}at(()=>{S(a())}),at(()=>{g(P)&&(g(P).contentWindow.document.querySelectorAll("a").forEach(te=>{te.target="_blank"}),x(p()))}),at(()=>{g(b)&&N({iframeLoaded:g(A),componentApp:g(b)})}),at(()=>{Y(d())}),at(()=>{g(q),j()});let H=le(()=>I(g(q))),ee=le(()=>I(g(K)));var ne=x8();Ve("resize",Ym,j);var M=Q(ne);J(M,()=>g(m),te=>{var G=f8(),re=B(Q(G));eo(re,()=>g(m),!1,!1),On(),$(G),ln(3,G,()=>og,()=>({duration:100})),T(te,G)});var X=B(M,2);J(X,()=>g(w),te=>{var G=p8(),re=Q(G),oe=Q(re);J(oe,()=>typeof g(w)=="object",ue=>{var ae=h8(),xe=he(ae);dP(xe,{get json(){return g(w)}});var Qe=B(xe,2),Ue=Q(Qe);eo(Ue,()=>JSON,!1,!1),$(Qe),T(ue,ae)},ue=>{var ae=d8(),xe=Q(ae);eo(xe,()=>g(w),!1,!1),$(ae),T(ue,ae)}),$(re),$(G),ln(3,G,()=>og),T(te,G)});var R=B(X,2);un(R,te=>V(k,te),()=>g(k));var L=Q(R);J(L,()=>g(b),te=>{var G=g8();un(G,re=>V(P,re),()=>g(P)),de(()=>Ge(G,"srcdoc",Uy(s(),g(O)))),de(()=>{gn(G,"transform",l()==="large"?g(D):""),gn(G,"height",l()==="large"?g(W):"100%"),gn(G,"width",l()==="large"?`${g(K)}px`:"100%")}),Ve("load",G,z),sg(G),T(te,G)},te=>{var G=m8();un(G,re=>V(P,re),()=>g(P)),de(()=>{Ge(G,"srcdoc",h()),gn(G,"transform",l()==="large"?g(D):""),gn(G,"height",l()==="large"?g(W):"100%"),gn(G,"width",l()==="large"?`${g(K)}px`:"100%")}),Ve("load",G,()=>V(A,!0)),sg(G),T(te,G)}),$(R);var ie=B(R,2);J(ie,()=>!f(),te=>{var G=w8(),re=Q(G),oe=Q(re);J(oe,()=>l()==="large",Me=>{var ot=O8(),ft=he(ot);ft.__click=[l8,K,Z,U,j];var $n=Q(ft);ge($n,{get icon(){return g(ee)},height:"1rem"}),$(ft);var zi=B(ft,2),fn=Q(zi),Yi=Q(fn,!0);$(fn),$(zi),de(()=>Re(Yi,g(K))),sn(fn,(qn,Gr)=>Qg(qn,Gr),()=>({on_change:qn=>{V(K,se(Number(qn.target.textContent))),j()}})),T(Me,ot)},Me=>{var ot=v8(),ft=he(ot),$n=Q(ft);ge($n,{get icon(){return g(H)},height:"1rem"}),$(ft);var zi=B(ft,2),fn=Q(zi,!0);$(zi),de(()=>Re(fn,g(q))),T(Me,ot)}),$(re);var ue=B(re,2);ue.__click=[u8,l,j];var ae=Q(ue),xe=le(()=>l()==="small"?"fa-solid:compress-arrows-alt":"fa-solid:expand-arrows-alt");ge(ae,{get icon(){return g(xe)}});var Qe=B(ae,2);J(Qe,()=>l()==="large",Me=>{var ot=b8();T(Me,ot)},Me=>{var ot=y8();T(Me,ot)}),$(ue);var Ue=B(ue,2);Ue.__click=[c8,c];var we=Q(Ue);J(we,()=>c()==="vertical",Me=>{ge(Me,{icon:"charm:layout-rows"})},Me=>{var ot=be(),ft=he(ot);J(ft,()=>c()==="horizontal",$n=>{ge($n,{icon:"charm:layout-columns"})},null,!0),T(Me,ot)}),$(Ue);var De=B(Ue,2);De.__click=[_8,o,Vy];var We=Q(De);ge(We,{icon:"bx:refresh"}),$(De),$(G),de(()=>Ae(De,"toggled",o())),T(te,G)}),$(ne),de(()=>Ae(R,"loading",u())),ln(1,R,()=>In),Gm(R,"clientWidth",te=>V(q,te)),T(t,ne),$e()}st(["click"]);var S8=E('<div class="spinner-container svelte-cyu406"><!></div>'),$8=E('<iframe scrolling="no" title="Preview HTML" class="svelte-cyu406"></iframe>'),k8=E('<div class="IFrame svelte-cyu406"><!> <div class="iframe-container svelte-cyu406"><!></div></div>');function P8(t,e){Se(e,!0);let n=F(e,"height",15),i=F(e,"append",3,""),r=ce(void 0),s=ce(void 0),o=ce(void 0),a=ce(!1);async function l(){u(),await uh(),c()}function c(){const x=g(s).contentWindow.document.body.scrollHeight*g(f);n(x),V(h,se(g(s).contentWindow.document.body.scrollHeight)),V(a,!0)}function u(){if(!g(r)||!g(s))return;const{clientWidth:x}=g(r),{clientWidth:k}=g(s);V(f,x/k)}let f=ce(1),h=ce(void 0),d=ce(void 0),p=ce(void 0);function m(x){var k=document.createElement("div");k.innerHTML=x,Array.from(k.childNodes).forEach(A=>{g(s).contentWindow.document.body.appendChild(A)})}let O=ce(""),v={};function b(x){(x.html!==v.html||x.css!==v.css||x.js!==v.js)&&(v=_.cloneDeep(x),V(O,se(GN({head:x.head,html:x.html,css:x.css,foot:i()}))))}at(()=>{g(o)&&l()}),at(()=>{if(g(r)&&g(s)){g(d)&&g(d).disconnect(),g(p)&&g(p).disconnect();const x=g(r).closest(".sidebar");x&&(V(p,se(new ResizeObserver(u).observe(x))),V(d,se(new ResizeObserver(()=>{var k,A;(A=(k=g(s))==null?void 0:k.contentWindow.document.body)!=null&&A.childNodes&&(u(),c())}).observe(g(s)))))}}),at(()=>{g(s)&&m(i())}),at(()=>{e.componentCode&&b(e.componentCode)});var S=k8();Ve("resize",Ym,u);var y=Q(S);J(y,()=>!g(o),x=>{var k=S8(),A=Q(k);ge(A,{icon:"eos-icons:three-dots-loading"}),$(k),T(x,k)});var w=B(y,2);un(w,x=>V(r,x),()=>g(r));var P=Q(w);J(P,()=>e.componentCode,x=>{var k=$8();un(k,A=>V(s,A),()=>g(s)),de(()=>{Ge(k,"srcdoc",g(O)),Ae(k,"fadein",g(a)),gn(k,"transform",`scale(${g(f)??""})`),gn(k,"height",100/g(f)+"%")}),Ve("load",k,()=>V(o,!0)),sg(k),T(x,k)}),$(w),$(S),de(()=>gn(w,"height",`${g(h)*g(f)}px`)),T(t,S),$e()}function gP(t){try{xu(t)}catch{return t()}}function Q8(t,e){let n=[];const i=a=>{n.push(a)},r=()=>{n.forEach(a=>a()),n=[]},s=Wo(t,a=>(r(),e(a,i)));return gP(r),{...s,subscribe:(...a)=>{const l=s.subscribe(...a);return()=>{l(),r()}}}}function lp(t,e){if(!Uu)return()=>{};const n=Q8(t,(i,r)=>({stores:i,onUnsubscribe:r})).subscribe(({stores:i,onUnsubscribe:r})=>{const s=e(i);s&&r(s)});return gP(n),n}function T8(t){const e={};return Object.keys(t).forEach(n=>{const i=n,r=t[i];e[i]=Ce(r)}),e}function A8(t){return function(e,n){if(n===void 0)return;const i=t[e];i&&i.set(n)}}function Ov(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}let Mg=null,Gs=null;function mP(t){switch(t){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function C8(){Gs!==null&&(document.head.removeChild(Gs),Mg=null,Gs=null)}function up(t){if(Mg===t)return;Mg=t;const e=mP(t);Gs===null&&(Gs=document.createElement("style"),document.head.appendChild(Gs)),Gs.innerHTML=`*{cursor: ${e}!important;}`}function R8({defaultSize:t,dragState:e,layout:n,paneData:i,paneIndex:r,precision:s=3}){const o=n[r];let a;return o==null?a=t??"1":i.length===1?a="1":a=o.toPrecision(s),Ov({"flex-basis":0,"flex-grow":a,"flex-shrink":1,overflow:"hidden","pointer-events":e!==null?"none":void 0})}function E8({layout:t,panesArray:e,pivotIndices:n}){let i=0,r=100,s=0,o=0;const a=n[0];for(let f=0;f<e.length;f++){const{constraints:h}=e[f],{maxSize:d=100,minSize:p=0}=h;f===a?(i=p,r=d):(s+=p,o+=d)}const l=Math.min(r,100-s),c=Math.max(i,100-o),u=t[a];return{valueMax:l,valueMin:c,valueNow:u}}let q8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",M8=(t=21)=>{let e="",n=t;for(;n--;)e+=q8[Math.random()*64|0];return e};function vv(t=null){return t??M8(10)}const Z8=100,bv=10;function Ly(t){try{if(typeof localStorage>"u")throw new Error("localStorage is not supported in this environment");t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>localStorage.setItem(e,n)}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function OP(t){return`paneforge:${t}`}function vP(t){return t.map(n=>{const{constraints:i,id:r,idIsFromProps:s,order:o}=n;return s?r:o?`${o}:${JSON.stringify(i)}`:JSON.stringify(i)}).sort().join(",")}function bP(t,e){try{const n=OP(t),i=e.getItem(n),r=JSON.parse(i||"");if(typeof r=="object"&&r!==null)return r}catch{}return null}function D8(t,e,n){const i=bP(t,n)||{},r=vP(e);return i[r]||null}function j8(t,e,n,i,r){const s=OP(t),o=vP(e),a=bP(t,r)||{};a[o]={expandToSizes:Object.fromEntries(n.entries()),layout:i};try{r.setItem(s,JSON.stringify(a))}catch(l){console.error(l)}}const zy={};function W8(t,e=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}function B8({autoSaveId:t,layout:e,storage:n,paneDataArrayStore:i,paneSizeBeforeCollapseStore:r}){const s=pe(i);if(e.length===0||e.length!==s.length)return;let o=zy[t];o==null&&(o=W8(j8,Z8),zy[t]=o);const a=[...s],l=pe(r),c=new Map(l);o(t,a,c,e,n)}function yP(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=i)}return e}function I8(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Ls(t,e,n,i){const r=Array.isArray(e)?e:[e];return r.forEach(s=>t.addEventListener(s,n,i)),()=>{r.forEach(s=>t.removeEventListener(s,n,i))}}function ei(t,e,n=bv){return Fl(t,e,n)===0}function Fl(t,e,n=bv){const i=Yy(t,n),r=Yy(e,n);return Math.sign(i-r)}function il(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Yy(t,e){return parseFloat(t.toFixed(e))}function kt(t,e="Assertion failed!"){if(!t)throw console.error(e),Error(e)}function Bo({paneConstraints:t,paneIndex:e,initialSize:n}){const i=t[e];kt(i!=null,"Pane constraints should not be null.");const{collapsedSize:r=0,collapsible:s,maxSize:o=100,minSize:a=0}=i;let l=n;return Fl(l,a)<0&&(l=X8(l,s,r,a)),l=Math.min(o,l),parseFloat(l.toFixed(bv))}function X8(t,e,n,i){if(!e)return i;const r=(n+i)/2;return Fl(t,r)<0?n:i}function rl({delta:t,layout:e,paneConstraints:n,pivotIndices:i,trigger:r}){if(ei(t,0))return e;const s=[...e],[o,a]=i;let l=0;if(r==="keyboard"){{const u=t<0?a:o,f=n[u];if(kt(f),f.collapsible){const h=e[u];kt(h!=null);const d=n[u];kt(d);const{collapsedSize:p=0,minSize:m=0}=d;if(ei(h,p)){const O=m-h;Fl(O,Math.abs(t))>0&&(t=t<0?0-O:O)}}}{const u=t<0?o:a,f=n[u];kt(f);const{collapsible:h}=f;if(h){const d=e[u];kt(d!=null);const p=n[u];kt(p);const{collapsedSize:m=0,minSize:O=0}=p;if(ei(d,O)){const v=d-m;Fl(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}}{const u=t<0?1:-1;let f=t<0?a:o,h=0;for(;;){const p=e[f];kt(p!=null);const O=Bo({paneConstraints:n,paneIndex:f,initialSize:100})-p;if(h+=O,f+=u,f<0||f>=n.length)break}const d=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-d:d}{let f=t<0?o:a;for(;f>=0&&f<n.length;){const h=Math.abs(t)-Math.abs(l),d=e[f];kt(d!=null);const p=d-h,m=Bo({paneConstraints:n,paneIndex:f,initialSize:p});if(!ei(d,m)&&(l+=d-m,s[f]=m,l.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(ei(l,0))return e;{const u=t<0?a:o,f=e[u];kt(f!=null);const h=f+l,d=Bo({paneConstraints:n,paneIndex:u,initialSize:h});if(s[u]=d,!ei(d,h)){let p=h-d,O=t<0?a:o;for(;O>=0&&O<n.length;){const v=s[O];kt(v!=null);const b=v+p,S=Bo({paneConstraints:n,paneIndex:O,initialSize:b});if(ei(v,S)||(p-=S-v,s[O]=S),ei(p,0))break;t>0?O--:O++}}}const c=s.reduce((u,f)=>f+u,0);return ei(c,100)?s:e}const Uu=typeof document<"u";function U8(t){return t instanceof HTMLElement}function _P(t){return t.type==="keydown"}function wP(t){return t.type.startsWith("mouse")}function xP(t){return t.type.startsWith("touch")}const Io={getItem:t=>(Ly(Io),Io.getItem(t)),setItem:(t,e)=>{Ly(Io),Io.setItem(t,e)}},V8={id:null,onLayout:null,keyboardResizeBy:null,autoSaveId:null,direction:"horizontal",storage:Io};function L8(t){const e={...V8,...yP(t)},n=T8(e),{autoSaveId:i,direction:r,keyboardResizeBy:s,storage:o,onLayout:a}=n,l=Ce(vv()),c=Ce(null),u=Ce([]),f=Ce([]),h=Ce(!1),d=Ce({}),p=Ce(new Map),m=Ce(0);lp([l,u,f],([Z,K,I])=>z8({groupId:Z,layout:K,paneDataArray:I})),Ui(()=>Y()),lp([i,u,o],([Z,K,I])=>{Z&&B8({autoSaveId:Z,layout:K,storage:I,paneDataArrayStore:f,paneSizeBeforeCollapseStore:p})});function O(Z){const K=pe(u),I=pe(f);if(!Z.constraints.collapsible)return;const H=I.map(te=>te.constraints),{collapsedSize:ee=0,paneSize:ne,pivotIndices:M}=Eo(I,Z,K);if(kt(ne!=null),ne===ee)return;p.update(te=>(te.set(Z.id,ne),te));const R=Zo(I,Z)===I.length-1?ne-ee:ee-ne,L=rl({delta:R,layout:K,paneConstraints:H,pivotIndices:M,trigger:"imperative-api"});if(il(K,L))return;u.set(L);const ie=pe(a);ie&&ie(L),sl(I,L,pe(d))}function v(Z){const K=pe(u),I=pe(f),{paneSize:H}=Eo(I,Z,K);return H}const b=Wo([f,u,c],([Z,K,I])=>(H,ee)=>{const ne=Zo(Z,H);return R8({defaultSize:ee,dragState:I,layout:K,paneData:Z,paneIndex:ne})});function S(Z){const K=pe(f),I=pe(u),{collapsedSize:H=0,collapsible:ee,paneSize:ne}=Eo(K,Z,I);return!ee||ne>H}function y(Z){f.update(K=>{const I=[...K,Z];return I.sort((H,ee)=>{const ne=H.order,M=ee.order;return ne==null&&M==null?0:ne==null?-1:M==null?1:ne-M}),I}),h.set(!0)}lp([h],([Z])=>{if(!Z)return;h.set(!1);const K=pe(i),I=pe(o),H=pe(u),ee=pe(f);let ne=null;if(K){const R=D8(K,ee,I);R&&(p.set(new Map(Object.entries(R.expandToSizes))),ne=R.layout)}ne==null&&(ne=F8({paneDataArray:ee}));const M=G8({layout:ne,paneConstraints:ee.map(R=>R.constraints)});if(il(H,M))return;u.set(M);const X=pe(a);X&&X(M),sl(ee,M,pe(d))});function w(Z){return function(I){I.preventDefault();const H=pe(r),ee=pe(c),ne=pe(l),M=pe(s),X=pe(u),R=pe(f),{initialLayout:L}=ee??{},ie=Fy(ne,Z);let te=H8(I,Z,H,ee,M);if(te===0)return;const G=H==="horizontal";document.dir==="rtl"&&G&&(te=-te);const re=R.map(ae=>ae.constraints),oe=rl({delta:te,layout:L??X,paneConstraints:re,pivotIndices:ie,trigger:_P(I)?"keyboard":"mouse-or-touch"}),ue=!il(X,oe);if((wP(I)||xP(I))&&pe(m)!=te&&(m.set(te),up(ue?G?"horizontal":"vertical":G?te<0?"horizontal-min":"horizontal-max":te<0?"vertical-min":"vertical-max")),ue){u.set(oe);const ae=pe(a);ae&&ae(oe),sl(R,oe,pe(d))}}}function P(Z,K){const I=pe(u),H=pe(f),ee=H.map(te=>te.constraints),{paneSize:ne,pivotIndices:M}=Eo(H,Z,I);kt(ne!=null);const R=Zo(H,Z)===H.length-1?ne-K:K-ne,L=rl({delta:R,layout:I,paneConstraints:ee,pivotIndices:M,trigger:"imperative-api"});if(il(I,L))return;u.set(L);const ie=pe(a);ie==null||ie(L),sl(H,L,pe(d))}function x(Z,K){const I=pe(r),H=pe(u),ee=yv(Z);kt(ee);const ne=$P(I,K);c.set({dragHandleId:Z,dragHandleRect:ee.getBoundingClientRect(),initialCursorPosition:ne,initialLayout:H})}function k(){C8(),c.set(null)}function A(Z){const K=pe(f),I=Zo(K,Z);I<0||f.update(H=>(H.splice(I,1),d.update(ee=>(delete ee[Z.id],ee)),h.set(!0),H))}function D(Z){const K=pe(f),I=pe(u),{collapsedSize:H=0,collapsible:ee,paneSize:ne}=Eo(K,Z,I);return ee===!0&&ne===H}function W(Z){const K=pe(u),I=pe(f);if(!Z.constraints.collapsible)return;const H=I.map(oe=>oe.constraints),{collapsedSize:ee=0,paneSize:ne,minSize:M=0,pivotIndices:X}=Eo(I,Z,K);if(ne!==ee)return;const R=pe(p).get(Z.id),L=R!=null&&R>=M?R:M,te=Zo(I,Z)===I.length-1?ne-L:L-ne,G=rl({delta:te,layout:K,paneConstraints:H,pivotIndices:X,trigger:"imperative-api"});if(il(K,G))return;u.set(G);const re=pe(a);re==null||re(G),sl(I,G,pe(d))}const j=Wo([r],([Z])=>Ov({display:"flex","flex-direction":Z==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"})),U=Wo([r,l],([Z,K])=>({"data-pane-group":"","data-direction":Z,"data-pane-group-id":K})),N=Wo([j,U],([Z,K])=>({style:Z,...K}));function Y(){const Z=pe(l),I=Vu(Z).map(H=>{const ee=H.getAttribute("data-pane-resizer-id");if(!ee)return Ny;const[ne,M]=N8(Z,ee,pe(f));if(ne==null||M==null)return Ny;const R=Ls(H,"keydown",L=>{if(L.defaultPrevented||L.key!=="Enter")return;L.preventDefault();const ie=pe(f),te=ie.findIndex(Ue=>Ue.id===ne);if(te<0)return;const G=ie[te];kt(G);const re=pe(u),oe=re[te],{collapsedSize:ue=0,collapsible:ae,minSize:xe=0}=G.constraints;if(!(oe!=null&&ae))return;const Qe=rl({delta:ei(oe,ue)?xe-oe:ue-oe,layout:re,paneConstraints:ie.map(Ue=>Ue.constraints),pivotIndices:Fy(Z,ee),trigger:"keyboard"});re!==Qe&&u.set(Qe)});return()=>{R()}});return()=>{I.forEach(H=>H())}}function z(Z){u.set(Z)}function q(){return pe(u)}return{methods:{collapsePane:O,expandPane:W,getSize:v,getPaneStyle:b,isCollapsed:D,isExpanded:S,registerPane:y,registerResizeHandle:w,resizePane:P,startDragging:x,stopDragging:k,unregisterPane:A,setLayout:z,getLayout:q},states:{direction:r,dragState:c,groupId:l,paneGroupAttrs:N,paneGroupSelectors:U,paneGroupStyle:j,layout:u},options:n}}function z8({groupId:t,layout:e,paneDataArray:n}){const i=Vu(t);for(let r=0;r<n.length-1;r++){const{valueMax:s,valueMin:o,valueNow:a}=E8({layout:e,panesArray:n,pivotIndices:[r,r+1]}),l=i[r];if(U8(l)){const c=n[r];l.setAttribute("aria-controls",c.id),l.setAttribute("aria-valuemax",""+Math.round(s)),l.setAttribute("aria-valuemin",""+Math.round(o)),l.setAttribute("aria-valuenow",a!=null?""+Math.round(a):"")}}return()=>{i.forEach(r=>{r.removeAttribute("aria-controls"),r.removeAttribute("aria-valuemax"),r.removeAttribute("aria-valuemin"),r.removeAttribute("aria-valuenow")})}}function Vu(t){return Uu?Array.from(document.querySelectorAll(`[data-pane-resizer-id][data-pane-group-id="${t}"]`)):[]}function Y8(t){if(!Uu)return null;const e=document.querySelector(`[data-pane-group][data-pane-group-id="${t}"]`);return e||null}function Ny(){}function N8(t,e,n){var l,c;const i=yv(e),r=Vu(t),s=i?r.indexOf(i):-1,o=((l=n[s])==null?void 0:l.id)??null,a=((c=n[s+1])==null?void 0:c.id)??null;return[o,a]}function yv(t){if(!Uu)return null;const e=document.querySelector(`[data-pane-resizer-id="${t}"]`);return e||null}function SP(t,e){return Uu?Vu(t).findIndex(r=>r.getAttribute("data-pane-resizer-id")===e)??null:null}function Fy(t,e){const n=SP(t,e);return n!=null?[n,n+1]:[-1,-1]}function Eo(t,e,n){const i=t.map(c=>c.constraints),r=Zo(t,e),s=i[r],a=r===t.length-1?[r-1,r]:[r,r+1],l=n[r];return{...s,paneSize:l,pivotIndices:a}}function Zo(t,e){return t.findIndex(n=>n.id===e.id)}function sl(t,e,n){e.forEach((i,r)=>{const s=t[r];kt(s);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:u}=a,f=n[l];if(!(f==null||i!==f))return;n[l]=i;const{onCollapse:h,onExpand:d,onResize:p}=o;p==null||p(i,f),u&&(h||d)&&(d&&(f==null||f===c)&&i!==c&&d(),h&&(f==null||f!==c)&&i===c&&h())})}function F8({paneDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let i=0,r=100;for(let s=0;s<t.length;s++){const o=n[s];kt(o);const{defaultSize:a}=o;a!=null&&(i++,e[s]=a,r-=a)}for(let s=0;s<t.length;s++){const o=n[s];kt(o);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-i,c=r/l;i++,e[s]=c,r-=c}return e}function G8({layout:t,paneConstraints:e}){const n=[...t],i=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} pane layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!ei(i,100))for(let s=0;s<e.length;s++){const o=n[s];kt(o!=null);const a=100/i*o;n[s]=a}let r=0;for(let s=0;s<e.length;s++){const o=n[s];kt(o!=null);const a=Bo({paneConstraints:e,paneIndex:s,initialSize:o});o!=a&&(r+=o-a,n[s]=a)}if(!ei(r,0))for(let s=0;s<e.length;s++){const o=n[s];kt(o!=null);const a=o+r,l=Bo({paneConstraints:e,paneIndex:s,initialSize:a});if(o!==l&&(r-=l-o,n[s]=l,ei(r,0)))break}return n}function H8(t,e,n,i,r){if(_P(t)){const s=n==="horizontal";let o=0;t.shiftKey?o=100:r!=null?o=r:o=10;let a=0;switch(t.key){case"ArrowDown":a=s?0:o;break;case"ArrowLeft":a=s?-o:0;break;case"ArrowRight":a=s?o:0;break;case"ArrowUp":a=s?0:-o;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return i==null?0:K8(t,e,n,i)}function K8(t,e,n,i){const r=n==="horizontal",s=yv(e);kt(s);const o=s.getAttribute("data-pane-group-id");kt(o);const{initialCursorPosition:a}=i,l=$P(n,t),c=Y8(o);kt(c);const u=c.getBoundingClientRect(),f=r?u.width:u.height;return(l-a)/f*100}function $P(t,e){const n=t==="horizontal";if(wP(e))return n?e.clientX:e.clientY;if(xP(e)){const i=e.touches[0];return kt(i),n?i.screenX:i.screenY}else throw Error(`Unsupported event type "${e.type}"`)}const Zg=Symbol("PF_GROUP_CTX");function J8(t){const e=L8(yP(t)),n=A8(e.options),i={...e,updateOption:n};return mx(Zg,i),i}function kP(t){if(!cR(Zg))throw new Error(`${t} components must be rendered with a <PaneGroup> container`);return kl(Zg)}var eF=E("<div><!></div>");function lo(t,e){const n=la(e,["children","$$slots","$$events","$$legacy"]),i=la(n,["autoSaveId","direction","id","keyboardResizeBy","onLayoutChange","storage","el","paneGroup","style"]);Se(e,!1);const r=Je(),s=()=>me(y,"$groupId",r),o=()=>me(b,"$paneGroupStyle",r),a=()=>me(S,"$paneGroupSelectors",r),l=vn();let c=F(e,"autoSaveId",8,null),u=F(e,"direction",8),f=F(e,"id",8,null),h=F(e,"keyboardResizeBy",8,null),d=F(e,"onLayoutChange",8,null),p=F(e,"storage",8,Io),m=F(e,"el",28,()=>{}),O=F(e,"paneGroup",28,()=>{}),v=F(e,"style",24,()=>{});const{states:{paneGroupStyle:b,paneGroupSelectors:S,groupId:y},methods:{setLayout:w,getLayout:P},updateOption:x}=J8({autoSaveId:c(),direction:u(),id:f(),keyboardResizeBy:h(),onLayout:d(),storage:p()});O({getLayout:P,setLayout:w,getId:()=>s()}),zt(()=>mt(c()),()=>{x("autoSaveId",c())}),zt(()=>mt(u()),()=>{x("direction",u())}),zt(()=>mt(f()),()=>{x("id",f())}),zt(()=>mt(h()),()=>{x("keyboardResizeBy",h())}),zt(()=>mt(d()),()=>{x("onLayout",d())}),zt(()=>mt(p()),()=>{x("storage",p())}),zt(()=>(o(),mt(v())),()=>{V(l,o()+(v()??""))}),wu(),Qa();var k=eF();un(k,W=>m(W),()=>m());let A;var D=Q(k);to(D,e,"default",{},null),$(k),de(()=>A=Bl(k,A,{id:s(),...a(),style:g(l),...i})),T(t,k),$e()}var tF=E("<div><!></div>");function kn(t,e){const n=la(e,["children","$$slots","$$events","$$legacy"]),i=la(n,["collapsedSize","collapsible","defaultSize","maxSize","minSize","onCollapse","onExpand","onResize","order","el","pane","id","style"]);Se(e,!1);const r=Je(),s=()=>me(P,"$getPaneStyle",r),o=()=>me(Y,"$groupId",r),a=vn(),l=vn();let c=F(e,"collapsedSize",24,()=>{}),u=F(e,"collapsible",24,()=>{}),f=F(e,"defaultSize",24,()=>{}),h=F(e,"maxSize",24,()=>{}),d=F(e,"minSize",24,()=>{}),p=F(e,"onCollapse",24,()=>{}),m=F(e,"onExpand",24,()=>{}),O=F(e,"onResize",24,()=>{}),v=F(e,"order",24,()=>{}),b=F(e,"el",28,()=>{}),S=F(e,"pane",28,()=>{}),y=F(e,"id",24,()=>{}),w=F(e,"style",24,()=>{});const{methods:{getPaneStyle:P,registerPane:x,unregisterPane:k,collapsePane:A,expandPane:D,getSize:W,isCollapsed:j,isExpanded:U,resizePane:N},states:{groupId:Y}}=kP("Pane"),z=vv(y());let q=vn();S({collapse:()=>{A(g(q))},expand:()=>D(g(q)),getSize:()=>W(g(q)),isCollapsed:()=>j(g(q)),isExpanded:()=>U(g(q)),resize:H=>N(g(q),H),getId:()=>z}),Ui(()=>(x(g(q)),()=>{k(g(q))})),zt(()=>(mt(p()),mt(m()),mt(O()),mt(c()),mt(u()),mt(f()),mt(h()),mt(d()),mt(y()),mt(v())),()=>{V(q,{callbacks:{onCollapse:p(),onExpand:m(),onResize:O()},constraints:{collapsedSize:c(),collapsible:u(),defaultSize:f(),maxSize:h(),minSize:d()},id:z,idIsFromProps:y()!==void 0,order:v()})}),zt(()=>(s(),g(q),mt(f()),mt(w())),()=>{V(a,s()(g(q),f())+(w()??""))}),zt(()=>o(),()=>{V(l,{"data-pane":"","data-pane-id":z,"data-pane-group-id":o()})}),wu(),Qa();var Z=tF();un(Z,H=>b(H),()=>b());let K;var I=Q(Z);to(I,e,"default",{},null),$(Z),de(()=>K=Bl(Z,K,{style:g(a),...g(l),...i})),T(t,Z),$e()}function nF(t,e){let n=()=>{};function i(r){n();const{disabled:s,resizeHandler:o,isDragging:a,stopDragging:l,onDragging:c=void 0}=r;if(s||o===null||!a)return;const u=d=>{o(d)},f=d=>{o(d)},h=()=>{t.blur(),l(),c&&c(!1)};n=I8(Ls(document.body,"contextmenu",h),Ls(document.body,"mousemove",u),Ls(document.body,"touchmove",u,{passive:!1}),Ls(document.body,"mouseleave",f),Ls(window,"mouseup",h),Ls(window,"touchend",h))}return i(e),{update:i,onDestroy(){n()}}}var iF=E("<div><!></div>");function _s(t,e){const n=la(e,["children","$$slots","$$events","$$legacy"]),i=la(n,["disabled","onDraggingChange","tabIndex","el","id","style"]);Se(e,!1);const r=Je(),s=()=>me(w,"$dragState",r),o=()=>me(P,"$groupId",r),a=()=>me(y,"$direction",r),l=vn(),c=vn(),u=vn();let f=F(e,"disabled",8,!1),h=F(e,"onDraggingChange",24,()=>{}),d=F(e,"tabIndex",8,0),p=F(e,"el",12,null),m=F(e,"id",24,()=>{}),O=F(e,"style",24,()=>{});const{methods:{registerResizeHandle:v,startDragging:b,stopDragging:S},states:{direction:y,dragState:w,groupId:P}}=kP("PaneResizer"),x=vv(m());let k=vn(!1),A=vn(null);function D(){var z;const Y=p();Y&&(Y.blur(),S(),(z=h())==null||z(!1))}Ui(()=>{f()?V(A,null):V(A,v(x))});function W(Y){if(f()||!g(A)||Y.defaultPrevented)return;if(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home"].includes(Y.key)){Y.preventDefault(),g(A)(Y);return}if(Y.key!=="F6")return;Y.preventDefault();const q=Vu(o()),Z=SP(o(),x);if(Z===null)return;const K=Y.shiftKey?Z>0?Z-1:q.length-1:Z+1<q.length?Z+1:0;q[K].focus()}zt(()=>s(),()=>{var Y;V(l,((Y=s())==null?void 0:Y.dragHandleId)===x)}),zt(()=>mt(f()),()=>{f()?V(A,null):V(A,v(x))}),zt(()=>(a(),mt(O())),()=>{V(c,Ov({cursor:mP(a()),"touch-action":"none","user-select":"none","-webkit-user-select":"none","-webkit-touch-callout":"none"})+O())}),zt(()=>(a(),o(),g(l),g(k),mt(f())),()=>{V(u,{"data-direction":a(),"data-pane-group-id":o(),"data-active":g(l)?"pointer":g(k)?"keyboard":void 0,"data-enabled":!f(),"data-pane-resizer-id":x,"data-pane-resizer":""})}),wu(),Qa();var j=iF();un(j,Y=>p(Y),()=>p());let U;var N=Q(j);to(N,e,"default",{},null),$(j),de(()=>U=Bl(j,U,{role:"separator",style:g(c),tabindex:d(),...g(u),...i})),sn(j,(Y,z)=>nF(Y,z),()=>({disabled:f(),resizeHandler:g(A),stopDragging:S,isDragging:g(l),onDragging:h()})),qi(()=>Ve("keydown",j,W)),qi(()=>Ve("blur",j,()=>V(k,!1))),qi(()=>Ve("focus",j,()=>V(k,!0))),qi(()=>Ve("mousedown",j,Y=>{var z;Y.preventDefault(),b(x,Y),(z=h())==null||z(!0)})),qi(()=>Ve("mouseup",j,D)),qi(()=>Ve("touchcancel",j,D)),qi(()=>Ve("touchend",j,D)),qi(()=>Ve("touchstart",j,Y=>{var z;Y.preventDefault(),b(x,Y),(z=h())==null||z(!0)})),T(t,j),$e()}var rF=E('<div class="svelte-j8eaq1"><!></div>');function sF(t,e){Se(e,!0);let n=F(e,"oninput",3,()=>{});var i=rF(),r=Q(i);Be(r,()=>nt.TextInput,(s,o)=>{o(s,gs(()=>e.field,{get value(){return e.value},oninput:a=>n()({value:a}),type:"number"}))}),$(i),T(t,i),$e()}var oF=E('<div class="spinner-container svelte-153oh71"><!></div>'),aF=E('<span class="field-size svelte-153oh71"> </span>'),lF=E('<img alt="Preview" class="svelte-153oh71">'),uF=E('<span class="svelte-153oh71">Upload</span>'),cF=({target:t},e)=>{const{files:n}=t;if(n.length>0){const i=n[0];e(i)}},fF=E('<!> <!> <label class="image-upload svelte-153oh71"><!> <!> <input type="file" accept="image/*" class="svelte-153oh71"></label>',1),hF=E('<div class="ImageField svelte-153oh71"><span class="primo--field-label svelte-153oh71"> </span> <div class="image-info svelte-153oh71"><div class="image-preview svelte-153oh71"><!></div> <div class="inputs svelte-153oh71"><!> <!></div></div></div> <!>',1);function dF(t,e){Se(e,!0);const n=Je(),i=()=>me(Pt,"$site",n),r={alt:"",url:""};let s=F(e,"value",15),o=F(e,"oninput",3,()=>{});(typeof s()=="string"||!s())&&s(_.cloneDeep(r));function a({url:A=s().url,alt:D=s().alt,size:W}){o()({value:{url:A,alt:D},metadata:{size:W}})}async function l(A){V(f,!0),await D(A);async function D(W){const j=`${i().id}/${W.lastModified+W.name}`,{url:U,size:N}=await Iu({action:"upload",key:j,file:W});U&&(V(u,se(U)),a({url:U,size:N}),V(c,se(N))),V(f,!1)}}let c=ce(null),u=ce(se(s().url||"")),f=ce(!1),h=ce(void 0),d=le(()=>g(h)<200);var p=hF(),m=he(p),O=Q(m),v=Q(O,!0);$(O);var b=B(O,2),S=Q(b),y=Q(S);J(y,()=>g(f),A=>{var D=oF(),W=Q(D);vk(W,{}),$(D),T(A,D)},A=>{var D=fF(),W=he(D);J(W,()=>g(c),q=>{var Z=aF(),K=Q(Z);$(Z),de(()=>Re(K,`${g(c)??""}KB`)),T(q,Z)});var j=B(W,2);J(j,()=>s().url,q=>{var Z=lF();de(()=>Ge(Z,"src",g(u))),T(q,Z)});var U=B(j,2),N=Q(U);ge(N,{icon:"uil:image-upload"});var Y=B(N,2);J(Y,()=>!s().url,q=>{var Z=uF();T(q,Z)});var z=B(Y,2);z.__change=[cF,l],$(U),T(A,D)}),$(S);var w=B(S,2),P=Q(w);fa(P,{get value(){return s().alt},label:"Description",oninput:A=>a({alt:A})});var x=B(P,2);fa(x,{get value(){return s().url},label:"URL",oninput:A=>{V(u,se(A)),a({url:A})}}),$(w),$(b),$(m);var k=B(m,2);$r(k,()=>e.children??ds),de(()=>{Ae(m,"collapsed",g(d)),Re(v,e.field.label)}),Gm(m,"clientWidth",A=>V(h,A)),T(t,p),$e()}st(["change"]);var pF=({target:t},e)=>e(t.value),gF=E('<label class="svelte-1tbb8e0"><span class="primo--field-label svelte-1tbb8e0"> </span> <textarea rows="1" class="svelte-1tbb8e0"></textarea></label>');function mF(t,e){var f;Se(e,!0);let n=F(e,"value",15),i=F(e,"oninput",3,()=>{});typeof n()=="string"?n({markdown:n(),html:n()}):(typeof n()!="object"||!((f=n())!=null&&f.hasOwnProperty("markdown")))&&n({markdown:"",html:""});let r=ce(void 0);Ui(()=>HO(g(r)));function s({target:h}){}async function o(h){const d=await cP(h);i()({value:{html:d,markdown:h}})}var a=gF(),l=Q(a),c=Q(l,!0);$(l);var u=B(l,2);un(u,h=>V(r,h),()=>g(r)),vx(u),u.__keydown=onkeydown,u.__input=[pF,o],$(a),de(()=>{Ge(a,"for",e.field.id),Re(c,e.field.label),Ge(u,"id",e.field.id),aa(u,n().markdown)}),Ve("focus",u,s),T(t,a),$e()}st(["keydown","input"]);var OF=E('<div class="svelte-j8eaq1"><!></div>');function vF(t,e){Se(e,!0);let n=F(e,"value",3,!1),i=F(e,"oninput",3,()=>{});var r=OF(),s=Q(r);Be(s,()=>nt.Switch,(o,a)=>{a(o,{get label(){return e.field.label},get field(){return e.field},get value(){return n()},oninput:l=>i()({value:l})})}),$(r),T(t,r),$e()}var bF=E('<div class="svelte-j8eaq1"><!></div>');function yF(t,e){let n=F(e,"oninput",3,()=>{});var i=bF(),r=Q(i);Be(r,()=>nt.TextInput,(s,o)=>{o(s,gs(()=>e.field,{get value(){return e.value},get oninput(){return n()},type:"url"}))}),$(i),T(t,i)}var _F=(t,e)=>V(e,"page"),wF=(t,e)=>V(e,"url"),xF=E('<div class="Link svelte-gx6je2"><div class="inputs svelte-gx6je2"><!> <div class="url-select svelte-gx6je2"><div class="toggle svelte-gx6je2"><button class="svelte-gx6je2"><!> <span>Page</span></button> <button class="svelte-gx6je2"><!> <span>URL</span></button></div> <!></div></div></div> <!>',1);function SF(t,e){Se(e,!0);const n=Je(),i=()=>me(vr,"$pages",n),r=()=>me(Es,"$locale",n);At();const s={label:"",url:"",active:!1};let o=F(e,"value",15);(!o()||typeof o()=="string"||!o().label)&&o(_.cloneDeep(s));let a=ce(se(l(o().url)));function l(A){return A&&A.startsWith("/")?"page":"url"}let c=le(()=>{var A;return(A=e.metadata)!=null&&A.page_id&&i().find(D=>D.id===e.metadata.page_id)||i()[0]});function u(A){const D=r()==="en"?"/":`/${r()}/`;if(A.slug==="")return D;{let W=[];if(A.parent){let j=!1,U=i().find(N=>N.id===A.parent);for(W.push(U.slug);!j;)U=i().find(N=>N.id===U.parent),U?W.unshift(U.slug):j=!0}return W.length?D+W.join("/")+"/"+A.slug:D+A.slug}}function f({label:A=o().label,url:D=o().url},W=g(c).id){e.oninput({value:{label:A,url:D},metadata:{page_id:W}})}let h=ce(!!o().label);var d=xF(),p=he(d),m=Q(p),O=Q(m);Be(O,()=>nt.TextInput,(A,D)=>{D(A,{get label(){return e.field.label},oninput:W=>{V(h,!0),f({label:W})},get value(){return o().label},id:"page-label",placeholder:"About Us"})});var v=B(O,2),b=Q(v),S=Q(b);S.__click=[_F,a];var y=Q(S);ge(y,{icon:"iconoir:multiple-pages"}),On(2),$(S);var w=B(S,2);w.__click=[wF,a];var P=Q(w);ge(P,{icon:"akar-icons:link-chain"}),On(2),$(w),$(b);var x=B(b,2);J(x,()=>g(a)==="page",A=>{var D=be();const W=le(()=>i().filter(N=>!N.parent));var j=he(D),U=le(()=>g(W).map(N=>({label:N.name,value:N.id,suboptions:i().filter(Y=>Y.parent===N.id).map(Y=>({label:Y.name,value:Y.id}))})));Be(j,()=>nt.Select,(N,Y)=>{Y(N,{get value(){return g(c).id},get options(){return g(U)},$$events:{input:({detail:z})=>{const q=i().find(Z=>Z.id===z);f({url:u(q),label:o().label||q.name},z)}}})}),T(A,D)},A=>{var D=be(),W=he(D);Be(W,()=>nt.TextInput,(j,U)=>{U(j,{oninput:N=>f({url:N}),get value(){return o().url},type:"url",placeholder:"https://primocms.org"})}),T(A,D)}),$(v),$(m),$(p);var k=B(p,2);$r(k,()=>e.children??ds),de(()=>{Ae(S,"active",g(a)==="page"),Ae(w,"active",g(a)==="url")}),T(t,d),$e()}st(["click"]);var $F=E('<div class="main info-field svelte-ypd49v"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="svelte-ypd49v"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> <!></div>');function kF(t,e){Se(e,!0);let n=F(e,"field",19,()=>({options:{info:""}})),i=ce("");cP(n().options.info).then(o=>{V(i,se(o))});var r=$F(),s=B(Q(r),2);eo(s,()=>g(i),!1,!1),$(r),T(t,r),$e()}var PF=E("<span>This field doesn't have any options</span>"),QF=E('<div class="SelectField svelte-zroxla"><!></div>');function TF(t,e){var a,l;Se(e,!0);let n=F(e,"field",15),i=F(e,"oninput",3,()=>{});(l=(a=n())==null?void 0:a.options)!=null&&l.options||n(n().options={options:[]},!0),uh().then(()=>{var c;e.value||i()({value:(c=n().options.options[0])==null?void 0:c.value})});let r=le(()=>n().options.options);var s=QF(),o=Q(s);J(o,()=>g(r).length>0,c=>{var u=be(),f=he(u);Be(f,()=>nt.Select,(h,d)=>{d(h,{fullwidth:!0,get label(){return n().label},get options(){return g(r)},get value(){return e.value},$$events:{input:({detail:p})=>i()({value:p})}})}),T(c,u)},c=>{var u=PF();T(c,u)}),$(s),T(t,s),$e()}st(["change"]);function AF(t){const e=t-1;return e*e*e+1}function PP(t,{from:e,to:n},i={}){var r=getComputedStyle(t),s=CF(t),o=r.transform==="none"?"":r.transform,[a,l]=r.transformOrigin.split(" ").map(parseFloat),c=e.width/n.width,u=e.height/n.height,f=(e.left+c*a-(n.left+a))/s,h=(e.top+u*l-(n.top+l))/s,{delay:d=0,duration:p=O=>Math.sqrt(O)*120,easing:m=AF}=i;return{delay:d,duration:typeof p=="function"?p(Math.sqrt(f*f+h*h)):p,easing:m,css:(O,v)=>{var b=v*f,S=v*h,y=O+v*c,w=O+v*u;return`transform: ${o} scale(${y}, ${w}) translate(${b}px, ${S}px);`}}}function CF(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}const QP=Ce(null);Qt(()=>import("./index.0oCuBUq1.js"),[],import.meta.url).then(t=>QP.set(t.default));var RF=(t,e)=>e("toggle"),EF=E('<img class="svelte-zlaa33">'),qF=E('<div style="font-size:1.5rem;"><!></div>'),MF=E('<span style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;min-height: 19px;"> </span>'),ZF=(t,e,n)=>e("remove",n.repeater_item),DF=E('<div class="repeater-item-field svelte-zlaa33"><!></div>'),jF=E('<div class="field-values svelte-zlaa33"></div>'),WF=E('<div class="RepeaterFieldItem svelte-zlaa33"><div class="repeater-item-container svelte-zlaa33"><div class="item-options svelte-zlaa33"><button class="title svelte-zlaa33"><!> <!></button> <div class="primo-buttons svelte-zlaa33"><button class="svelte-zlaa33"><!></button> <button class="svelte-zlaa33"><!></button></div></div> <!></div></div>');function BF(t,e){Se(e,!0);const n=Je(),i=()=>me(Nr,"$fieldTypes",n),r=()=>me(QP,"$pluralize",n),s=At();let o=F(e,"oninput",3,()=>{});function a(z){const q=_.find(i(),["id",z.type]);return q?q.component:null}function l(z){return e.entries.find(Z=>Z.field===z.id&&Z.parent===e.repeater_item.id)}function c(z){var Z;const[q]=e.subfields;if(q&&q.type==="image"){const K=e.entries.find(I=>I.field===q.id&&I.parent===z.id);return(Z=K==null?void 0:K.value)==null?void 0:Z.url}else return null}function u(z){const[q]=e.subfields;if(q&&q.type==="icon"){const Z=e.entries.find(K=>K.field===q.id&&K.parent===z.id);return Z==null?void 0:Z.value}else return null}function f(z){var Z,K;const q=e.subfields.find(I=>["text","markdown","link","number"].includes(I.type));if(q){const I=e.entries.find(H=>H.field===q.id&&H.parent===z.id);return q.type==="link"?(Z=I==null?void 0:I.value)==null?void 0:Z.label:q.type==="markdown"?(K=I==null?void 0:I.value)==null?void 0:K.markdown:I==null?void 0:I.value}else return g(m)}function h(z,q){if(!z.options.condition)return!0;const{field:Z,value:K,comparison:I}=z.options.condition;if(!e.fields.find(ne=>ne.id===Z))return z.options.condition=null,!1;const{value:ee}=e.entries.find(ne=>ne.field===Z&&ne.parent===q.parent);if(gv(K)){const ne=new RegExp(K.slice(1,-1));if(I==="="&&ne.test(ee))return!0;if(I==="!="&&!ne.test(ee))return!0}else{if(I==="="&&K===ee)return!0;if(I==="!="&&K!==ee)return!0}return!1}let d=ce(void 0),p=ce(void 0);Ui(async()=>{const{draggable:z,dropTargetForElements:q}=await Qt(async()=>{const{draggable:I,dropTargetForElements:H}=await import("./element-adapter.CmHsh92p.js");return{draggable:I,dropTargetForElements:H}},__vite__mapDeps([3,4]),import.meta.url),{attachClosestEdge:Z,extractClosestEdge:K}=await Qt(async()=>{const{attachClosestEdge:I,extractClosestEdge:H}=await import("./closest-edge.DKVUyjvI.js");return{attachClosestEdge:I,extractClosestEdge:H}},__vite__mapDeps([5,4]),import.meta.url);z({element:g(p),dragHandle:g(d),getInitialData:()=>({item:e.repeater_item})}),q({element:g(p),getData({input:I,element:H}){return Z({item:e.repeater_item},{element:H,input:I,allowedEdges:["top","bottom"]})},onDrag({self:I,source:H}){s("hover",K(I.data))},onDragLeave(){s("hover",null)},onDrop({self:I,source:H}){const ee=I.data.item,ne=H.data.item,M=K(I.data);console.log({item_being_dragged:ne,item_dragged_over:ee,self:I,source:H}),M==="top"?s("move",{item:ne,new_index:ee.index}):M==="bottom"&&s("move",{item:ne,new_index:ee.index+1}),s("hover",null)}})});let m=le(()=>{var z;return r()&&((z=r())==null?void 0:z.singular(e.field.label))}),O=le(()=>c(e.repeater_item,e.field)),v=le(()=>u(e.repeater_item,e.field)),b=le(()=>f(e.repeater_item,e.field));var S=WF();un(S,z=>V(p,z),()=>g(p));var y=Q(S),w=Q(y),P=Q(w);P.__click=[RF,s];var x=Q(P);J(x,()=>g(O),z=>{var q=EF();de(()=>{Ge(q,"src",g(O)),Ge(q,"alt",g(b)||`Preview for item ${e.index} in ${e.field.label}`)}),T(z,q)},z=>{var q=be(),Z=he(q);J(Z,()=>g(v),K=>{var I=qF(),H=Q(I);eo(H,()=>g(v),!1,!1),$(I),T(K,I)},K=>{var I=MF(),H=Q(I,!0);$(I),de(()=>Re(H,g(b))),T(K,I)},!0),T(z,q)});var k=B(x,2),A=le(()=>e.is_visible?"ph:caret-up-bold":"ph:caret-down-bold");ge(k,{get icon(){return g(A)}}),$(P);var D=B(P,2),W=Q(D);un(W,z=>V(d,z),()=>g(d));var j=Q(W);ge(j,{icon:"material-symbols:drag-handle"}),$(W);var U=B(W,2);U.__click=[ZF,s,e];var N=Q(U);ge(N,{icon:"ion:trash"}),$(U),$(D),$(w);var Y=B(w,2);J(Y,()=>e.is_visible,z=>{var q=jF();Rt(q,23,()=>e.subfields,K=>e.repeater_item._key+K.key,(K,I,H)=>{var ee=be();const ne=le(()=>l(g(I))),M=le(()=>h(g(I),g(ne)));var X=he(ee);J(X,()=>g(M),R=>{var L=DF();const ie=le(()=>a(g(I)));var te=Q(L),G=le(()=>e.level+1),re=le(()=>e.autofocus&&g(H)===0);Be(te,()=>g(ie),(oe,ue)=>{ue(oe,{get id(){return g(ne).id},get value(){return g(ne).value},get metadata(){return g(ne).metadata},get field(){return g(I)},get fields(){return e.fields},get entries(){return e.entries},get level(){return g(G)},show_label:!0,get autofocus(){return g(re)},oninput:ae=>{console.log({detail:ae}),ae.id?o()(ae):o()({id:g(ne).id,data:ae})},$$events:{keydown(ae){Le.call(this,e,ae)},add(ae){Le.call(this,e,ae)},remove(ae){Le.call(this,e,ae)},move(ae){Le.call(this,e,ae)}}})}),$(L),de(()=>Ge(L,"id",`repeater-${e.field.key??""}-${e.index??""}-${g(I).key??""}`)),T(R,L)}),T(K,ee)}),$(q),T(z,q)}),$(y),$(S),de(()=>{Ge(S,"id",`repeater-${e.field.key??""}-${e.index??""}`),Ae(S,"hovering-above",e.hovering&&e.hover_position==="top"),Ae(S,"hovering-below",e.hovering&&e.hover_position==="bottom"),Ge(U,"title",`Delete ${g(m)??""} item`)}),T(t,S),$e()}st(["click"]);const _v=Ce(null);Qt(()=>import("./index.0oCuBUq1.js"),[],import.meta.url).then(t=>_v.set(t.default));async function IF(t,e,n,i,r,s,o){const a=g(e).length;V(n,se(a)),await uh(),i("add",{parent:r.id,index:g(e).length,subfields:g(s)}),g(o)[`${r.field.key}-${g(e).length-1}`]=!0}var XF=E('<p class="primo--field-label"> </p>'),UF=E("<li><!></li>"),VF=E('<div><!> <ul class="fields svelte-enism8"></ul> <button class="field-button svelte-enism8"><!> <span> </span></button></div>');function LF(t,e){Se(e,!0);const n=Je(),i=()=>me(_v,"$pluralize",n),r=At();let s=F(e,"level",3,0),o=F(e,"show_label",3,!1),a=le(()=>e.fields.filter(y=>y.parent===e.field.id).sort((y,w)=>y.index-w.index)),l=le(()=>e.entries.filter(y=>y.parent===e.id)),c=ce(null),u=ce(se({}));Ia(e.field.id).then(y=>{y&&V(u,se(y))}),xu(()=>{Du(e.field.id,gt(g(u)))});let f=ce(null),h=ce(null);var d=VF(),p=Q(d);J(p,o,y=>{var w=XF(),P=Q(w,!0);$(w),de(()=>Re(P,e.field.label)),T(y,w)});var m=B(p,2);Rt(m,31,()=>g(l).sort((y,w)=>y.index-w.index),y=>y.id,(y,w,P)=>{var x=UF();const k=le(()=>`${e.field.key}-${g(P)}`),A=le(()=>g(P)===g(c)),D=le(()=>g(f)===g(P));var W=Q(x);BF(W,{get repeater_item(){return g(w)},get field(){return e.field},get index(){return g(P)},get subfields(){return g(a)},get fields(){return e.fields},get entries(){return e.entries},get level(){return s()},get autofocus(){return g(A)},get oninput(){return e.oninput},get is_visible(){return g(u)[g(k)]},get hovering(){return g(D)},get hover_position(){return g(h)},$$events:{toggle:()=>g(u)[g(k)]=!g(u)[g(k)],hover:({detail:j})=>{V(f,se(g(P))),V(h,se(j))},move(j){Le.call(this,e,j)},remove(j){Le.call(this,e,j)},keydown(j){Le.call(this,e,j)},add(j){Le.call(this,e,j)}}}),$(x),bx(x,()=>PP,()=>({duration:200})),T(y,x)}),$(m);var O=B(m,2);O.__click=[IF,l,c,r,e,a,u];var v=Q(O);ge(v,{icon:"akar-icons:plus"});var b=B(v,2),S=Q(b);de(()=>Re(S,`Create ${(i()?i().singular(e.field.label):e.field.label)??""}`)),$(b),$(O),$(d),de(()=>Ti(d,`RepeaterField repeater-level-${s()??""} svelte-enism8`)),T(t,d),$e()}st(["click"]);var zF=(t,e)=>V(e,!g(e)),YF=E('<button class="svelte-tr7qqp"><span class="svelte-tr7qqp"> </span> <!></button>'),NF=E("<span> </span>"),FF=E('<div class="group-item svelte-tr7qqp"><!></div>'),GF=E('<div class="group-entries svelte-tr7qqp"></div>'),HF=E("<div><!> <!></div>");function KF(t,e){Se(e,!0);const n=Je(),i=()=>me(Nr,"$fieldTypes",n);At();let r=F(e,"level",3,0),s=le(()=>e.fields.filter(h=>h.parent===e.field.id).sort((h,d)=>h.index-d.index)),o=ce(!1);function a(h){const d=A$(i(),["id",h.type]);return d?d.component:null}function l(h){if(!h.options.condition)return!0;const{field:d,value:p,comparison:m}=h.options.condition;if(!e.fields.find(b=>b.id===d))return h.options.condition=null,!1;const{value:v}=e.entries.find(b=>b.field===d);if(gv(p)){const b=new RegExp(p.slice(1,-1));if(m==="="&&b.test(v))return!0;if(m==="!="&&!b.test(v))return!0}else{if(m==="="&&p===v)return!0;if(m==="!="&&p!==v)return!0}return!1}var c=HF(),u=Q(c);J(u,()=>r()>0,h=>{var d=YF();d.__click=[zF,o];var p=Q(d),m=Q(p,!0);$(p);var O=B(p,2),v=le(()=>g(o)?"ph:caret-up-bold":"ph:caret-down-bold");ge(O,{get icon(){return g(v)}}),$(d),de(()=>Re(m,e.field.label)),T(h,d)});var f=B(u,2);J(f,()=>!g(o),h=>{var d=GF();Rt(d,21,()=>g(s),Nt,(p,m)=>{var O=be();const v=le(()=>l(g(m))),b=le(()=>e.entries.find(y=>y.field===g(m).id&&y.parent===e.id));var S=he(O);J(S,()=>!g(b),y=>{var w=NF(),P=Q(w);$(w),de(()=>Re(P,`Field is corrupt (${g(m).key??""} - ${g(m).id??""})`)),T(y,w)},y=>{var w=be(),P=he(w);J(P,()=>g(v),x=>{var k=FF();const A=le(()=>a(g(m)));var D=Q(k),W=le(()=>r()+1);Be(D,()=>g(A),(j,U)=>{U(j,{get id(){return g(b).id},get value(){return g(b).value},get metadata(){return g(b).metadata},get field(){return g(m)},get fields(){return e.fields},get entries(){return e.entries},get level(){return g(W)},oninput:N=>{N.id?e.oninput(N):e.oninput({id:g(b).id,data:N})},$$events:{save(N){Le.call(this,e,N)},add(N){Le.call(this,e,N)},remove(N){Le.call(this,e,N)},move(N){Le.call(this,e,N)}}})}),$(k),T(x,k)},null,!0),T(y,w)}),T(p,O)}),$(d),T(h,d)}),$(c),de(()=>Ti(c,`group-field group-level-${r()??""} svelte-tr7qqp`)),T(t,c),$e()}st(["click"]);function JF(t,e){Se(e,!0),At();let n=F(e,"disabled",3,!1),i=F(e,"title",3,null),r=F(e,"autofocus",3,!1),s;Ui(()=>{HO(s)}),fa(t,gs(()=>e.field,{get value(){return e.value},get disabled(){return n()},get title(){return i()},grow:!0,get autofocus(){return r()},get onkeydown(){return e.onkeydown},oninput:o=>e.oninput({value:o})})),$e()}var e9=(t,e)=>e("input",null),t9=E('<div class="icon-preview svelte-1qqfkpv"><button class="svelte-1qqfkpv"><!></button> <!></div>'),n9=E('<!> <form class="svelte-1qqfkpv"><!></form>',1),i9=(t,e)=>V(e,!g(e)),r9=E('<button class="icon-preview svelte-1qqfkpv" aria-label="select icon"><!></button>'),s9=(t,e,n)=>{V(e,!1),n("")},o9=(t,e,n,i)=>{e("input",g(n)),V(i,!1)},a9=E('<button class="icon svelte-1qqfkpv" type="button"><!></button>'),l9=E(`<span style="grid-column: 1 / -1;
					padding: 0.5rem;
					font-size: 0.875rem;
					border-left: 3px solid red;">No icons found</span>`),u9=E('<div class="icons svelte-1qqfkpv"><button class="close svelte-1qqfkpv" aria-label="Close"><!></button> <!></div>'),c9=E('<div class="popup svelte-1qqfkpv"><form class="svelte-1qqfkpv"><!></form> <!></div>'),f9=(t,e,n)=>{V(e,!1),n("")},h9=(t,e,n)=>e("input",g(n)),d9=E('<button class="icon svelte-1qqfkpv" type="button"><!></button>'),p9=E(`<span style="grid-column: 1 / -1;
				padding: 0.5rem;
				font-size: 0.875rem;
				border-left: 3px solid red;">No icons found</span>`),g9=E('<div class="icons svelte-1qqfkpv"><button class="close svelte-1qqfkpv" aria-label="Close"><!></button> <!></div>'),m9=E('<div><div class="container svelte-1qqfkpv"><!></div> <!> <!></div>');function wv(t,e){Se(e,!0);const n=At();let i=F(e,"search_query",15,""),r=F(e,"variant",3,"large"),s=F(e,"svg_preview",3,null);const[o,a]=Xh({placement:"bottom-start",strategy:"fixed"});let l=ce(!1);i()&&u(),at(()=>{i()===""&&V(l,!1)});let c=ce(se([]));async function u(){Bu.get(`https://api.iconify.design/search?query=${encodeURIComponent(i().trim())}&limit=32`).then(({data:v})=>{V(c,se(v.icons)),V(l,!0)})}let f=ce(!1);var h=m9(),d=Q(h),p=Q(d);J(p,()=>r()==="large",v=>{var b=n9(),S=he(b);J(S,()=>s()||e.icon,x=>{var k=t9(),A=Q(k);A.__click=[e9,n];var D=Q(A);ge(D,{icon:"material-symbols:delete"}),$(A);var W=B(A,2);J(W,s,j=>{var U=be(),N=he(U);eo(N,s,!1,!1),T(j,U)},j=>{ge(j,{get icon(){return e.icon}})}),$(k),T(x,k)});var y=B(S,2),w=Q(y),P=le(()=>({label:"Search",type:"submit",disabled:!i()}));fa(w,{get value(){return i()},set value(x){i(x)},prefix_icon:"tabler:search",get button(){return g(P)}}),$(y),Ve("submit",y,x=>{x.preventDefault(),u()}),T(v,b)},v=>{var b=be(),S=he(b);J(S,()=>r()==="small",y=>{var w=r9();w.__click=[i9,f];var P=Q(w);ge(P,{get icon(){return e.icon}}),$(w),sn(w,x=>o(x)),T(y,w)},null,!0),T(v,b)}),$(d);var m=B(d,2);J(m,()=>g(f),v=>{var b=c9(),S=Q(b),y=Q(S),w=le(()=>({label:"Search",type:"submit",disabled:!i()}));fa(y,{autofocus:!0,get value(){return i()},set value(x){i(x)},prefix_icon:"tabler:search",label:"Search icons",get button(){return g(w)}}),$(S);var P=B(S,2);J(P,()=>g(l),x=>{var k=u9(),A=Q(k);A.__click=[s9,l,i];var D=Q(A);ge(D,{icon:"material-symbols:close"}),$(A);var W=B(A,2);Rt(W,17,()=>g(c),Nt,(j,U)=>{var N=a9();N.__click=[o9,n,U,f];var Y=Q(N);ge(Y,{get icon(){return g(U)},width:"50px"}),$(N),de(()=>Ae(N,"active",g(U)===e.icon)),T(j,N)},j=>{var U=l9();T(j,U)}),$(k),ln(1,k,()=>In),T(x,k)}),$(b),Ve("click_outside",b,()=>V(f,!1)),Ve("submit",S,x=>{x.preventDefault(),u()}),ln(1,b,()=>In,()=>({duration:100})),sn(b,x=>Bh(x)),sn(b,(x,k)=>a(x,k),()=>({modifiers:[{name:"offset",options:{offset:[0,3]}}]})),T(v,b)});var O=B(m,2);J(O,()=>g(l)&&r()==="large",v=>{var b=g9(),S=Q(b);S.__click=[f9,l,i];var y=Q(S);ge(y,{icon:"material-symbols:close"}),$(S);var w=B(S,2);Rt(w,17,()=>g(c),Nt,(P,x)=>{var k=d9();k.__click=[h9,n,x];var A=Q(k);ge(A,{get icon(){return g(x)},width:"50px"}),$(k),de(()=>Ae(k,"active",g(x)===e.icon)),T(P,k)},P=>{var x=p9();T(P,x)}),$(b),ln(1,b,()=>In),T(v,b)}),$(h),de(()=>Ti(h,`IconPicker ${r()??""} svelte-1qqfkpv`)),T(t,h),$e()}st(["click"]);var O9=E('<p class="primo--field-label"> </p>'),v9=E('<div class="IconPicker"><!> <!></div>');function b9(t,e){Se(e,!0);let n=F(e,"value",15),i=F(e,"search_query",3,""),r=F(e,"oninput",3,()=>{}),s=ce(!1);!D0(n())&&!n().startsWith("<svg")?n(""):D0(n())&&a(n()),i()&&o(),at(()=>{i()===""&&V(s,!1)});async function o(){Bu.get(`https://api.iconify.design/search?query=${encodeURIComponent(i().trim())}&limit=32`).then(({data:f})=>{f.icons,V(s,!0)})}async function a(f){f||r()({value:"",metadata:{icon:null}});const h=await pR(f);if(h){const{attributes:d}=gR(h),p=`<svg xmlns="http://www.w3.org/2000/svg" data-key="${e.field.key}" data-icon="${f}" aria-hidden="true" role="img" height="${d.height}" width="${d.width}" viewBox="${d.viewBox}" preserveAspectRatio="${d.preserveAspectRatio}">${h.body}</svg>`;r()({value:p,metadata:{icon:f}})}}var l=v9(),c=Q(l);J(c,()=>e.field.label,f=>{var h=O9(),d=Q(h,!0);$(h),de(()=>Re(d,e.field.label)),T(f,h)});var u=B(c,2);wv(u,{get svg_preview(){return n()},get search_query(){return i()},$$events:{input:({detail:f})=>a(f)}}),$(l),T(t,l),$e()}var y9=({target:t},e)=>e()(t.value),_9=E('<div class="svelte-106sgaq"><p class="label svelte-106sgaq"> </p> <div class="container svelte-106sgaq"><p class="value svelte-106sgaq"> </p> <input class="input svelte-106sgaq" type="range"></div></div>');function w9(t,e){Se(e,!0);let n=F(e,"oninput",3,()=>{});var i=_9(),r=Q(i),s=Q(r,!0);$(r);var o=B(r,2),a=Q(o),l=Q(a,!0);$(a);var c=B(a,2);Tr(c),c.__input=[y9,n],$(o),$(i),de(()=>{Re(s,e.field.label),Re(l,e.value),aa(c,e.value)}),T(t,i),$e()}st(["input"]);var x9=E("<span>This field has been deleted or disconnected.</span>");function S9(t,e){Se(e,!0);const n=Je(),i=()=>me(Nr,"$fieldTypes",n);let r=F(e,"oninput",3,()=>{});const s=Xy().find(u=>u.id===e.field.source);function o(u){const f=i().find(h=>h.id===s.type);return f?f.component:(console.warn(`Field type '${u.type}' no longer exists, removing '${u.label}' field`),null)}let a=le(()=>[...e.fields,...Xy()]);var l=be(),c=he(l);J(c,()=>s,u=>{var f=be();const h=le(()=>o(e.field));var d=he(f),p=le(()=>({...s,label:e.field.label}));Be(d,()=>g(h),(m,O)=>{O(m,{get id(){return e.id},get entries(){return e.entries},get value(){return e.value},get field(){return g(p)},get fields(){return g(a)},oninput:v=>{const b=v.id||e.id,S=v.data||v,y=e.entries.map(w=>w.id===b?{...w,...S}:w);r()({id:b,data:S,entries:y})},$$events:{keydown(v){Le.call(this,e,v)},add(v){Le.call(this,e,v)},remove(v){Le.call(this,e,v)},move(v){Le.call(this,e,v)}}})}),T(u,f)},u=>{var f=x9();T(u,f)}),T(t,l),$e()}var $9=E("<span>This field has been deleted</span>");function k9(t,e){Se(e,!0);const n=Je(),i=()=>me(Pt,"$site",n),r=()=>me(Nr,"$fieldTypes",n);let s=F(e,"oninput",3,()=>{});const o=i().fields.find(f=>f.id===e.field.source);function a(f){const h=r().find(d=>d.id===o.type);return h?h.component:(console.warn(`Field type '${f.type}' no longer exists, removing '${f.label}' field`),null)}let l=le(()=>[...e.fields,...i().fields]);var c=be(),u=he(c);J(u,()=>o,f=>{var h=be();const d=le(()=>a(e.field));var p=he(h),m=le(()=>({...o,label:e.field.label}));Be(p,()=>g(d),(O,v)=>{v(O,{get id(){return e.id},get entries(){return e.entries},get value(){return e.value},get field(){return g(m)},get fields(){return g(l)},oninput:b=>{const S=b.id||e.id,y=b.data||b,w=e.entries.map(P=>P.id===S?{...P,...y}:P);s()({id:S,data:y,entries:w})},$$events:{keydown(b){Le.call(this,e,b)},add(b){Le.call(this,e,b)},remove(b){Le.call(this,e,b)},move(b){Le.call(this,e,b)}}})}),T(f,h)},f=>{var h=$9();T(f,h)}),T(t,c),$e()}var P9=E('<div class="svelte-j8eaq1"><!></div>');function Q9(t,e){Se(e,!0);const n=Je(),i=()=>me(Yr,"$page_types",n),r=()=>me(vr,"$pages",n),s=F(e,"oninput",3,()=>{}),o=le(()=>i().find(f=>f.id===e.field.options.page_type)),a=le(()=>r().filter(f=>f.page_type===e.field.options.page_type));var l=P9(),c=Q(l),u=le(()=>g(a).map(f=>({value:f.id,label:f.name})));Be(c,()=>nt.Select,(f,h)=>{h(f,{get icon(){return g(o).icon},get label(){return e.field.label},get value(){return e.value},get options(){return g(u)},fullwidth:!0,$$events:{input:({detail:d})=>{s()({value:d})}}})}),$(l),T(t,l),$e()}var T9=E('<div class="svelte-1y740si"> </div>');function A9(t,e){Se(e,!0);const n=Je(),i=()=>me(Yr,"$page_types",n);At();const r=i().find(a=>a.id===e.field.options.page_type);var s=T9(),o=Q(s);$(s),de(()=>Re(o,`A list of ${r.name??""} pages`)),T(t,s),$e()}const Dg=["page-field","site-field","page","page-list"],C9=[{id:"repeater",icon:"formkit:repeater",label:"Repeater",component:LF},{id:"group",icon:"formkit:group",label:"Group",component:KF},{id:"text",icon:"formkit:text",label:"Text",component:JF},{id:"markdown",icon:"material-symbols:markdown",label:"Markdown",component:mF},{id:"link",icon:"formkit:link",label:"Link",component:SF},{id:"image",icon:"carbon:image",label:"Image",component:dF},{id:"icon",icon:"fa6-solid:icons",label:"Icon",component:b9},{id:"number",icon:"formkit:number",label:"Number",component:sF},{id:"url",icon:"formkit:url",label:"URL",component:yF},{id:"page-field",icon:"iconoir:page",label:"Page Field",component:S9},{id:"site-field",icon:"gg:website",label:"Site Field",component:k9},{id:"page",icon:"iconoir:page",label:"Page",component:Q9},{id:"page-list",icon:"iconoir:multiple-pages",label:"Page List",component:A9},{id:"slider",icon:"radix-icons:slider",label:"Slider",component:w9},{id:"switch",icon:"ion:toggle",label:"Toggle",component:vF},{id:"select",icon:"fluent-mdl2:dropdown",label:"Select",component:TF},{id:"info",icon:"formkit:info",label:"Info",component:kF}],cp=Ce(C9),Nr={register:t=>{cp.update(e=>[...e,...t])},set:cp.set,subscribe:cp.subscribe};var R9=E('<span class="icon svelte-kf5vln"><!></span>'),E9=E('<div class="svg svelte-kf5vln"><!></div>'),q9=E('<!> <span class="modal-title svelte-kf5vln"> </span>',1),M9=E('<span class="key-hint svelte-kf5vln">&#8984; S</span>'),Z9=E('<button class="primo-button primary svelte-kf5vln"><!> <span class="label svelte-kf5vln"><!> <span class="svelte-kf5vln"> </span></span></button>'),D9=E('<a class="primo-button primary svelte-kf5vln" target="blank"><!> <span class="svelte-kf5vln"> </span></a>'),j9=E('<header><div class="left-container svelte-kf5vln"><button type="button" aria-label="Close modal" class="svelte-kf5vln"><svg stroke="currentColor" fill="none" viewBox="0 0 24 24" class="svelte-kf5vln"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <!></div> <div class="center-container svelte-kf5vln"><!></div> <div class="right-container svelte-kf5vln"><!> <!></div></header>');function Xa(t,e){Se(e,!1);const n=Je(),i=()=>me(ju,"$mod_key_held",n);let r=F(e,"variants",8,""),s=F(e,"icon",8,""),o=F(e,"svg",8,""),a=F(e,"title",8,""),l=F(e,"button",8,null),c=F(e,"warn",8,()=>!0),u=F(e,"onclose",8,()=>{});Lh.on("escape",()=>{f()});function f(){c()()&&(u()(),So.hide())}xu(()=>Mousetrap.unbind(["escape","mod+s"])),Qa();var h=j9(),d=Q(h),p=Q(d),m=B(p,2);to(m,e,"left",{},w=>{}),$(d);var O=B(d,2),v=Q(O);to(v,e,"title",{},w=>{var P=q9(),x=he(P);J(x,s,D=>{var W=R9(),j=Q(W);ge(j,{get icon(){return s()}}),$(W),T(D,W)},D=>{var W=be(),j=he(W);J(j,o,U=>{var N=E9(),Y=Q(N);eo(Y,o,!1,!1),$(N),T(U,N)},null,!0),T(D,W)});var k=B(x,2),A=Q(k,!0);$(k),de(()=>Re(A,a())),T(w,P)}),$(O);var b=B(O,2),S=Q(b);to(S,e,"default",{},null);var y=B(S,2);J(y,()=>l()&&l().onclick,w=>{var P=Z9(),x=Q(P);J(x,i,j=>{var U=M9();T(j,U)});var k=B(x,2),A=Q(k);J(A,()=>l().icon,j=>{var U=ps(()=>l().loading?"gg:spinner":l().icon);ge(j,{get icon(){return g(U)}})});var D=B(A,2),W=Q(D,!0);$(D),$(k),$(P),de(()=>{P.disabled=l().loading||l().disabled,Ae(P,"showing_key_hint",i()),Re(W,l().label)}),Ve("click",P,function(...j){var U;(U=l().onclick)==null||U.apply(this,j)}),T(w,P)},w=>{var P=be(),x=he(P);J(x,()=>l()&&l().href,k=>{var A=D9(),D=Q(A);J(D,()=>l().icon,U=>{var N=ps(()=>l().loading?"gg:spinner":l().icon);ge(U,{get icon(){return g(N)}})});var W=B(D,2),j=Q(W,!0);$(W),$(A),de(()=>{A.disabled=l().loading||l().disabled,Ge(A,"href",l().href),Re(j,l().label)}),T(k,A)},null,!0),T(w,P)}),$(b),$(h),de(()=>Ti(h,`${r()??""} svelte-kf5vln`)),Ve("click",p,f),T(t,h),$e()}const fp=Ce(33),hp=Ce(33),dp=Ce(33),Gy=Ce({html:!0,css:!0,js:!0}),TP=Ce(null);Qt(()=>Promise.resolve().then(()=>Zce),void 0,import.meta.url).then(t=>{TP.set(t.default),W9()});let Ol;async function W9(){Ol={prettier:await Qt(()=>import("./prettier.Cnq8T6Ib.js"),[],import.meta.url),prettier_css:(await Qt(async()=>{const{default:t}=await import("./parser-postcss.CujkhDhA.js");return{default:t}},[],import.meta.url)).default,prettier_babel:(await Qt(async()=>{const{default:t}=await import("./parser-babel.-smnqRn7.js");return{default:t}},[],import.meta.url)).default,prettier_svelte:(await Qt(async()=>{const{default:t}=await import("./prettier-svelte.BRN-pqcK.js");return{default:t}},__vite__mapDeps([6,7,8,9,10]),import.meta.url)).default}}var B9=(t,e)=>e(0),I9=E('<span class="vertical svelte-1taznmk">&#8984; 1</span>'),X9=E('<span class="svelte-1taznmk">HTML</span>'),U9=E('<div class="tabs svelte-1taznmk"><button class="svelte-1taznmk"><!></button> <!></div>'),V9=E('<span class="grab-handle"><!></span>'),L9=(t,e)=>e(1),z9=E('<span class="vertical svelte-1taznmk">&#8984; 2</span>'),Y9=E('<span class="svelte-1taznmk">CSS</span>'),N9=E('<div class="tabs svelte-1taznmk"><button class="svelte-1taznmk"><!></button> <!></div>'),F9=E('<span class="grab-handle"><!></span>'),G9=(t,e)=>e(2),H9=E('<span class="vertical svelte-1taznmk">&#8984; 3</span>'),K9=E('<span class="svelte-1taznmk">JS</span>'),J9=E('<div class="tabs svelte-1taznmk"><button class="svelte-1taznmk"><!></button> <!></div>'),eG=E("<!> <!> <!> <!> <!>",1),tG=(t,e)=>e(),nG=E('<button class="svelte-1taznmk"><!> <span>Format</span></button>'),iG=E('<!> <footer class="svelte-1taznmk"><!> <a target="blank" class="svelte-1taznmk"><span>Docs</span> <!></a></footer>',1);function AP(t,e){Se(e,!0);const n=Je(),i=()=>me(Gy,"$activeTabs",n),r=()=>me(fp,"$left_pane_size",n),s=()=>me(hp,"$center_pane_size",n),o=()=>me(dp,"$right_pane_size",n),a=()=>me(TP,"$CodeMirror",n),l=At();let c=F(e,"data",19,()=>({})),u=F(e,"html",15,""),f=F(e,"css",15,""),h=F(e,"js",15,""),d=ce(void 0),p=ce(void 0),m=ce(void 0),O=se({html:0,css:0,js:0});function v(j){var z,q,Z;const U={0:"html",1:"css",2:"js"}[j];Mn(Gy,se({...i(),[U]:!i()[U]}));const N=Object.values(i()).filter(Boolean).length;if(!N)return;const Y=100/N;Mn(fp,se(i().html?Y:4)),Mn(hp,se(i().css?Y:4)),Mn(dp,se(i().js?Y:4)),(z=g(d))==null||z.resize(r()),(q=g(p))==null||q.resize(s()),(Z=g(m))==null||Z.resize(o())}!f()&&i().css&&v(1),!h()&&i().js&&v(2);let b=ce(!0);async function S(){u(y(u(),"svelte",Ol.prettier_svelte)),f(y(f(),"css",Ol.prettier_css)),h(y(h(),"babel",Ol.prettier_babel))}function y(j,U,N){let Y;try{Y=Ol.prettier.format(j,{parser:U,plugins:[N]})}catch(z){console.warn(z)}return Y}let w=ce(!1);var P=iG(),x=he(P);lo(x,{direction:"horizontal",style:"display: flex; height: 100vh; max-height: calc(100vh - 42px)",autoSaveId:"page-view",children:(j,U)=>{var N=eG(),Y=he(N);kn(Y,{get pane(){return g(d)},set pane(I){V(d,se(I))},minSize:4,onResize:I=>{Mn(fp,se(I))},children:(I,H)=>{var ee=U9(),ne=Q(ee);ne.__click=[B9,v];var M=Q(ne);J(M,()=>g(w),R=>{var L=I9();T(R,L)},R=>{var L=X9();T(R,L)}),$(ne);var X=B(ne,2);J(X,a,R=>{var L=be();const ie=le(a);var te=he(L);Be(te,()=>g(ie),(G,re)=>{re(G,{mode:"html",docs:"https://docs.primo.so/development#html",get data(){return c()},get value(){return u()},set value(oe){u(oe)},get selection(){return O.html},set selection(oe){O.html=oe},$$events:{modkeydown:()=>V(w,!0),modkeyup:()=>V(w,!1),"tab-switch":({detail:oe})=>v(oe),change:()=>{l("htmlChange")},format:()=>V(b,!1),save(oe){Le.call(this,e,oe)},refresh(oe){Le.call(this,e,oe)}}})}),T(R,L)}),$(ee),de(()=>Ae(ne,"tab-hidden",r()<=5)),T(I,ee)},$$slots:{default:!0}});var z=B(Y,2);_s(z,{class:"PaneResizer",style:`display: flex;
		align-items: center;
		justify-content: center;`,children:(I,H)=>{var ee=V9(),ne=Q(ee);ge(ne,{icon:"mdi:drag-vertical-variant"}),$(ee),T(I,ee)},$$slots:{default:!0}});var q=B(z,2);kn(q,{minSize:4,style:"position: relative;",onResize:I=>{Mn(hp,se(I))},children:(I,H)=>{var ee=N9(),ne=Q(ee);ne.__click=[L9,v];var M=Q(ne);J(M,()=>g(w),R=>{var L=z9();T(R,L)},R=>{var L=Y9();T(R,L)}),$(ne);var X=B(ne,2);J(X,a,R=>{var L=be();const ie=le(a);var te=he(L);Be(te,()=>g(ie),(G,re)=>{re(G,{get selection(){return O.css},set selection(oe){O.css=oe},get value(){return f()},set value(oe){f(oe)},mode:"css",docs:"https://docs.primo.so/development#css",$$events:{modkeydown:()=>V(w,!0),modkeyup:()=>V(w,!1),"tab-switch":({detail:oe})=>v(oe),change:()=>{l("cssChange")},format:()=>V(b,!1),save(oe){Le.call(this,e,oe)},refresh(oe){Le.call(this,e,oe)}}})}),T(R,L)}),$(ee),de(()=>Ae(ne,"tab-hidden",s()<=5)),T(I,ee)},$$slots:{default:!0}});var Z=B(q,2);_s(Z,{get pane(){return g(p)},set pane(I){V(p,se(I))},class:"PaneResizer",style:`display: flex;
		align-items: center;
		justify-content: center;`,children:(I,H)=>{var ee=F9(),ne=Q(ee);ge(ne,{icon:"mdi:drag-vertical-variant"}),$(ee),T(I,ee)},$$slots:{default:!0}});var K=B(Z,2);kn(K,{minSize:4,get pane(){return g(m)},set pane(I){V(m,se(I))},style:"position: relative;",onResize:I=>{Mn(dp,se(I))},children:(I,H)=>{var ee=J9(),ne=Q(ee);ne.__click=[G9,v];var M=Q(ne);J(M,()=>g(w),R=>{var L=H9();T(R,L)},R=>{var L=K9();T(R,L)}),$(ne);var X=B(ne,2);J(X,a,R=>{var L=be();const ie=le(a);var te=he(L);Be(te,()=>g(ie),(G,re)=>{re(G,{get selection(){return O.js},set selection(oe){O.js=oe},get value(){return h()},set value(oe){h(oe)},mode:"javascript",docs:"https://docs.primo.so/development#javascript",$$events:{modkeydown:()=>V(w,!0),modkeyup:()=>V(w,!1),"tab-switch":({detail:oe})=>v(oe),change:()=>{l("jsChange")},format:()=>V(b,!1),save(oe){Le.call(this,e,oe)},refresh(oe){Le.call(this,e,oe)}}})}),T(R,L)}),$(ee),de(()=>Ae(ne,"tab-hidden",o()<=5)),T(I,ee)},$$slots:{default:!0}}),T(j,N)},$$slots:{default:!0}});var k=B(x,2),A=Q(k);J(A,()=>g(b),j=>{var U=nG();U.__click=[tG,S];var N=Q(U);ge(N,{icon:"carbon:clean"}),On(2),$(U),ln(3,U,()=>In,()=>({duration:100})),T(j,U)});var D=B(A,2);Ge(D,"href","https://docs.primocms.org/development");var W=B(Q(D),2);ge(W,{icon:"mdi:external-link"}),$(D),$(k),T(t,P),$e()}st(["click"]);function rG(t,e){e("input",null)}var sG=E('<div class="Condition svelte-1g90rkt"><span class="primo--field-label">Show if</span> <div class="container svelte-1g90rkt"><!> <!> <!> <button class="delete svelte-1g90rkt"><!></button></div></div>');function oG(t,e){Se(e,!0);const n=Je(),i=()=>me(Nr,"$fieldTypes",n),r=At();let s=le(()=>e.field.options.condition);const o=[{icon:"ph:equals-bold",label:"Equals",value:"="},{icon:"ph:not-equals-bold",label:"Doesn't equal",value:"!="}];function a(O){r("input",{...g(s),...O})}var l=sG(),c=B(Q(l),2),u=Q(c),f=le(()=>e.comparable_fields.map(O=>({icon:i().find(v=>v.id===O.type).icon,label:O.label,value:O.id,disabled:O.options.condition})));Be(u,()=>nt.Select,(O,v)=>{v(O,{fallback_label:"Field",get value(){return g(s).field},get options(){return g(f)},$$events:{input:({detail:b})=>{var w;let S="";const y=e.comparable_fields.find(P=>P.id===b);y.type==="select"?S=(w=y.options.options[0])==null?void 0:w.value:S=y.value,a({field:b,value:S})}}})});var h=B(u,2);Be(h,()=>nt.Select,(O,v)=>{v(O,{get value(){return g(s).comparison},options:o,$$events:{input:({detail:b})=>a({comparison:b})}})});var d=B(h,2);J(d,()=>{var O;return((O=e.field_to_compare)==null?void 0:O.type)==="select"},O=>{var v=be(),b=he(v),S=le(()=>{var y;return((y=e.field_to_compare.options)==null?void 0:y.options)||[]});Be(b,()=>nt.Select,(y,w)=>{w(y,{fullwidth:!0,get value(){return g(s).value},get options(){return g(S)},$$events:{input:({detail:P})=>a({value:P})}})}),T(O,v)},O=>{var v=be(),b=he(v);J(b,()=>{var S;return((S=e.field_to_compare)==null?void 0:S.type)==="switch"},S=>{var y=be(),w=he(y);Be(w,()=>nt.Toggle,(P,x)=>{x(P,{get toggled(){return g(s).value},hideLabel:!0,$$events:{toggle:({detail:k})=>{a({value:k})}}})}),T(S,y)},S=>{var y=be(),w=he(y),P=le(()=>g(s).value||"");Be(w,()=>nt.TextInput,(x,k)=>{k(x,{placeholder:"Value",get value(){return g(P)},oninput:A=>a({value:A})})}),T(S,y)},!0),T(O,v)});var p=B(d,2);p.__click=[rG,r];var m=Q(p);ge(m,{icon:"ion:trash"}),$(p),$(c),$(l),de(()=>Ae(l,"collapsed",e.collapsed)),T(t,l),$e()}st(["click"]);var aG=E("<div><p></p></div>"),lG=E('<div class="container svelte-fmwq4l"><!></div>'),uG=E('<div class="PagesField"><!></div>');function cG(t,e){Se(e,!0);const n=Je(),i=()=>me(Yr,"$page_types",n),r=At();let s=ce(se(e.field.options.page_type)),o=!1;Ui(()=>{g(s)||r("input",{...e.field.options,page_type:i()[0].id})});var a=uG(),l=Q(a);J(l,()=>o,c=>{var u=aG(),f=Q(u);f.textContent="Synced with {page_type}. Is hidden. Will fall back to other field.",$(u),T(c,u)},c=>{var u=lG(),f=Q(u),h=le(()=>i().map(d=>({label:d.name,value:d.id,icon:d.icon})));Be(f,()=>nt.Select,(d,p)=>{p(d,{label:"Page Type",get value(){return g(s)},fullwidth:!0,get options(){return g(h)},$$events:{input:({detail:m})=>{V(s,se(m)),r("input",{...e.field.options,page_type:m})}}})}),$(u),T(c,u)}),$(a),T(t,a),$e()}var fG=E('<div class="PageFieldField"><div class="container svelte-2ojl4x"><!></div></div>');function hG(t,e){Se(e,!0);const n=Je(),i=()=>me(Pt,"$site",n),r=()=>me(Nr,"$fieldTypes",n);let s=F(e,"oninput",3,()=>{}),o=i().fields.filter(f=>!f.parent).sort((f,h)=>f.index-h.index);var a=fG(),l=Q(a),c=Q(l),u=le(()=>o.map(f=>({label:f.label,value:f.id,icon:r().find(h=>h.id===f.type).icon})));Be(c,()=>nt.Select,(f,h)=>{h(f,{fullwidth:!0,label:"Site Field",get value(){return e.field.source},get options(){return g(u)},$$events:{input:({detail:d})=>s()(d)}})}),$(l),$(a),T(t,a),$e()}var dG=E("<div><p></p></div>"),pG=E('<div class="container svelte-2ojl4x"><!></div>'),gG=E('<div class="PageFieldField"><!></div>');function mG(t,e){var f;Se(e,!0);const n=Je(),i=()=>me(Cr,"$page_type",n),r=()=>me(wn,"$page",n),s=()=>me(Nr,"$fieldTypes",n),o=At(),a=[...i().fields.filter(h=>!h.parent).sort((h,d)=>h.index-d.index),...(f=r())==null?void 0:f.page_type.fields.filter(h=>!h.parent).sort((h,d)=>h.index-d.index)];let l=!1;var c=gG(),u=Q(c);J(u,()=>l,h=>{var d=dG(),p=Q(d);p.textContent="Synced with {page_type}. Is hidden. Will fall back to other field. Delete.",$(d),T(h,d)},h=>{var d=pG(),p=Q(d),m=le(()=>a.map(O=>({label:O.label,value:O.id,icon:s().find(v=>v.id===O.type).icon})));Be(p,()=>nt.Select,(O,v)=>{v(O,{fullwidth:!0,label:"Page Field",get value(){return e.field.source},get options(){return g(m)},$$events:{input:({detail:b})=>{o("input",b)}}})}),$(d),T(h,d)}),$(c),T(t,c),$e()}var OG=E("<div><p></p></div>"),vG=E('<div class="container svelte-fmwq4l"><!></div>'),bG=E('<div class="PagesField"><!></div>');function yG(t,e){Se(e,!0);const n=Je(),i=()=>me(Yr,"$page_types",n);let r=ce(se(e.field.options.page_type)),s=!1;Ui(()=>{g(r)||e.oninput({...e.field.options,page_type:i()[0].id})});var o=bG(),a=Q(o);J(a,()=>s,l=>{var c=OG(),u=Q(c);u.textContent="Synced with {page_type}. Is hidden. Will fall back to other field. Delete.",$(c),T(l,c)},l=>{var c=vG(),u=Q(c),f=le(()=>i().map(h=>({label:h.name,value:h.id,icon:h.icon})));Be(u,()=>nt.Select,(h,d)=>{d(h,{label:"Page Type",get value(){return g(r)},fullwidth:!0,get options(){return g(f)},$$events:{input:({detail:p})=>{V(r,se(p)),e.oninput({...e.field.options,page_type:p})}}})}),$(c),T(l,c)}),$(o),T(t,o),$e()}function _G(t,e,n){e([...g(n),{icon:"",label:"",value:""}])}var wG=E('<button class="svelte-1rpu80t"><!></button>'),xG=E('<button class="svelte-1rpu80t"><!></button>'),SG=E('<div class="select-field svelte-1rpu80t"><div class="option-icon svelte-1rpu80t"><span class="primo--field-label">Icon</span> <!></div> <!> <!> <div class="item-options svelte-1rpu80t"><!> <!> <button style="color: var(--primo-color-danger)" class="svelte-1rpu80t"><!></button></div></div>'),$G=E('<div class="SelectField svelte-1rpu80t"><!> <button class="field-button subfield-button svelte-1rpu80t"><!> Create Option</button></div>');function kG(t,e){Se(e,!0);const n=At();let i=le(()=>{var p;return((p=e.field.options)==null?void 0:p.options)||[]});function r(p,m){const O=g(i).map((v,b)=>b===m?p:v);l(O)}function s(p){return p.replace(/-/g,"_").replace(/ /g,"_").toLowerCase()}function o(p,m){const O=g(i)[p],v=g(i).filter((S,y)=>y!==p);let b;m==="up"?b=[...v.slice(0,p-1),O,...v.slice(p-1)]:m==="down"?b=[...v.slice(0,p+1),O,...v.slice(p+1)]:console.error("Direction must be up or down"),l(b)}function a(p){l(g(i).filter((m,O)=>O!==p))}function l(p){n("input",{options:{...e.field.options,options:p}})}const c=new Set;var u=$G(),f=Q(u);J(f,()=>g(i),p=>{var m=be(),O=he(m);Rt(O,17,()=>g(i),Nt,(v,b,S)=>{var y=SG(),w=Q(y),P=B(Q(w),2),x=le(()=>g(b).icon||"ri:checkbox-blank-circle-fill");wv(P,{variant:"small",get search_query(){return g(b).label},get icon(){return g(x)},$$events:{input:({detail:z})=>r({...g(b),icon:z},S)}}),$(w);var k=B(w,2),A=le(()=>g(b).label.length===0);Be(k,()=>nt.TextInput,(z,q)=>{q(z,{label:"Option Label",get value(){return g(b).label},get autofocus(){return g(A)},oninput:Z=>{r({...g(b),value:c.has(S)?g(b).value:s(Z),label:Z},S)}})});var D=B(k,2);Be(D,()=>nt.TextInput,(z,q)=>{q(z,{label:"Option Value",get value(){return g(b).value},onfocus:()=>c.add(S),oninput:Z=>{r({...g(b),value:Z},S)}})});var W=B(D,2),j=Q(W);J(j,()=>S!==0,z=>{var q=wG();q.__click=()=>o(S,"up");var Z=Q(q);ge(Z,{icon:"fa-solid:arrow-up"}),$(q),de(()=>Ge(q,"title",`Move ${e.field.label??""} up`)),T(z,q)});var U=B(j,2);J(U,()=>S!==g(i).length-1,z=>{var q=xG();q.__click=()=>o(S,"down");var Z=Q(q);ge(Z,{icon:"fa-solid:arrow-down"}),$(q),de(()=>Ge(q,"title",`Move ${e.field.label??""} down`)),T(z,q)});var N=B(U,2);N.__click=()=>a(S);var Y=Q(N);ge(Y,{icon:"ion:trash"}),$(N),$(W),$(y),de(()=>{Ge(W,"id",`repeater-${e.field.key??""}-${S??""}`),Ge(N,"title",`Delete ${e.field.label??""} item`)}),T(v,y)}),T(p,m)});var h=B(f,2);h.__click=[_G,l,i];var d=Q(h);ge(d,{icon:"ic:baseline-plus"}),On(),$(h),$(u),T(t,u),$e()}st(["click"]);var PG=(t,e,n)=>e("duplicate",n.field),QG=(t,e,n)=>e("delete",n.field),TG=E('<button class="svelte-mlqiih"><!></button> <button class="svelte-mlqiih"><!></button> <button class="delete svelte-mlqiih"><!></button>',1),AG=E('<div class="field-options svelte-mlqiih"><!></div>'),CG=(t,e,n)=>e("duplicate",n.field),RG=(t,e,n)=>e("delete",n.field),EG=E('<button class="svelte-mlqiih"><!></button> <button class="svelte-mlqiih"><!></button> <button class="delete svelte-mlqiih"><!></button>',1),qG=E('<div class="field-options svelte-mlqiih"><!></div>'),MG=E('<div class="main column-container svelte-mlqiih"><!> <!></div>'),ZG=(t,e,n)=>e("duplicate",n.field),DG=(t,e,n)=>e("delete",n.field),jG=E('<button class="svelte-mlqiih"><!></button> <button class="svelte-mlqiih"><!></button> <button class="delete svelte-mlqiih"><!></button>',1),WG=E('<div class="field-options svelte-mlqiih"><!></div>'),BG=E('<div class="column-container svelte-mlqiih"><!></div> <div class="column-container svelte-mlqiih"><!> <!></div>',1),IG=(t,e,n)=>e("createsubfield",n.field),XG=E('<button class="subfield-button svelte-mlqiih"><!> <span> </span></button>'),UG=E('<div class="children-container svelte-mlqiih"><!> <!></div>'),VG=E('<div class="top-container svelte-mlqiih"><div class="field-container svelte-mlqiih"><div class="type column-container svelte-mlqiih"><!> <!></div> <!></div> <div class="footer svelte-mlqiih"><!> <!> <!> <!> <!> <!></div> <!></div>');function CP(t,e){Se(e,!0);const n=Je(),i=()=>me(Nr,"$fieldTypes",n),r=()=>me(_v,"$pluralize",n),s=()=>me(ju,"$mod_key_held",n),o=At();let a=F(e,"level",3,0),l=F(e,"top_level",3,!0);const c=kl("hide_dynamic_field_types")?i().filter(R=>!Dg.includes(R.id)):i();let u=le(()=>e.fields.filter(R=>{const L=["text","number","switch","url","select"].includes(R.type),ie=R.parent===e.field.parent&&R.index<e.field.index;return L&&ie}).sort((R,L)=>R.index-L.index));function f(R){o("input",{id:e.field.id,data:R})}function h(R){return R.replace(/-/g,"_").replace(/ /g,"_").toLowerCase()}let d=ce(!1);at(()=>{});let p=ce(void 0),m=ce(!1);at(()=>{g(p)<400&&!g(m)?V(m,!0):g(p)>500&&g(m)&&V(m,!1)});let O=le(()=>e.field.type==="info"),v=le(()=>e.field.type==="group"||e.field.type==="repeater"),b=le(()=>e.field.options.condition),S=le(()=>!e.field.parent&&e.fields.filter(R=>R.parent===e.field.parent&&R.id!==e.field.id&&R.index<e.field.index&&!R.options.condition).length>0),y=ce("");_u(()=>{var R;V(y,se((R=c.find(L=>L.id===e.field.type))==null?void 0:R.id))});let w=ce(!1);function P(R){return R=R.toLowerCase(),R&&r().isPlural(R)?"repeater":R.includes("icon")?"icon":R.includes("image")?"image":R.includes("link")?"link":R.includes("type")?"select":R.includes("group")?"group":R.includes("toggle")?"toggle":"text"}function x(){const R=g(u)[0];f({options:{...e.field.options,condition:{field:R.id,comparison:"=",value:jn(R)}}})}let k=le(()=>e.fields.filter(R=>R.parent===e.field.id)),A=ce(e.field.key===""),D=le(()=>!["select",...Dg].includes(e.field.type)&&!e.field.options.condition);var W=VG(),j=Q(W),U=Q(j),N=Q(U),Y=le(()=>c.map(R=>({icon:R.icon,value:R.id,label:R.label})));Be(N,()=>nt.Select,(R,L)=>{L(R,{label:"Type",get value(){return g(y)},get options(){return g(Y)},dividers:[1,8,10,12],placement:"bottom-start",$$events:{input:({detail:ie})=>{console.log({field_type_id:ie}),V(w,!0),V(y,se(ie)),f({type:ie})}}})});var z=B(N,2);J(z,()=>g(m),R=>{var L=AG(),ie=Q(L);J(ie,s,te=>{var G=TG(),re=he(G);re.__click=x;var oe=Q(re);ge(oe,{icon:"mdi:show"}),$(re);var ue=B(re,2);ue.__click=[PG,o,e];var ae=Q(ue);ge(ae,{icon:"bxs:duplicate"}),$(ue);var xe=B(ue,2);xe.__click=[QG,o,e];var Qe=Q(xe);ge(Qe,{icon:"ic:outline-delete"}),$(xe),T(te,G)},te=>{var G=be(),re=he(G),oe=le(()=>[{label:"Move up",icon:"material-symbols:arrow-circle-up-outline",on_click:()=>o("move",{direction:"up",field:e.field})},{label:"Move down",icon:"material-symbols:arrow-circle-down-outline",on_click:()=>o("move",{direction:"down",field:e.field})},...g(b)?[]:[{label:"Set condition",icon:"mdi:hide",disabled:!g(S),on_click:()=>{x()}}],{label:"Duplicate",icon:"bxs:duplicate",on_click:()=>o("duplicate",e.field)},{label:"Delete",icon:"ic:outline-delete",is_danger:!0,on_click:()=>o("delete",e.field)}]);Be(re,()=>nt.Dropdown,(ue,ae)=>{ae(ue,{variant:"large-button",get options(){return g(oe)},placement:"bottom-end"})}),T(te,G)}),$(L),T(R,L)}),$(U);var q=B(U,2);J(q,()=>g(O),R=>{var L=MG(),ie=Q(L),te=le(()=>e.field.options.info||"");Be(ie,()=>nt.TextInput,(re,oe)=>{oe(re,{label:"Information",get value(){return g(te)},autogrow:!0,placeholder:"Something important about the following fields...",oninput:ue=>{f({options:{...e.field.options,info:ue}})}})});var G=B(ie,2);J(G,()=>!g(m),re=>{var oe=qG(),ue=Q(oe);J(ue,s,ae=>{var xe=EG(),Qe=he(xe);Qe.__click=x;var Ue=Q(Qe);ge(Ue,{icon:"mdi:show"}),$(Qe);var we=B(Qe,2);we.__click=[CG,o,e];var De=Q(we);ge(De,{icon:"bxs:duplicate"}),$(we);var We=B(we,2);We.__click=[RG,o,e];var Me=Q(We);ge(Me,{icon:"ic:outline-delete"}),$(We),T(ae,xe)},ae=>{var xe=be(),Qe=he(xe),Ue=le(()=>[{label:"Move up",icon:"material-symbols:arrow-circle-up-outline",on_click:()=>o("move",{direction:"up",field:e.field})},{label:"Move down",icon:"material-symbols:arrow-circle-down-outline",on_click:()=>o("move",{direction:"down",field:e.field})},...g(b)?[]:[{label:"Add Condition",icon:"mdi:show",on_click:()=>{x()}}],{label:"Duplicate",icon:"bxs:duplicate",on_click:()=>o("duplicate",e.field)},{label:"Delete",icon:"ic:outline-delete",is_danger:!0,on_click:()=>o("delete",e.field)}]);Be(Qe,()=>nt.Dropdown,(we,De)=>{De(we,{variant:"large-button",get options(){return g(Ue)},placement:"bottom-end"})}),T(ae,xe)}),$(oe),T(re,oe)}),$(L),T(R,L)},R=>{var L=BG(),ie=he(L),te=Q(ie);Be(te,()=>nt.TextInput,(ue,ae)=>{ae(ue,{label:"Label",get value(){return e.field.label},placeholder:"Heading",get autofocus(){return g(A)},oninput:xe=>{f({label:xe,key:g(d)||!g(A)?e.field.key:h(xe),type:g(w)||!g(A)?e.field.type:P(xe)})},$$events:{keydown(xe){Le.call(this,e,xe)},blur:()=>V(A,!1)}})}),$(ie);var G=B(ie,2),re=Q(G);Be(re,()=>nt.TextInput,(ue,ae)=>{ae(ue,{label:"Key",placeholder:"heading",get value(){return e.field.key},oninput:xe=>{V(d,!0),f({key:h(xe)})},$$events:{keydown(xe){Le.call(this,e,xe)}}})});var oe=B(re,2);J(oe,()=>!g(m),ue=>{var ae=WG(),xe=Q(ae);J(xe,s,Qe=>{var Ue=jG(),we=he(Ue);we.__click=x;var De=Q(we);ge(De,{icon:"mdi:show"}),$(we);var We=B(we,2);We.__click=[ZG,o,e];var Me=Q(We);ge(Me,{icon:"bxs:duplicate"}),$(We);var ot=B(We,2);ot.__click=[DG,o,e];var ft=Q(ot);ge(ft,{icon:"ic:outline-delete"}),$(ot),T(Qe,Ue)},Qe=>{var Ue=be(),we=he(Ue),De=le(()=>[{label:"Move up",icon:"material-symbols:arrow-circle-up-outline",on_click:()=>o("move",{direction:"up",field:e.field})},{label:"Move down",icon:"material-symbols:arrow-circle-down-outline",on_click:()=>o("move",{direction:"down",field:e.field})},...g(b)?[]:[{label:"Add Condition",icon:"mdi:show",on_click:()=>{x()}}],{label:"Duplicate",icon:"bxs:duplicate",on_click:()=>o("duplicate",e.field)},{label:"Delete",icon:"ic:outline-delete",is_danger:!0,on_click:()=>o("delete",e.field)}]);Be(we,()=>nt.Dropdown,(We,Me)=>{Me(We,{variant:"large-button",get options(){return g(De)},placement:"bottom-end"})}),T(Qe,Ue)}),$(ae),T(ue,ae)}),$(G),T(R,L)}),$(j);var Z=B(j,2),K=Q(Z);J(K,()=>e.field.type==="select",R=>{kG(R,{get field(){return e.field},get level(){return a()},$$events:{input:({detail:L})=>{console.log({updated_field:L}),f(L)}}})});var I=B(K,2);J(I,()=>e.field.type==="page-field",R=>{mG(R,{get field(){return e.field},$$events:{input:({detail:L})=>f({source:L})}})});var H=B(I,2);J(H,()=>e.field.type==="site-field",R=>{hG(R,{get field(){return e.field},oninput:({detail:L})=>f({source:L})})});var ee=B(H,2);J(ee,()=>e.field.type==="page",R=>{cG(R,{get field(){return e.field},$$events:{input:({detail:L})=>f({options:L})}})});var ne=B(ee,2);J(ne,()=>e.field.type==="page-list",R=>{yG(R,{get field(){return e.field},oninput:L=>f({options:L})})});var M=B(ne,2);J(M,()=>e.field.options.condition,R=>{var L=le(()=>e.fields.find(ie=>ie.id===e.field.options.condition.field));oG(R,{get field(){return e.field},get field_to_compare(){return g(L)},get comparable_fields(){return g(u)},get collapsed(){return g(m)},$$events:{input:({detail:ie})=>{console.log({condition:ie}),f({options:{...e.field.options,condition:ie}})}}})}),$(Z);var X=B(Z,2);J(X,()=>g(v),R=>{var L=UG(),ie=Q(L);Rt(ie,17,()=>g(k).sort((G,re)=>G.index-re.index),G=>G.id,(G,re)=>{var oe=le(()=>gt(g(re))),ue=le(()=>a()+1);CP(G,{get field(){return g(oe)},get fields(){return e.fields},top_level:!1,get level(){return g(ue)},$$events:{duplicate(ae){Le.call(this,e,ae)},delete(ae){Le.call(this,e,ae)},move(ae){Le.call(this,e,ae)},createsubfield(ae){Le.call(this,e,ae)},keydown(ae){Le.call(this,e,ae)},input(ae){Le.call(this,e,ae)}}})});var te=B(ie,2);J(te,()=>e.field.type==="repeater"||e.field.type==="group",G=>{var re=XG();re.__click=[IG,o,e];var oe=Q(re);ge(oe,{icon:"fa-solid:plus"});var ue=B(oe,2),ae=Q(ue);$(ue),$(re),de(()=>{Ge(re,"data-level",a()),Re(ae,`Create ${e.field.label??""} Subfield`)}),T(G,re)}),$(L),de(()=>gn(L,"padding-left",`${a()+1}rem`)),T(R,L)}),$(W),de(()=>{Ae(W,"top_level",l()),Ae(W,"collapsed",g(m)),Ae(j,"minimal",g(O)),Ae(Z,"hidden",g(D))}),Gm(j,"clientWidth",R=>V(p,R)),T(t,W),$e()}st(["click"]);function LG(t,e,n,i,r,s){const o=ml({index:g(e).length}),a=gt([...n.fields,o]),l=ni({field:o.id,locale:i(),value:jn(o)}),c=gt([...n.entries,l]);r({entries:c,content_changes:[{action:"insert",id:l.id,data:l}],fields:a,fields_changes:[{action:"insert",id:o.id,data:o}]}),s(o.id)}var zG=(t,e,n,i,r)=>{e()?n("field"):i(g(r).id,"field")},YG=(t,e,n,i,r)=>{e()?n("entry"):i(g(r).id,"entry")},NG=E("<span>Entries</span>"),FG=E("<span>Entry</span>"),GG=E('<div class="top-tabs svelte-wgd9al"><button data-test-id="field" class="svelte-wgd9al"><!> <span>Field</span></button> <button data-test-id="entry" style="border-top: 1px solid var(--color-gray-9);" class="svelte-wgd9al"><!> <!></button></div>'),HG=E('<div class="FieldItem"><!></div>'),KG=E("<!> <span>Site Property</span>",1),JG=E("<!> <span>Page Property</span>",1),e6=E('<div class="dynamic-header svelte-wgd9al"><!></div> <!>',1),t6=E("<span> </span>"),n6=E('<div class="hidden-field svelte-wgd9al"><!> <span>This field will be hidden from content editors</span></div>'),i6=E('<div class="entries-item svelte-wgd9al"><!> <div class="container svelte-wgd9al"><!></div></div>'),r6=E('<button class="field-button svelte-wgd9al"><div class="icon"><!></div> <span>Create Field</span></button>'),s6=E('<div class="Fields svelte-wgd9al"><!> <!></div>');function Gl(t,e){Se(e,!0);const n=Je(),i=()=>me(Es,"$locale",n),r=()=>me(wn,"$active_page",n),s=()=>me(Cr,"$page_type",n),o=()=>me(Pt,"$site",n),a=()=>me(Nr,"$fieldTypes",n),l=()=>me(Vh,"$userRole",n),c=()=>me(ju,"$mod_key_held",n);let u=F(e,"fields_changes",19,()=>[]),f=F(e,"content_changes",31,()=>se([])),h=F(e,"onkeydown",3,()=>{});F(e,"onprompt",15)(M=>{const X=new Map,R=gt(e.fields),L=gt(e.entries),ie=[],te=[];for(let{entries:G,fields:re}of M){G||(G=[]),re||(re=[]);for(const{action:oe,data:ue}of re)if(oe==="create"){const ae=ml({...ue,parent:X.get(ue.parent)||ue.parent});X.set(ue.id,ae.id),R.push(ae),ie.push({action:"insert",id:ae.id,data:ae}),q(ae.id)}else if(oe==="update")debugger;for(const{action:oe,data:ue}of G)if(oe==="create"){const ae=ni({...ue,parent:X.get(ue.parent)||ue.parent,field:X.get(ue.field)||ue.field});X.set(ue.id,ae.id),L.push(ae),te.push({action:"insert",id:ae.id,data:ae})}else oe==="update"&&(_.find(L,["id",ue.id]).value=ue.value,te.push({action:"update",id:ue.id,data:{value:ue.value}}))}k({entries:L,content_changes:f(),fields:R,fields_changes:u()})});let p=le(()=>e.fields.filter(M=>!M.parent));const m=At();function O(M){const X=e.fields.find(R=>R.id===M.parent);return X?[X.id,...O(X)]:[]}function v(M){const X=e.fields.filter(re=>re.parent===M.id).length,R=ml({parent:M.id,index:X}),L=gt([...e.fields,R]),ie=[],te=e.entries.find(re=>re.field===M.id);if(M.type==="repeater"&&te){const re=e.entries.filter(oe=>oe.parent===te.id);for(const oe of re){const ue=ni({parent:oe.id,field:R.id,value:jn(R),locale:["repeater","group"].includes(R.type)?null:i()});ie.push(ue)}}else if(M.type==="group"&&te){const re=ni({parent:te.id,field:R.id,value:jn(R),locale:["repeater","group"].includes(R.type)?null:i()});ie.push(re)}const G=gt([...e.entries,...ie]);k({fields:L,fields_changes:[{action:"insert",id:R.id,data:R}],entries:G,content_changes:ie.map(re=>({action:"insert",id:re.id,data:re}))})}function b(M){const X=[],R=gt(e.fields.filter(G=>!G.parent&&G.id!==M.id?!0:G.id===M.id?(X.push(M),!1):O(G).includes(M.id)?(X.push(G),!1):!0)),L=R.filter(G=>G.parent===M.parent).sort((G,re)=>G.index-re.index).map((G,re)=>({...G,index:re}));for(const G of L){const re=R.find(oe=>oe.id===G.id);re.index=G.index}const ie=[],te=gt(e.entries.filter(G=>{if(G.site||G.page)return!0;const re=e.entries.find(ue=>ue.id===G.parent),oe=G.field?R.some(ue=>ue.id===G.field):R.some(ue=>ue.id===re.field);return oe||ie.push(G),oe}));k({fields:R,fields_changes:[...X.map(G=>({action:"delete",id:G.id})),...L.map(G=>({action:"update",id:G.id,data:{index:G.index}}))],entries:te,content_changes:ie.map(G=>({action:"delete",id:G.id}))})}function S(M){const X=gt(e.fields),R={},L=ml({...M,key:M.key+"_copy",label:M.label+" copy"});X.push(L),R[M.id]=L.id;const ie=X.filter(ue=>ue.parent===M.parent).sort((ue,ae)=>ue.index-ae.index).map((ue,ae)=>({...ue,index:ae}));for(const ue of ie){const ae=X.find(xe=>xe.id===ue.id);ae.index=ue.index}const te=e.fields.filter(ue=>O(ue).includes(M.id)).map(ue=>{const ae=ml(ue);return R[ue.id]=ae.id,ae});for(const ue of te)ue.parent=R[ue.parent];X.push(...te);const re=e.entries.filter(ue=>ue.field===M.id).map(ue=>ni({...ue,field:R[ue.field]})),oe=gt([...e.entries,...re]);k({fields:X,fields_changes:[{action:"insert",id:L.id,data:L},...ie.map(ue=>({action:"update",id:ue.id,data:{index:ue.index}})),...te.map(ue=>({action:"insert",id:ue.id,data:ue}))],entries:oe,content_changes:re.map(ue=>({action:"insert",id:ue.id,data:ue}))})}function y({field:M,direction:X}){const R=gt(e.fields),L=R.filter(te=>te.parent===M.parent&&te.id!==M.id).sort((te,G)=>te.index-G.index),ie={up:[...L.slice(0,M.index-1),M,...L.slice(M.index-1)],down:[...L.slice(0,M.index+1),M,...L.slice(M.index+1)]}[X].map((te,G)=>({...te,index:G}));for(const te of ie){const G=R.find(re=>re.id===te.id);G.index=te.index}k({fields:R,fields_changes:ie.map(te=>({action:"update",id:te.id,data:{index:te.index}})),entries:e.entries,content_changes:f()})}function w({id:M,data:X}){const R=gt({...e.fields.find(we=>we.id===M),...X});let L=gt(e.fields);const ie=e.fields.find(we=>we.id===M),te=[],G=[],re=[];let oe=_.cloneDeep(e.entries);const ue=oe.filter(we=>we.field===M),ae=[],xe=[],Qe=[],Ue=!["page-field","site-field"].includes(ie.type)&&["page-field","site-field"].includes(R.type);if(ie.type!==R.type){const we=[...r().page_type.fields,...s().fields];if(Ue){const De=R.type==="page-field"?we.filter(We=>!We.parent)[0]:R.type==="site-field"?o().fields.filter(We=>!We.parent)[0]:null;R.source=De==null?void 0:De.id}L=gt(e.fields.map(De=>De.id===R.id?R:De)),G.push({id:M,data:R});for(const De of ue){const We=jn(R);xe.push({id:De.id,data:{value:We}}),oe=oe.map(Me=>Me.id===De.id?{...De,value:We}:Me)}(ie.type==="group"||ie.type==="repeater")&&(L=L.filter(De=>O(De).includes(R.id)?(re.push(De),!1):!0),oe=oe.filter(De=>{const We=e.entries.find(ft=>ft.id===De.parent),Me=De.field?re.some(ft=>ft.id===De.field):re.some(ft=>ft.id===We.field),ot=(We==null?void 0:We.field)===R.id;return Me||ot?(Qe.push(De),!1):!0}))}else L=gt(e.fields.map(we=>we.id===R.id?R:we)),G.push({id:M,data:X});k({fields:L,fields_changes:[...te.map(we=>({action:"insert",id:we.id,data:we})),...G.map(({id:we,data:De})=>({action:"update",id:we,data:De})),...re.map(we=>({action:"delete",id:we.id,data:we}))],entries:oe,content_changes:[...ae.map(we=>({action:"insert",id:we.id,data:we})),...xe.map(({id:we,data:De})=>({action:"update",id:we,data:De})),...Qe.map(we=>({action:"delete",id:we.id,data:we}))]})}function P(M=[]){let X=_.cloneDeep(u());if(M.length===0)return X;for(const R of M){const{action:L,id:ie,data:te}=R,G=X.find(ae=>ae.id===R.id);if(!G){X=[...X,{action:L,id:ie,data:te}];continue}const{id:re,action:oe,data:ue}=G;if(L==="update"&&oe==="insert"){G.data={...ue,...te};continue}if(L==="update"){G.data={...ue,...te};continue}L==="delete"&&(X=X.filter(ae=>ae.id!==re),oe==="update"&&X.push({action:L,id:ie,data:te}),f(f().filter(ae=>{if(R.action==="delete")return!0;const xe=e.entries.find(Qe=>Qe.id===ae.id);return!(xe.field===R.id||A(xe).some(Qe=>Qe.field===R.id))})))}return X}function x(M=[]){let X=_.cloneDeep(f());if(M.length===0)return X;for(const R of M){const L=X.find(G=>G.id===R.id);if(!L){X=[...X,R];continue}const{action:ie,data:te}=L;if(R.action==="update"&&ie==="insert"){L.data={...te,...R.data};continue}if(R.action==="update"){L.data={...te,...R.data};continue}R.action==="delete"&&(X=X.filter(G=>{if(G.id===R.id)return!1;const re=e.entries.find(oe=>oe.id===G.id);return!(!re||A(re).some(oe=>oe.id===R.id))}))}return X}function k(M){m("input",{fields:M.fields||e.fields,entries:M.entries||e.entries,changes:{fields:P(M.fields_changes),entries:x(M.content_changes)}})}function A(M){const X=e.entries.find(R=>R.id===M.parent);return X?[X,...A(X)]:[]}function D(M){const X=a().find(R=>R.id===M.type);return X?X.component:(console.warn(`Field type '${M.type}' no longer exists, removing '${M.label}' field`),null)}function W(M){if(!M.options.condition)return!0;const X=e.fields.filter(oe=>oe.parent===M.parent&&oe.id!==M.id&&oe.index<M.index&&!oe.options.condition),{field:R,value:L,comparison:ie}=M.options.condition,te=X.find(oe=>oe.id===R);if(!te)return!1;const G=Y(te),re=G.value!==void 0?G.value:null;if(re===null)return!0;if(ie==="="&&L===re)return!0;if(ie==="!="&&L!==re)return!0;if(gv(L)){const oe=new RegExp(L.slice(1,-1));if(ie==="="&&oe.test(re))return!0;if(ie==="!="&&!oe.test(re))return!0}return!1}function j({parent:M,index:X,subfields:R,dynamic:L=null}){const ie=L==="site"?{site:o().id}:L==="page"?{page:r().id}:{},te=e.entries.find(ae=>ae.id===M),G=ni({parent:te.id,index:X,...ie}),re=R.flatMap(ae=>{const xe=ni({parent:G.id,field:ae.id,value:jn(ae),locale:ae.type==="repeater"||ae.type==="group"?null:i(),...ie});if(ae.type==="group"){const Ue=e.fields.filter(we=>we.parent===ae.id).map(we=>ni({parent:xe.id,field:we.id,value:jn(we),locale:we.type==="repeater"||we.type==="group"?null:i(),...ie}));return[xe,...Ue]}return xe}),oe=[G,...re],ue=gt([...e.entries,...oe]);k({entries:ue,content_changes:oe.map(ae=>({action:"insert",id:ae.id,data:ae,dynamic:L}))})}function U(M,X=null){let R=gt(e.entries.filter(ie=>ie.id!==M.id));const L=R.filter(ie=>ie.parent===M.parent).sort((ie,te)=>ie.index-te.index).map((ie,te)=>({...ie,index:te}));for(const ie of L){const te=R.find(G=>G.id===ie.id);te.index=ie.index}R=R.filter(ie=>!A(ie).some(G=>G.id===M.id)),k({entries:R,content_changes:[{action:"delete",id:M.id,dynamic:X}]})}function N({item:M,new_index:X}){const R=gt(e.entries),L=R.filter(te=>te.parent===M.parent&&te.id!==M.id).sort((te,G)=>te.index-G.index),ie=[...L.slice(0,X),M,...L.slice(X)].map((te,G)=>({...te,index:G}));for(const te of ie){const G=R.find(re=>re.id===te.id);G.index=te.index}k({entries:R,content_changes:ie.map(te=>({action:"update",id:te.id,data:{index:te.index}}))})}function Y(M){return[Dg].includes(M.type)?r().entries.find(R=>R.field===M.source)||s().entries.find(R=>R.field===M.source)||o().entries.find(R=>R.field===M.source):e.entries.find(R=>R.field===M.id)}const z=se(Object.fromEntries(e.fields.filter(M=>!M.parent).map(M=>[M.id,"entry"])));function q(M){z[M]="field"}function Z(M,X){z[M]=X}function K(M){Object.keys(z).forEach(X=>{z[X]=M})}Ia(`active-tabs--${e.id}`).then(M=>{M&&Object.keys(M).forEach(X=>{const R=M[X];z[X]=["field","entry"].includes(R)?R:"entry"})}),at(()=>{}),at(()=>I(e.fields));function I(M){M.filter(X=>{var R;return(R=X.options)==null?void 0:R.condition}).forEach(X=>{const R=M.filter(re=>re.parent===X.parent&&re.id!==X.id&&re.index<X.index&&!re.options.condition),{field:L,value:ie,comparison:te}=X.options.condition;R.find(re=>re.id===L)||w({id:X.id,data:{options:{...X.options,condition:null}}})})}var H=s6(),ee=Q(H);Rt(ee,17,()=>g(p).sort((M,X)=>M.index-X.index),M=>M.id,(M,X)=>{var R=i6();const L=le(()=>D(g(X))),ie=le(()=>l()==="DEV"?z[g(X).id]:"entry"),te=le(()=>W(g(X)));var G=Q(R);J(G,()=>l()==="DEV",ue=>{var ae=GG(),xe=Q(ae);xe.__click=[zG,c,K,Z,X];var Qe=Q(xe);ge(Qe,{icon:"fluent:form-48-filled"}),On(2),$(xe);var Ue=B(xe,2);Ue.__click=[YG,c,K,Z,X];var we=Q(Ue),De=le(()=>g(te)?a().find(Me=>Me.id===g(X).type).icon:"mdi:hide");ge(we,{get icon(){return g(De)}});var We=B(we,2);J(We,()=>g(X).type==="repeater",Me=>{var ot=NG();T(Me,ot)},Me=>{var ot=FG();T(Me,ot)}),$(Ue),$(ae),de(()=>{xe.disabled=g(ie)==="field",Ae(xe,"active",g(ie)==="field"),Ue.disabled=g(ie)==="entry",Ae(Ue,"active",g(ie)==="entry")}),T(ue,ae)});var re=B(G,2),oe=Q(re);J(oe,()=>g(ie)==="field",ue=>{var ae=HG(),xe=Q(ae);CP(xe,{get field(){return g(X)},get fields(){return e.fields},$$events:{duplicate:({detail:Qe})=>S(Qe),delete:({detail:Qe})=>b(Qe),createsubfield:({detail:Qe})=>v(Qe),move:({detail:Qe})=>y(Qe),input:({detail:Qe})=>w(Qe),keydown(Qe){Le.call(this,e,Qe)}}}),$(ae),T(ue,ae)},ue=>{var ae=be(),xe=he(ae);J(xe,()=>g(ie)==="entry",Qe=>{var Ue=be(),we=he(Ue);J(we,()=>g(te),De=>{var We=be();const Me=le(()=>Y(g(X))),ot=le(()=>["site-field","page-field"].includes(g(X).type)),ft=le(()=>e.entries.find(fn=>fn.field===g(X).source)),$n=le(()=>[...o().fields,...r().page_type.fields,...s().fields].find(fn=>fn.id===g(X).source));var zi=he(We);J(zi,()=>g(ot)&&g(ft)&&g($n),fn=>{var Yi=e6();const qn=le(()=>({"page-field":"page","site-field":"site"})[g(X).type]),Gr=le(()=>["repeater","group"].includes(g($n).type)?g(X).label:null),Hr=le(()=>{var Ri;return g(Gr)?(Ri=a().find(Ni=>Ni.id===g($n).type))==null?void 0:Ri.icon:null});var js=he(Yi),$o=Q(js);J($o,()=>g(qn)==="site",Ri=>{var Ni=KG(),Kr=he(Ni);ge(Kr,{icon:"gg:website"}),On(2),T(Ri,Ni)},Ri=>{var Ni=be(),Kr=he(Ni);J(Kr,()=>g(qn)==="page",Na=>{var ko=JG(),Nn=he(ko),hn=le(()=>{var Fa;return((Fa=r().page_type)==null?void 0:Fa.icon)||s().icon});ge(Nn,{get icon(){return g(hn)}}),On(2),T(Na,ko)},null,!0),T(Ri,Ni)}),$(js);var ic=B(js,2);Cg(ic,{get title(){return g(Gr)},get icon(){return g(Hr)},children:(Ri,Ni)=>{var Kr=be(),Na=he(Kr);Be(Na,()=>g(L),(ko,Nn)=>{Nn(ko,{get id(){return g(ft).id},get value(){return g(ft).value},get entries(){return e.entries},get field(){return g(X)},get fields(){return e.fields},oninput:hn=>{k({entries:hn.entries,content_changes:[{action:"update",id:hn.id,data:hn.data,dynamic:g(qn)}]})},$$events:{keydown(hn){Le.call(this,e,hn)},add:({detail:hn})=>j({...hn,dynamic:g(qn)}),remove:({detail:hn})=>U(hn,g(qn)),move:({detail:hn})=>N(hn)}})}),T(Ri,Kr)},$$slots:{default:!0}}),T(fn,Yi)},fn=>{var Yi=be(),qn=he(Yi);J(qn,()=>g(Me),Gr=>{const Hr=le(()=>["repeater","group"].includes(g(X).type)?g(X).label:null),js=le(()=>{var $o;return g(Hr)?($o=a().find(ic=>ic.id===g(X).type))==null?void 0:$o.icon:null});Cg(Gr,{get title(){return g(Hr)},get icon(){return g(js)},children:($o,ic)=>{var Ri=be(),Ni=he(Ri),Kr=le(()=>g(Me).value==="");Be(Ni,()=>g(L),(Na,ko)=>{ko(Na,{get id(){return g(Me).id},get field(){return g(X)},get value(){return g(Me).value},get metadata(){return g(Me).metadata},get entries(){return e.entries},get fields(){return e.fields},get autocomplete(){return g(Kr)},get onkeydown(){return h()},oninput:Nn=>{const hn=Nn.id||g(Me).id,Fa=Nn.data||Nn,HC=e.entries.map(bd=>bd.id===hn?{...bd,...Fa}:bd);k({entries:HC,content_changes:[{action:"update",id:hn,data:Fa}]})},$$events:{add:({detail:Nn})=>j(Nn),remove:({detail:Nn})=>U(Nn),move:({detail:Nn})=>N(Nn)}})}),T($o,Ri)},$$slots:{default:!0}})},Gr=>{var Hr=t6(),js=Q(Hr);$(Hr),de(()=>Re(js,`Field ${g(X).id??""} is corrupted, should be deleted.`)),T(Gr,Hr)},!0),T(fn,Yi)}),T(De,We)},De=>{var We=be(),Me=he(We);J(Me,()=>!g(te)&&l()==="DEV",ot=>{var ft=n6(),$n=Q(ft);ge($n,{icon:"mdi:hidden"}),On(2),$(ft),T(ot,ft)},null,!0),T(De,We)}),T(Qe,Ue)},null,!0),T(ue,ae)}),$(re),$(R),T(M,R)});var ne=B(ee,2);J(ne,()=>l()==="DEV",M=>{var X=r6();X.__click=[LG,p,e,i,k,q];var R=Q(X),L=Q(R);ge(L,{icon:"fa-solid:plus"}),$(R),On(2),$(X),T(M,X)}),$(H),T(t,H),$e()}st(["click"]);const Hy=Ce("horizontal");var o6=E('<div><!></div> <button class="prompt svelte-dj82ig"><!></button>',1),a6=E("<!> <!> <!>",1),l6=E('<!> <main class="svelte-dj82ig"><!></main>',1);function u6(t,e){Se(e,!0);const n=Je(),i=()=>me(Kh,"$symbols",n),r=()=>me(Pt,"$site",n),s=()=>me(wn,"$active_page",n),o=()=>me(Cr,"$page_type",n),a=()=>me(Es,"$locale",n),l=()=>me(_f,"$has_error",n),c=()=>me(Vh,"$userRole",n),u=()=>me(Hy,"$orientation",n);let f=F(e,"tab",15,"content"),h=F(e,"header",19,()=>({label:"Create Component",icon:"fas fa-code",button:{icon:"fas fa-plus",label:"Add to page",onclick:M=>{console.warn("Component not going anywhere",M)}}}));const d=_.cloneDeep(i().find(M=>M.id===(e.component.symbol||e.component.master.symbol)));let p=_.cloneDeep(d.code),m=ce(se(_.cloneDeep(d.fields))),O=ce(se(_.cloneDeep([...e.component.entries,...r().entries,...s().entries,...o().entries]))),v=le(()=>g(O).filter(M=>!M.site&&!M.page&&!M.page_type)),b=le(()=>g(O).filter(M=>M.page)),S=le(()=>g(O).filter(M=>M.site)),y=ce(se([])),w=ce(se([])),P=!1,x=ce(se(p.html)),k=ce(se(p.css)),A=ce(se(p.js)),D=ce(se({}));function W(){V(D,se(ma({fields:g(m),entries:g(v),site:{...r(),entries:g(S)},page:{...s(),entries:g(b)}})[a()]))}_u(()=>{W()}),Lh.on("e",U);function j(M){const{metaKey:X,key:R}=M;X&&R==="s"&&(M.preventDefault(),N()),X&&R==="e"&&(M.preventDefault(),U())}function U(){f(f()==="code"?"content":"code")}async function N(){l()||h().button.onclick({code:{html:g(x),css:g(k),js:g(A)},entries:g(O),fields:g(m)},{entries:g(w),fields:g(y)})}let Y,z=ce("");async function q(){const M=window.prompt("What do you want?");if(!M)return;V(z,`${g(z)}
${M}`),console.log({full_prompt:g(z)});const{data:X}=await Bu.post("/api/ai",{prompt:g(z),data:{code:p,entries:g(O),fields:g(m)}}),R=JSON.parse(X[0].text),{code:L,actions:ie}=R.component;ie&&Y(ie),L.html&&V(x,se(L.html)),L.css&&V(k,se(L.css)),L.js&&V(A,se(L.js)),window.alert(R.explanation)}var Z=l6(),K=he(Z),I=le(()=>d.name||"Block"),H=le(()=>({...h().button,onclick:N,icon:"material-symbols:save",disabled:l()}));Xa(K,gs(h,{warn:()=>{const X=_.isEqual(e.component.code,{html:g(x),css:g(k),js:g(A)}),R=g(y).length>0||g(w).length>0;return X||R?window.confirm("Unsaved changes will be lost. Continue?"):!0},icon:"lucide:blocks",get title(){return g(I)},get button(){return g(H)},left:X=>{var R=o6(),L=he(R),ie=Q(L);J(ie,()=>c()==="DEV",re=>{ov(re,{tabs:[{id:"code",icon:"gravity-ui:code"},{id:"content",icon:"uil:edit"}],get active_tab_id(){return f()},set active_tab_id(oe){f(oe)}})}),$(L);var te=B(L,2);te.__click=q;var G=Q(te);ge(G,{icon:"mingcute:ai-fill"}),$(te),T(X,R)},$$slots:{left:!0}}));var ee=B(K,2),ne=Q(ee);lo(ne,{get direction(){return u()},style:"display: flex; gap: 0.25rem;",children:(M,X)=>{var R=a6(),L=he(R);kn(L,{defaultSize:50,style:"display: flex; flex-direction: column;",children:(G,re)=>{var oe=be(),ue=he(oe);J(ue,()=>f()==="code",ae=>{var xe=le(()=>_.cloneDeep(g(D)));AP(ae,{get html(){return g(x)},set html(Qe){V(x,se(Qe))},get css(){return g(k)},set css(Qe){V(k,se(Qe))},get js(){return g(A)},set js(Qe){V(A,se(Qe))},get data(){return g(xe)},$$events:{save:N,"mod-e":()=>{}}})},ae=>{var xe=be(),Qe=he(xe);J(Qe,()=>f()==="content",Ue=>{Gl(Ue,{get onprompt(){return Y},set onprompt(we){Y=we},get id(){return`section-${e.component.id??""}`},get fields(){return g(m)},get entries(){return g(O)},get fields_changes(){return g(y)},get content_changes(){return g(w)},onkeydown:j,$$events:{input:({detail:we})=>{V(m,se(we.fields)),V(O,se(we.entries)),V(y,se(we.changes.fields)),V(w,se(we.changes.entries)),W()}}})},null,!0),T(ae,xe)}),T(G,oe)},$$slots:{default:!0}});var ie=B(L,2);_s(ie,{class:"PaneResizer"});var te=B(ie,2);kn(te,{defaultSize:50,children:(G,re)=>{var oe=le(()=>({html:g(x),css:g(k),js:g(A)})),ue=le(()=>_.cloneDeep(g(D)));pP(G,{get code(){return g(oe)},get data(){return g(ue)},get orientation(){return Ox(),u()},set orientation(ae){Mn(Hy,se(ae))},view:"small",loading:P})},$$slots:{default:!0}}),T(M,R)},$$slots:{default:!0}}),$(ee),de(()=>{Ge(ee,"lang",a()),Ae(ee,"showing-fields",f()==="fields")}),T(t,Z),$e()}st(["click"]);Ce(pe(Ck)?"100%":"50%");Ce(pe(Ck)?"100%":"50%");const Ky=Ce("horizontal");var c6=E("<div><!></div>"),f6=E("<!> <!> <!>",1),h6=E('<!> <main class="svelte-13jhg2x"><!></main>',1);function d6(t,e){Se(e,!0);const n=Je(),i=()=>me(Pt,"$site",n),r=()=>me(Es,"$locale",n),s=()=>me(_f,"$has_error",n),o=()=>me(Vh,"$userRole",n),a=()=>me(Ky,"$orientation",n);let l=F(e,"block",19,Kk),c=F(e,"tab",15,"content"),u=F(e,"header",19,()=>({label:"Create Component",icon:"fas fa-code",button:{icon:"fas fa-plus",label:"Add to page",onclick:N=>{console.warn("Component not going anywhere",N)}}})),f=ce(se([])),h=ce(se([])),d=_.cloneDeep(l().code),p=ce(se(_.cloneDeep(l().fields))),m=ce(se(_.cloneDeep([...l().entries,...i().entries]))),O=!1,v=ce(se(d.html)),b=ce(se(d.css)),S=ce(se(d.js)),y=le(()=>ma({entries:g(m).filter(N=>!N.site&&!N.page),fields:g(p),site:{...i(),entries:g(m).filter(N=>N.site)}})[r()]);Lh.on("e",P);function w(N){const{metaKey:Y,key:z}=N;Y&&z==="s"&&(N.preventDefault(),x()),Y&&z==="e"&&(N.preventDefault(),P())}function P(){c(c()==="code"?"content":"code")}async function x(){s()||(console.log({local_code:d}),u().button.onclick({code:{html:g(v),css:g(b),js:g(S)},entries:g(m),fields:g(p)},{entries:g(h),fields:g(f)}))}var k=h6(),A=he(k),D=le(()=>l().name||"Block"),W=le(()=>({...u().button,onclick:x,icon:"material-symbols:save",disabled:s()}));Xa(A,gs(u,{warn:()=>{const Y=!_.isEqual(l().code,{html:g(v),css:g(b),js:g(S)}),z=g(f).length>0||g(h).length>0;return Y||z?window.confirm("Unsaved changes will be lost. Continue?"):!0},icon:"lucide:blocks",get title(){return g(D)},get button(){return g(W)},left:Y=>{var z=c6(),q=Q(z);J(q,()=>o()==="DEV",Z=>{ov(Z,{get active_tab_id(){return c()},set active_tab_id(K){c(K)}})}),$(z),T(Y,z)},$$slots:{left:!0}}));var j=B(A,2),U=Q(j);lo(U,{get direction(){return a()},style:"display: flex;",children:(N,Y)=>{var z=f6(),q=he(z);kn(q,{defaultSize:50,children:(I,H)=>{var ee=be(),ne=he(ee);J(ne,()=>c()==="code",M=>{AP(M,{get html(){return g(v)},set html(X){V(v,se(X))},get css(){return g(b)},set css(X){V(b,se(X))},get js(){return g(S)},set js(X){V(S,se(X))},get data(){return g(y)},$$events:{save:x,"mod-e":P}})},M=>{var X=be(),R=he(X);J(R,()=>c()==="content",L=>{Gl(L,{get id(){return l().id},get fields(){return g(p)},get entries(){return g(m)},get fields_changes(){return g(f)},get content_changes(){return g(h)},onkeydown:w,$$events:{input:({detail:ie})=>{V(p,se(ie.fields)),V(m,se(ie.entries)),V(f,se(ie.changes.fields)),V(h,se(ie.changes.entries))}}})},null,!0),T(M,X)}),T(I,ee)},$$slots:{default:!0}});var Z=B(q,2);_s(Z,{class:"PaneResizer"});var K=B(Z,2);kn(K,{defaultSize:50,children:(I,H)=>{var ee=le(()=>({html:g(v),css:g(b),js:g(S)}));pP(I,{get orientation(){return Ox(),a()},set orientation(ne){Mn(Ky,se(ne))},view:"small",loading:O,get code(){return g(ee)},get data(){return g(y)}})},$$slots:{default:!0}}),T(N,z)},$$slots:{default:!0}}),$(j),de(()=>{Ge(j,"lang",r()),Ae(j,"showing-fields",c()==="fields")}),T(t,k),$e()}class rt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){[e,n]=va(this,e,n);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),nr.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=va(this,e,n);let i=[];return this.decompose(e,n,i,0),nr.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ql(this),s=new ql(e);for(let o=n,a=n;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new ql(this,e)}iterRange(e,n=this.length){return new RP(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new EP(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?rt.empty:e.length<=32?new Bt(e):nr.from(Bt.split(e,[]))}}class Bt extends rt{constructor(e,n=p6(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((n?i:a)>=e)return new g6(r,a,i,o);r=a+1,i++}}decompose(e,n,i,r){let s=e<=0&&n>=this.length?this:new Bt(Jy(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=Lc(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Bt(a,o.length+s.length));else{let l=a.length>>1;i.push(new Bt(a.slice(0,l)),new Bt(a.slice(l)))}}else i.push(s)}replace(e,n,i){if(!(i instanceof Bt))return super.replace(e,n,i);[e,n]=va(this,e,n);let r=Lc(this.text,Lc(i.text,Jy(this.text,0,e)),n),s=this.length+i.length-(n-e);return r.length<=32?new Bt(r,s):nr.from(Bt.split(r,[]),s)}sliceString(e,n=this.length,i=`
`){[e,n]=va(this,e,n);let r="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&n>s&&(r+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(n.push(new Bt(i,r)),i=[],r=-1);return r>-1&&n.push(new Bt(i,r)),n}}class nr extends rt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,i,r);r=a+1,i=l+1}}decompose(e,n,i,r){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=r&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?i.push(a):a.decompose(e-o,n-o,i,c)}o=l+1}}replace(e,n,i){if([e,n]=va(this,e,n),i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new nr(u,this.length-(n-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){[e,n]=va(this,e,n);let r="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&n>o&&(r+=a.sliceString(e-o,n-o,i)),o=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof nr))return 0;let i=0,[r,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,s+=n){if(r==o||s==a)return i;let l=this.children[r],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,n);i+=l.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new Bt(d,n)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,u=[];function f(d){let p;if(d.lines>s&&d instanceof nr)for(let m of d.children)f(m);else d.lines>o&&(l>o||!l)?(h(),a.push(d)):d instanceof Bt&&l&&(p=u[u.length-1])instanceof Bt&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,u[u.length-1]=new Bt(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>r&&h(),l+=d.lines,c+=d.length+1,u.push(d))}function h(){l!=0&&(a.push(u.length==1?u[0]:nr.from(u,c)),c=-1,l=u.length=0)}for(let d of e)f(d);return h(),a.length==1?a[0]:new nr(a,n)}}rt.empty=new Bt([""],0);function p6(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Lc(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let a=t[s],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Jy(t,e,n){return Lc(t,[""],e,n)}class ql{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Bt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof Bt?r.text.length:r.children.length;if(o==(n>0?a:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Bt){let l=r.text[o+(n<0?-1:0)];if(this.offsets[i]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Bt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class RP{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new ql(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class EP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(rt.prototype[Symbol.iterator]=function(){return this.iter()},ql.prototype[Symbol.iterator]=RP.prototype[Symbol.iterator]=EP.prototype[Symbol.iterator]=function(){return this});class g6{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}}function va(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let Fo="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Fo.length;t++)Fo[t]+=Fo[t-1];function m6(t){for(let e=1;e<Fo.length;e+=2)if(Fo[e]>t)return Fo[e-1]<=t;return!1}function e_(t){return t>=127462&&t<=127487}const t_=8205;function on(t,e,n=!0,i=!0){return(n?qP:O6)(t,e,i)}function qP(t,e,n){if(e==t.length)return e;e&&MP(t.charCodeAt(e))&&ZP(t.charCodeAt(e-1))&&e--;let i=en(t,e);for(e+=di(i);e<t.length;){let r=en(t,e);if(i==t_||r==t_||n&&m6(r))e+=di(r),i=r;else if(e_(r)){let s=0,o=e-2;for(;o>=0&&e_(en(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function O6(t,e,n){for(;e>0;){let i=qP(t,e-2,n);if(i<e)return i;e--}return 0}function MP(t){return t>=56320&&t<57344}function ZP(t){return t>=55296&&t<56320}function en(t,e){let n=t.charCodeAt(e);if(!ZP(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return MP(i)?(n-55296<<10)+(i-56320)+65536:n}function xv(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function di(t){return t<65536?1:2}const jg=/\r\n?|\n/;var nn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(nn||(nn={}));class lr{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,n=!1){Wg(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new lr(e)}composeDesc(e){return this.empty?e:e.empty?this:DP(this,e)}mapDesc(e,n=!1){return e.empty?this:Bg(this,e,n)}mapPos(e,n=-1,i=nn.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(i!=nn.Simple&&c>=e&&(i==nn.TrackDel&&r<e&&c>e||i==nn.TrackBefore&&r<e||i==nn.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==r||n<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=n&&a>=e)return r<e&&a>n?"cover":!0;r=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new lr(e)}static create(e){return new lr(e)}}class Yt extends lr{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Wg(this,(n,i,r,s,o)=>e=e.replace(r,r+(i-n),o),!1),e}mapDesc(e,n=!1){return Bg(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,s=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a>=0){n[r]=a,n[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(rt.empty);i.push(o?e.slice(s,s+o):rt.empty)}s+=o}return new Yt(n,i)}compose(e){return this.empty?e:e.empty?this:DP(this,e,!0)}map(e,n=!1){return e.empty?this:Bg(this,e,n,!0)}iterChanges(e,n=!1){Wg(this,e,n)}get desc(){return lr.create(this.sections)}filter(e){let n=[],i=[],r=[],s=new Hl(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);pn(r,u,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;pn(n,u,f),f>0&&us(i,n,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);pn(n,u,-1),pn(r,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Yt(n,i),filtered:lr.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!r.length)return;o<n&&pn(r,n-o,-1);let f=new Yt(r,s);a=a?a.compose(f.map(a)):f,r=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof Yt){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:h=f,insert:d}=u;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let p=d?typeof d=="string"?rt.of(d.split(i||jg)):d:rt.empty,m=p.length;if(f==h&&m==0)return;f<o&&l(),f>o&&pn(r,f-o,-1),pn(r,h-f,m),us(s,r,p),o=h}}return c(e),l(!a),a}static empty(e){return new Yt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;i.length<r;)i.push(rt.empty);i[r]=rt.of(s.slice(1)),n.push(s[0],i[r].length)}}}return new Yt(n,i)}static createSet(e,n){return new Yt(e,n)}}function pn(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function us(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(rt.empty);t.push(n)}}function Wg(t,e,n){let i=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,u=s,f=rt.empty;for(;c+=a,u+=l,l&&i&&(f=f.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,c,s,u,f),r=c,s=u}}}function Bg(t,e,n,i=!1){let r=[],s=i?[]:null,o=new Hl(t),a=new Hl(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);pn(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(pn(r,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(pn(r,0,o.ins),s&&us(s,r,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;pn(r,c,l<o.i?o.ins:0),s&&l<o.i&&us(s,r,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Yt.createSet(r,s):lr.create(r);throw new Error("Mismatched change set lengths")}}function DP(t,e,n=!1){let i=[],r=n?[]:null,s=new Hl(t),o=new Hl(e);for(let a=!1;;){if(s.done&&o.done)return r?Yt.createSet(i,r):lr.create(i);if(s.ins==0)pn(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)pn(i,0,o.ins,a),r&&us(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;pn(i,l,u,a),r&&u&&us(r,i,o.text)}else o.ins==-1?(pn(i,s.off?0:s.len,l,a),r&&us(r,i,s.textBit(l))):(pn(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&us(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class Hl{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?rt.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?rt.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Hs{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Hs(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return fe.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return fe.range(this.anchor,i)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return fe.range(e.anchor,e.head)}static create(e,n,i){return new Hs(e,n,i)}}class fe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:fe.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new fe([this.main],0)}addRange(e,n=!0){return fe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,fe.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new fe(e.ranges.map(n=>Hs.fromJSON(n)),e.main)}static single(e,n=e){return new fe([fe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return fe.normalized(e.slice(),n);i=s.to}return new fe(e,n)}static cursor(e,n=0,i,r){return Hs.create(e,e,(n==0?0:n<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,n,i,r){let s=(i??16777215)<<6|(r==null?7:Math.min(6,r));return n<e?Hs.create(n,e,48|s):Hs.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let i=e[n];e.sort((r,s)=>r.from-s.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?fe.range(l,a):fe.range(a,l))}}return new fe(e,n)}}function jP(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Sv=0;class _e{constructor(e,n,i,r,s){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=Sv++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new _e(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:$v),!!e.static,e.enables)}of(e){return new zc([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new zc(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new zc(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function $v(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class zc{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=Sv++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[o]=i(f),1},update(f,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||Ig(f,u)){let d=i(f);if(a?!n_(d,f.values[o],r):!r(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,h)=>{let d,p=h.config.address[s];if(p!=null){let m=xf(h,p);if(this.dependencies.every(O=>O instanceof _e?h.facet(O)===f.facet(O):O instanceof Xt?h.field(O,!1)==f.field(O,!1):!0)||(a?n_(d=i(f),m,r):r(d=i(f),m)))return f.values[o]=m,0}else d=i(f);return f.values[o]=d,1}}}}function n_(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function Ig(t,e){let n=!1;for(let i of e)Ml(t,i)&1&&(n=!0);return n}function v6(t,e,n){let i=n.map(l=>t[l.id]),r=n.map(l=>l.type),s=i.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<i.length;u++){let f=xf(l,i[u]);if(r[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)Ml(l,c);return l.values[o]=a(l),1},update(l,c){if(!Ig(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=Ig(l,i),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&$v(n,f))return l.values[o]=h,0;let d=a(l);return e.compare(d,h)?(l.values[o]=h,0):(l.values[o]=d,1)}}}const i_=_e.define({static:!0});class Xt{constructor(e,n,i,r,s){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let n=new Xt(Sv++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(i_).find(i=>i.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let s=i.values[n],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[n]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,i_.of({field:this,create:e})]}get extension(){return this}}const Ys={lowest:4,low:3,default:2,high:1,highest:0};function ol(t){return e=>new WP(e,t)}const Ms={highest:ol(Ys.highest),high:ol(Ys.high),default:ol(Ys.default),low:ol(Ys.low),lowest:ol(Ys.lowest)};class WP{constructor(e,n){this.inner=e,this.prec=n}}class Lu{of(e){return new Xg(this,e)}reconfigure(e){return Lu.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Xg{constructor(e,n){this.compartment=e,this.inner=n}}class wf{constructor(e,n,i,r,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],s=Object.create(null),o=new Map;for(let h of b6(e,n,o))h instanceof Xt?r.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],c=[];for(let h of r)a[h.id]=c.length<<1,c.push(d=>h.slot(d));let u=i==null?void 0:i.config.facets;for(let h in s){let d=s[h],p=d[0].facet,m=u&&u[h]||[];if(d.every(O=>O.type==0))if(a[p.id]=l.length<<1|1,$v(m,d))l.push(i.facet(p));else{let O=p.combine(d.map(v=>v.value));l.push(i&&p.compare(O,i.facet(p))?i.facet(p):O)}else{for(let O of d)O.type==0?(a[O.id]=l.length<<1|1,l.push(O.value)):(a[O.id]=c.length<<1,c.push(v=>O.dynamicSlot(v)));a[p.id]=c.length<<1,c.push(O=>v6(O,p,d))}}let f=c.map(h=>h(a));return new wf(e,o,f,a,l,s)}}function b6(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof Xg&&n.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Xg){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof WP)s(o.inner,o.prec);else if(o instanceof Xt)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof zc)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ys.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,Ys.default),i.reduce((o,a)=>o.concat(a))}function Ml(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function xf(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const BP=_e.define(),Ug=_e.define({combine:t=>t.some(e=>e),static:!0}),IP=_e.define({combine:t=>t.length?t[0]:void 0,static:!0}),XP=_e.define(),UP=_e.define(),VP=_e.define(),LP=_e.define({combine:t=>t.length?t[0]:!1});class Fr{constructor(e,n){this.type=e,this.value=n}static define(){return new y6}}class y6{of(e){return new Fr(this,e)}}class _6{constructor(e){this.map=e}of(e){return new qe(this,e)}}class qe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new qe(this.type,n)}is(e){return this.type==e}static define(e={}){return new _6(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(n);s&&i.push(s)}return i}}qe.reconfigure=qe.define();qe.appendConfig=qe.define();class Vt{constructor(e,n,i,r,s,o){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&jP(i,n.newLength),s.some(a=>a.type==Vt.time)||(this.annotations=s.concat(Vt.time.of(Date.now())))}static create(e,n,i,r,s,o){return new Vt(e,n,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Vt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Vt.time=Fr.define();Vt.userEvent=Fr.define();Vt.addToHistory=Fr.define();Vt.remote=Fr.define();function w6(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else if(r<e.length)s=e[r++],o=e[r++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function zP(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=Yt.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:qe.mapEffects(t.effects,r).concat(qe.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Vg(t,e,n){let i=e.selection,r=Go(e.annotations);return e.userEvent&&(r=r.concat(Vt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Yt?e.changes:Yt.of(e.changes||[],n,t.facet(IP)),selection:i&&(i instanceof fe?i:fe.single(i.anchor,i.head)),effects:Go(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function YP(t,e,n){let i=Vg(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;i=zP(i,Vg(t,e[s],o?i.changes.newLength:t.doc.length),o)}let r=Vt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return S6(n?x6(r):r)}function x6(t){let e=t.startState,n=!0;for(let r of e.facet(XP)){let s=r(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:w6(n,s))}if(n!==!0){let r,s;if(n===!1)s=t.changes.invertedDesc,r=Yt.empty(e.doc.length);else{let o=t.changes.filter(n);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Vt.create(e,r,t.selection&&t.selection.map(s),qe.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let i=e.facet(UP);for(let r=i.length-1;r>=0;r--){let s=i[r](t);s instanceof Vt?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Vt?t=s[0]:t=YP(e,Go(s),!1)}return t}function S6(t){let e=t.startState,n=e.facet(VP),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=zP(i,Vg(e,s,t.changes.newLength),!0))}return i==t?t:Vt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const $6=[];function Go(t){return t==null?$6:Array.isArray(t)?t:[t]}var Ct=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Ct||(Ct={}));const k6=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Lg;try{Lg=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function P6(t){if(Lg)return Lg.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||k6.test(n)))return!0}return!1}function Q6(t){return e=>{if(!/\S/.test(e))return Ct.Space;if(P6(e))return Ct.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ct.Word;return Ct.Other}}class tt{constructor(e,n,i,r,s,o){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Ml(this,a<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return Ml(this,i),xf(this,i)}update(...e){return YP(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let a of e.effects)a.is(Lu.reconfigure)?(n&&(r=new Map,n.compartments.forEach((l,c)=>r.set(c,l)),n=null),r.set(a.value.compartment,a.value.extension)):a.is(qe.reconfigure)?(n=null,i=a.value):a.is(qe.appendConfig)&&(n=null,i=Go(i).concat(a.value));let s;n?s=e.startState.values.slice():(n=wf.resolve(i,r,this),s=new tt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(Ug)?e.newSelection:e.newSelection.asSingle();new tt(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:fe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),s=[i.range],o=Go(i.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(r);for(let h=0;h<a;h++)s[h]=s[h].map(u);let f=r.mapDesc(c,!0);s.push(l.range.map(f)),r=r.compose(u),o=qe.mapEffects(o,u).concat(qe.mapEffects(Go(l.effects),f))}return{changes:r,selection:fe.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Yt?e:Yt.of(e,this.doc.length,this.facet(tt.lineSeparator))}toText(e){return rt.of(e.split(this.facet(tt.lineSeparator)||jg))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Ml(this,n),xf(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Xt&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return tt.create({doc:e.doc,selection:fe.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=wf.resolve(e.extensions||[],new Map),i=e.doc instanceof rt?e.doc:rt.of((e.doc||"").split(n.staticFacet(tt.lineSeparator)||jg)),r=e.selection?e.selection instanceof fe?e.selection:fe.single(e.selection.anchor,e.selection.head):fe.single(0);return jP(r,i.length),n.staticFacet(Ug)||(r=r.asSingle()),new tt(n,i,r,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(tt.tabSize)}get lineBreak(){return this.facet(tt.lineSeparator)||`
`}get readOnly(){return this.facet(LP)}phrase(e,...n){for(let i of this.facet(tt.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let s of this.facet(BP))for(let o of s(this,n,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return Q6(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=on(n,o,!1);if(s(n.slice(l,o))!=Ct.Word)break;o=l}for(;a<r;){let l=on(n,a);if(s(n.slice(a,l))!=Ct.Word)break;a=l}return o==a?null:fe.range(o+i,a+i)}}tt.allowMultipleSelections=Ug;tt.tabSize=_e.define({combine:t=>t.length?t[0]:4});tt.lineSeparator=IP;tt.readOnly=LP;tt.phrases=_e.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});tt.languageData=BP;tt.changeFilter=XP;tt.transactionFilter=UP;tt.transactionExtender=VP;Lu.reconfigure=qe.define();function br(t,e,n={}){let i={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))i[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class uo{eq(e){return this==e}range(e,n=e){return zg.create(e,n,this)}}uo.prototype.startSide=uo.prototype.endSide=0;uo.prototype.point=!1;uo.prototype.mapMode=nn.TrackDel;let zg=class NP{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new NP(e,n,i)}};function Yg(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class kv{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,i,r){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,h,d;if(u==f){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(h=d=p,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<h)))continue}else if(h=n.mapPos(u,c.startSide),d=n.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(o<0&&(o=h),c.point&&(a=Math.max(a,d-h)),i.push(c),r.push(h-o),s.push(d-o))}return{mapped:i.length?new kv(r,s,i,a):null,pos:o}}}class it{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new it(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(i&&(n=n.slice().sort(Yg)),this.isEmpty)return n.length?it.of(n):this;let a=new FP(this,null,-1).goto(0),l=0,c=[],u=new ws;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(zg.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?it.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),n.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(r=Math.max(r,u.maxPoint),n.push(u),i.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new it(i,n,s||it.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return Kl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Kl.from(e).goto(n)}static compare(e,n,i,r,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=r_(o,a,i),c=new al(o,l,s),u=new al(a,l,s);i.iterGaps((f,h,d)=>s_(c,f,u,h,d,r)),i.empty&&i.length==0&&s_(c,0,u,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=999999999);let s=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=r_(s,o),l=new al(s,a,0).goto(i),c=new al(o,a,0).goto(i);for(;;){if(l.to!=c.to||!Ng(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,n,i,r,s=-1){let o=new al(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);r.point(a,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,n=!1){let i=new ws;for(let r of e instanceof zg?[e]:n?T6(e):e)i.add(r.from,r.to,r.value);return i.finish()}static join(e){if(!e.length)return it.empty;let n=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let r=e[i];r!=it.empty;r=r.nextLayer)n=new it(r.chunkPos,r.chunk,n,Math.max(r.maxPoint,n.maxPoint));return n}}it.empty=new it([],[],null,-1);function T6(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Yg(e,i)>0)return t.slice().sort(Yg);e=i}return t}it.empty.nextLayer=it.empty;class ws{finishChunk(e){this.chunks.push(new kv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new ws)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(it.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=it.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function r_(t,e,n){let i=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class FP{constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Kl{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new FP(o,n,i,s));return r.length==1?r[0]:new Kl(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)pp(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)pp(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),pp(this.heap,0)}}}function pp(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class al{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Kl.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){gc(this.active,e),gc(this.activeTo,e),gc(this.activeRank,e),this.minActive=o_(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||r-this.activeTo[n])>0;)n++;mc(this.active,n,i),mc(this.activeTo,n,r),mc(this.activeRank,n,s),e&&mc(e,n,this.cursor.from),this.minActive=o_(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&gc(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function s_(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,a=i,l=i-e;for(;;){let c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,f=Math.min(u,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ng(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,f,t.point,n.point):f>a&&!Ng(t.active,n.active)&&s.compareRange(a,f,t.active,n.active),u>o)break;a=u,c<=0&&t.next(),c>=0&&n.next()}}function Ng(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function gc(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function mc(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function o_(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function Ua(t,e,n=t.length){let i=0;for(let r=0;r<n;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=on(t,r));return i}function Fg(t,e,n,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?n-s%n:1,r=on(t,r)}return i===!0?-1:t.length}const Gg="",a_=typeof Symbol>"u"?"__"+Gg:Symbol.for(Gg),Hg=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xs{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],f=/^@(\w+)\b/.exec(o[0]),h=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(m=>o.map(O=>m.replace(/&/,O))).reduce((m,O)=>m.concat(O)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(r(d),p,u,h)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||h)&&l.push((i&&!f&&!c?o.map(i):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=l_[a_]||1;return l_[a_]=e+1,Gg+e.toString(36)}static mount(e,n,i){let r=e[Hg],s=i&&i.nonce;r?s&&r.setNonce(s):r=new A6(e,s),r.mount(Array.isArray(n)?n:[n],e)}}let u_=new Map;class A6{constructor(e,n){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=u_.get(i);if(s)return e[Hg]=s;this.sheet=new r.CSSStyleSheet,u_.set(i,this)}else this.styleTag=i.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Hg]=this}mount(e,n){let i=this.sheet,r=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),i)for(let c=0;c<a.rules.length;c++)i.insertRule(a.rules[c],r++)}else{for(;s<l;)r+=this.modules[s++].rules.length;r+=a.rules.length,s++}}if(i)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ss={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},C6=typeof navigator<"u"&&/Mac/.test(navigator.platform),R6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var tn=0;tn<10;tn++)Ss[48+tn]=Ss[96+tn]=String(tn);for(var tn=1;tn<=24;tn++)Ss[tn+111]="F"+tn;for(var tn=65;tn<=90;tn++)Ss[tn]=String.fromCharCode(tn+32),Jl[tn]=String.fromCharCode(tn);for(var gp in Ss)Jl.hasOwnProperty(gp)||(Jl[gp]=Ss[gp]);function E6(t){var e=C6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||R6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Jl:Ss)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function eu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Kg(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function q6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Yc(t,e){if(!e.anchorNode)return!1;try{return Kg(t,e.anchorNode)}catch{return!1}}function tu(t){return t.nodeType==3?fo(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Zl(t,e,n,i){return n?c_(t,e,n,i,-1)||c_(t,e,n,i,1):!1}function co(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Sf(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function c_(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:Rr(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=co(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?Rr(t):0}else return!1}}function Rr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pv(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function M6(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function GP(t,e){let n=e.width/t.offsetWidth,i=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-t.offsetHeight)<1)&&(i=1),{scaleX:n,scaleY:i}}function Z6(t,e,n,i,r,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,f=!1;u&&!f;)if(u.nodeType==1){let h,d=u==l.body,p=1,m=1;if(d)h=M6(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();({scaleX:p,scaleY:m}=GP(u,b)),h={left:b.left,right:b.left+u.clientWidth*p,top:b.top,bottom:b.top+u.clientHeight*m}}let O=0,v=0;if(r=="nearest")e.top<h.top?(v=-(h.top-e.top+o),n>0&&e.bottom>h.bottom+v&&(v=e.bottom-h.bottom+v+o)):e.bottom>h.bottom&&(v=e.bottom-h.bottom+o,n<0&&e.top-v<h.top&&(v=-(h.top+v-e.top+o)));else{let b=e.bottom-e.top,S=h.bottom-h.top;v=(r=="center"&&b<=S?e.top+b/2-S/2:r=="start"||r=="center"&&n<0?e.top-o:e.bottom-S+o)-h.top}if(i=="nearest"?e.left<h.left?(O=-(h.left-e.left+s),n>0&&e.right>h.right+O&&(O=e.right-h.right+O+s)):e.right>h.right&&(O=e.right-h.right+s,n<0&&e.left<h.left+O&&(O=-(h.left+O-e.left+s))):O=(i=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:i=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,O||v)if(d)c.scrollBy(O,v);else{let b=0,S=0;if(v){let y=u.scrollTop;u.scrollTop+=v/m,S=(u.scrollTop-y)*m}if(O){let y=u.scrollLeft;u.scrollLeft+=O/p,b=(u.scrollLeft-y)*p}e={left:e.left-b,top:e.top-S,right:e.right-b,bottom:e.bottom-S},b&&Math.abs(b-O)<1&&(i="nearest"),S&&Math.abs(S-v)<1&&(r="nearest")}if(d)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function D6(t){let e=t.ownerDocument,n,i;for(let r=t.parentNode;r&&!(r==e.body||n&&i);)if(r.nodeType==1)!i&&r.scrollHeight>r.clientHeight&&(i=r),!n&&r.scrollWidth>r.clientWidth&&(n=r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;return{x:n,y:i}}class j6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:i}=e;this.set(n,Math.min(e.anchorOffset,n?Rr(n):0),i,Math.min(e.focusOffset,i?Rr(i):0))}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let qo=null;function HP(t){if(t.setActive)return t.setActive();if(qo)return t.focus(qo);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(qo==null?{get preventScroll(){return qo={preventScroll:!0},!0}}:void 0),!qo){qo=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],s=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let f_;function fo(t,e,n=e){let i=f_||(f_=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function Ho(t,e,n,i){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0};i&&({altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey}=i);let s=new KeyboardEvent("keydown",r);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function W6(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function KP(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function B6(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(i=Math.min(i,Rr(n));;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=Rr(n))}else{if(n==t)return!0;i=co(n),n=n.parentNode}}function JP(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function eQ(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i>0)return{node:n,offset:i};if(n.nodeType==1&&i>0){if(n.contentEditable=="false")return null;n=n.childNodes[i-1],i=Rr(n)}else if(n.parentNode&&!Sf(n))i=co(n),n=n.parentNode;else return null}}function tQ(t,e){for(let n=t,i=e;;){if(n.nodeType==3&&i<n.nodeValue.length)return{node:n,offset:i};if(n.nodeType==1&&i<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[i],i=0}else if(n.parentNode&&!Sf(n))i=co(n)+1,n=n.parentNode;else return null}}class bn{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new bn(e.parentNode,co(e),n)}static after(e,n){return new bn(e.parentNode,co(e)+1,n)}}const Qv=[];class vt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=vt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&s!=o.dom&&(n.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=h_(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&n&&n.node==i&&(n.written=!0);s;)s=h_(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,n),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=Rr(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!vt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,u=i;l<this.children.length;l++){let f=this.children[l],h=c+f.length;if(c<e&&h>n)return f.domBoundsAround(e,n,c);if(h>=e&&r==-1&&(r=l,s=c),c>n&&f.dom.parentNode==this.dom){o=l,a=u;break}u=h,c=h+f.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Qv){this.markDirty();for(let r=e;r<n;r++){let s=this.children[r];s.parent==this&&i.indexOf(s)<0&&s.destroy()}this.children.splice(e,n-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new nQ(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}vt.prototype.breakAfter=0;function h_(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class nQ{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function iQ(t,e,n,i,r,s,o,a,l){let{children:c}=t,u=c.length?c[e]:null,f=s.length?s[s.length-1]:null,h=f?f.breakAfter:o;if(!(e==i&&u&&!o&&!h&&s.length<2&&u.merge(n,r,s.length?f:null,n==0,a,l))){if(i<c.length){let d=c[i];d&&(r<d.length||d.breakAfter&&(f!=null&&f.breakAfter))?(e==i&&(d=d.split(r),r=0),!h&&f&&d.merge(0,r,f,!0,0,l)?s[s.length-1]=d:((r||d.children.length&&!d.children[0].length)&&d.merge(0,r,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:o=1),i++}for(u&&(u.breakAfter=o,n>0&&(!o&&s.length&&u.merge(n,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&t.replaceChildren(e,i,s)}}function rQ(t,e,n,i,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:u}=o.findPos(e,-1),f=e-n;for(let h of i)f+=h.length;t.length+=f,iQ(t,c,u,a,l,i,0,r,s)}let Zn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Jg=typeof document<"u"?document:{documentElement:{style:{}}};const em=/Edge\/(\d+)/.exec(Zn.userAgent),sQ=/MSIE \d/.test(Zn.userAgent),tm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zn.userAgent),ed=!!(sQ||tm||em),d_=!ed&&/gecko\/(\d+)/i.test(Zn.userAgent),mp=!ed&&/Chrome\/(\d+)/.exec(Zn.userAgent),p_="webkitFontSmoothing"in Jg.documentElement.style,oQ=!ed&&/Apple Computer/.test(Zn.vendor),g_=oQ&&(/Mobile\/\w+/.test(Zn.userAgent)||Zn.maxTouchPoints>2);var ye={mac:g_||/Mac/.test(Zn.platform),windows:/Win/.test(Zn.platform),linux:/Linux|X11/.test(Zn.platform),ie:ed,ie_version:sQ?Jg.documentMode||6:tm?+tm[1]:em?+em[1]:0,gecko:d_,gecko_version:d_?+(/Firefox\/(\d+)/.exec(Zn.userAgent)||[0,0])[1]:0,chrome:!!mp,chrome_version:mp?+mp[1]:0,ios:g_,android:/Android\b/.test(Zn.userAgent),webkit:p_,safari:oQ,webkit_version:p_?+(/\bAppleWebKit\/(\d+)/.exec(Zn.userAgent)||[0,0])[1]:0,tabSize:Jg.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const I6=256;class Ii extends vt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return this.flags&8||i&&(!(i instanceof Ii)||this.length-(n-e)+i.length>I6||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Ii(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new bn(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return X6(this.dom,e,n)}}class Er extends vt{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(KP(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,s,o){return i&&(!(i instanceof Er&&i.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(rQ(this,e,n,i?i.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&n.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Er(this.mark,n,o)}domAtPos(e){return aQ(this,e)}coordsAt(e,n){return uQ(this,e,n)}}function X6(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&n<0||e==i&&n>=0?ye.chrome||ye.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):n<0?r--:s<i&&s++;let a=fo(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return ye.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Pv(l,o<0):l||null}class cs extends vt{static create(e,n,i){return new cs(e,n,i)}constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}split(e){let n=cs.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,i,r,s,o){return i&&(!(i instanceof cs)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e instanceof cs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return rt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):rt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?bn.before(this.dom):bn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return Pv(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ba extends vt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ba&&e.side==this.side}split(){return new ba(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?bn.before(this.dom):bn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return rt.empty}get isHidden(){return!0}}Ii.prototype.children=cs.prototype.children=ba.prototype.children=Qv;function aQ(t,e){let n=t.dom,{children:i}=t,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new bn(n,0)}function lQ(t,e,n){let i,{children:r}=t;n>0&&e instanceof Er&&r.length&&(i=r[r.length-1])instanceof Er&&i.mark.eq(e.mark)?lQ(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function uQ(t,e,n){let i=null,r=-1,s=null,o=-1;function a(c,u){for(let f=0,h=0;f<c.children.length&&h<=u;f++){let d=c.children[f],p=h+d.length;p>=u&&(d.children.length?a(d,u-h):(!s||s.isHidden&&n>0)&&(p>u||h==p&&d.getSide()>0)?(s=d,o=u-h):(h<u||h==p&&d.getSide()<0&&!d.isHidden)&&(i=d,r=u-h)),h=p}}a(t,e);let l=(n<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),n):U6(t)}function U6(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=tu(e);return n[n.length-1]||null}function nm(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const m_=Object.create(null);function $f(t,e,n){if(t==e)return!0;t||(t=m_),e||(e=m_);let i=Object.keys(t),r=Object.keys(e);if(i.length-(n&&i.indexOf(n)>-1?1:0)!=r.length-(n&&r.indexOf(n)>-1?1:0))return!1;for(let s of i)if(s!=n&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function im(t,e,n){let i=!1;if(e)for(let r in e)n&&r in n||(i=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(n)for(let r in n)e&&e[r]==n[r]||(i=!0,r=="style"?t.style.cssText=n[r]:t.setAttribute(r,n[r]));return i}function V6(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let i=t.attributes[n];e[i.name]=i.value}return e}class Ut extends vt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,s,o){if(i){if(!(i instanceof Ut))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),rQ(this,e,n,i?i.children.slice():[],s,o),!0}split(e){let n=new Ut;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)n.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){$f(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){lQ(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=nm(n,this.attrs||{})),i&&(this.attrs=nm({class:i},this.attrs||{}))}domAtPos(e){return aQ(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var i;this.dom?this.flags&4&&(KP(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(im(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&vt.get(r)instanceof Er;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=vt.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!ye.ios||!this.children.some(s=>s instanceof Ii))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof Ii)||/[^ -~]/.test(i.text))return null;let r=tu(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=uQ(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof Ut&&this.children.length==0&&e.children.length==0&&$f(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=n){if(s instanceof Ut)return s;if(o>n)break}r=o+s.breakAfter}return null}}class Pr extends vt{constructor(e,n,i){super(),this.widget=e,this.length=n,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,s,o){return i&&(!(i instanceof Pr)||!this.widget.compare(i.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?bn.before(this.dom):bn.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new Pr(this.widget,n,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Qv}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):rt.empty}domBoundsAround(){return null}become(e){return e instanceof Pr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:i}=this.deco;return n==i?!1:e<0?n<0:i>0}}class yr{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Pn=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Pn||(Pn={}));class Pe extends uo{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new zu(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return n+=i&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new $s(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=cQ(e,n);i=(s?n?-3e8:-1:5e8)-1,r=(o?n?2e8:1:-6e8)+1}return new $s(e,i,r,n,e.widget||null,!0)}static line(e){return new Yu(e)}static set(e,n=!1){return it.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Pe.none=it.empty;class zu extends Pe{constructor(e){let{start:n,end:i}=cQ(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,i;return this==e||e instanceof zu&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&$f(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}zu.prototype.point=!1;class Yu extends Pe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Yu&&this.spec.class==e.spec.class&&$f(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Yu.prototype.mapMode=nn.TrackBefore;Yu.prototype.point=!0;class $s extends Pe{constructor(e,n,i,r,s,o){super(n,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?n<=0?nn.TrackBefore:nn.TrackAfter:nn.TrackDel}get type(){return this.startSide!=this.endSide?Pn.WidgetRange:this.startSide<=0?Pn.WidgetBefore:Pn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof $s&&L6(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}$s.prototype.point=!0;function cQ(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function L6(t,e){return t==e||!!(t&&e&&t.compare(e))}function rm(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class Dl{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Pr&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ut),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Oc(new ba(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Pr)&&this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(Oc(new Ii(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof $s){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(i instanceof $s)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Pr(i.widget||ya.block,a,i));else{let l=cs.create(i.widget||ya.inline,a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<n||i.startSide>0),u=!l.isEditable&&(e<n||s>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(Oc(new ba(1),r),s),s=r.length+Math.max(0,s-r.length)),f.append(Oc(l,r),s),this.atCursorPos=u,this.pendingBuffer=u?e<n||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,i,r,s){let o=new Dl(e,n,i,s);return o.openEnd=it.spans(r,n,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Oc(t,e){for(let n of e)t=new Er(n,[t],t.length);return t}class ya extends yr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ya.inline=new ya("span");ya.block=new ya("div");var Tt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Tt||(Tt={}));const ho=Tt.LTR,Tv=Tt.RTL;function fQ(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const z6=fQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Y6=fQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),sm=Object.create(null),Fi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);sm[e]=n,sm[n]=-e}function hQ(t){return t<=247?z6[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Y6[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const N6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class fs{get dir(){return this.level%2?Tv:ho}constructor(e,n,i){this.from=e,this.to=n,this.level=i}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function dQ(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!dQ(i.inner,r.inner))return!1}return!0}const Ot=[];function F6(t,e,n,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:n,l=s?256:r;for(let c=o,u=l,f=l;c<a;c++){let h=hQ(t.charCodeAt(c));h==512?h=u:h==8&&f==4&&(h=16),Ot[c]=h==4?2:h,h&7&&(f=h),u=h}for(let c=o,u=l,f=l;c<a;c++){let h=Ot[c];if(h==128)c<a-1&&u==Ot[c+1]&&u&24?h=Ot[c]=u:Ot[c]=256;else if(h==64){let d=c+1;for(;d<a&&Ot[d]==64;)d++;let p=c&&u==8||d<n&&Ot[d]==8?f==1?1:8:256;for(let m=c;m<d;m++)Ot[m]=p;c=d-1}else h==8&&f==1&&(Ot[c]=1);u=h,h&7&&(f=h)}}}function G6(t,e,n,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,u=o<i.length?i[o].from:n;for(let f=c,h,d,p;f<u;f++)if(d=sm[h=t.charCodeAt(f)])if(d<0){for(let m=a-3;m>=0;m-=3)if(Fi[m+1]==-d){let O=Fi[m+2],v=O&2?r:O&4?O&1?s:r:0;v&&(Ot[f]=Ot[Fi[m]]=v),a=m;break}}else{if(Fi.length==189)break;Fi[a++]=f,Fi[a++]=h,Fi[a++]=l}else if((p=Ot[f])==2||p==1){let m=p==r;l=m?0:1;for(let O=a-3;O>=0;O-=3){let v=Fi[O+2];if(v&2)break;if(m)Fi[O+2]|=2;else{if(v&4)break;Fi[O+2]|=4}}}}}function H6(t,e,n,i){for(let r=0,s=i;r<=n.length;r++){let o=r?n[r-1].to:t,a=r<n.length?n[r].from:e;for(let l=o;l<a;){let c=Ot[l];if(c==256){let u=l+1;for(;;)if(u==a){if(r==n.length)break;u=n[r++].to,a=r<n.length?n[r].from:e}else if(Ot[u]==256)u++;else break;let f=s==1,h=(u<e?Ot[u]:i)==1,d=f==h?f?1:2:i;for(let p=u,m=r,O=m?n[m-1].to:t;p>l;)p==O&&(p=n[--m].from,O=m?n[m-1].to:t),Ot[--p]=d;l=u}else s=c,l++}}}function om(t,e,n,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,c=0;l<n;){let u=!0,f=!1;if(c==s.length||l<s[c].from){let m=Ot[l];m!=a&&(u=!1,f=m==16)}let h=!u&&a==1?[]:null,d=u?i:i+1,p=l;e:for(;;)if(c<s.length&&p==s[c].from){if(f)break e;let m=s[c];if(!u)for(let O=m.to,v=c+1;;){if(O==n)break e;if(v<s.length&&s[v].from==O)O=s[v++].to;else{if(Ot[O]==a)break e;break}}if(c++,h)h.push(m);else{m.from>l&&o.push(new fs(l,m.from,d));let O=m.direction==ho!=!(d%2);am(t,O?i+1:i,r,m.inner,m.from,m.to,o),l=m.to}p=m.to}else{if(p==n||(u?Ot[p]!=a:Ot[p]==a))break;p++}h?om(t,l,p,i+1,r,h,o):l<p&&o.push(new fs(l,p,d)),l=p}else for(let l=n,c=s.length;l>e;){let u=!0,f=!1;if(!c||l>s[c-1].to){let m=Ot[l-1];m!=a&&(u=!1,f=m==16)}let h=!u&&a==1?[]:null,d=u?i:i+1,p=l;e:for(;;)if(c&&p==s[c-1].to){if(f)break e;let m=s[--c];if(!u)for(let O=m.from,v=c;;){if(O==e)break e;if(v&&s[v-1].to==O)O=s[--v].from;else{if(Ot[O-1]==a)break e;break}}if(h)h.push(m);else{m.to<l&&o.push(new fs(m.to,l,d));let O=m.direction==ho!=!(d%2);am(t,O?i+1:i,r,m.inner,m.from,m.to,o),l=m.from}p=m.from}else{if(p==e||(u?Ot[p-1]!=a:Ot[p-1]==a))break;p--}h?om(t,p,l,i+1,r,h,o):p<l&&o.push(new fs(p,l,d)),l=p}}function am(t,e,n,i,r,s,o){let a=e%2?2:1;F6(t,r,s,i,a),G6(t,r,s,i,a),H6(r,s,i,a),om(t,r,s,e,n,i,o)}function K6(t,e,n){if(!t)return[new fs(0,0,e==Tv?1:0)];if(e==ho&&!n.length&&!N6.test(t))return pQ(t.length);if(n.length)for(;t.length>Ot.length;)Ot[Ot.length]=256;let i=[],r=e==ho?0:1;return am(t,r,r,n,0,t.length,i),i}function pQ(t){return[new fs(0,t,0)]}let gQ="";function J6(t,e,n,i,r){var s;let o=i.head-t.from,a=fs.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[a],c=l.side(r,n);if(o==c){let h=a+=r?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!r,n),c=l.side(r,n)}let u=on(t.text,o,l.forward(r,n));(u<l.from||u>l.to)&&(u=c),gQ=t.text.slice(Math.min(o,u),Math.max(o,u));let f=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return f&&u==c&&f.level+(r?0:1)<l.level?fe.cursor(f.side(!r,n)+t.from,f.forward(r,n)?1:-1,f.level):fe.cursor(u+t.from,l.forward(r,n)?-1:1,l.level)}function eH(t,e,n){for(let i=e;i<n;i++){let r=hQ(t.charCodeAt(i));if(r==1)return ho;if(r==2||r==4)return Tv}return ho}const mQ=_e.define(),OQ=_e.define(),vQ=_e.define(),bQ=_e.define(),lm=_e.define(),yQ=_e.define(),_Q=_e.define(),wQ=_e.define({combine:t=>t.some(e=>e)}),xQ=_e.define({combine:t=>t.some(e=>e)}),SQ=_e.define();class Ko{constructor(e,n="nearest",i="nearest",r=5,s=5,o=!1){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Ko(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ko(fe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const vc=qe.define({map:(t,e)=>t.map(e)}),$Q=qe.define();function Wn(t,e,n){let i=t.facet(bQ);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const ss=_e.define({combine:t=>t.length?t[0]:!0});let tH=0;const vl=_e.define();class Dt{constructor(e,n,i,r,s){this.id=e,this.create=n,this.domEventHandlers=i,this.domEventObservers=r,this.extension=s(this)}static define(e,n){const{eventHandlers:i,eventObservers:r,provide:s,decorations:o}=n||{};return new Dt(tH++,e,i,r,a=>{let l=[vl.of(a)];return o&&l.push(nu.of(c=>{let u=c.plugin(a);return u?o(u):Pe.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Dt.define(i=>new e(i),n)}}class Op{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(Wn(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Wn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){Wn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const kQ=_e.define(),Av=_e.define(),nu=_e.define(),PQ=_e.define(),Cv=_e.define(),QQ=_e.define();function O_(t,e){let n=t.state.facet(QQ);if(!n.length)return n;let i=n.map(s=>s instanceof Function?s(t):s),r=[];return it.spans(i,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,f=r;for(let h=a.length-1;h>=0;h--,l--){let d=a[h].spec.bidiIsolate,p;if(d==null&&(d=eH(e.text,c,u)),l>0&&f.length&&(p=f[f.length-1]).to==c&&p.direction==d)p.to=u,f=p.inner;else{let m={from:c,to:u,direction:d,inner:[]};f.push(m),f=m.inner}}}}),r}const TQ=_e.define();function AQ(t){let e=0,n=0,i=0,r=0;for(let s of t.state.facet(TQ)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:n,top:i,bottom:r}}const bl=_e.define();class bi{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new bi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,u=l?l.fromB:1e9;for(;s<n.length&&n[s]<u;){let f=n[s],h=n[s+1],d=Math.max(a,f),p=Math.min(u,h);if(d<=p&&new bi(d+c,p+c,d,p).addToSet(i),h>u)break;s+=2}if(!l)return i;new bi(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class kf{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Yt.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new bi(s,o,a,l))),this.changedRanges=r}static create(e,n,i){return new kf(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class v_ extends vt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Pe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ut],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new bi(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?r=this.domChanged.newSel.head:!lH(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?iH(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;i=new bi(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ye.ie||ye.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=oH(o,a,e.changes);return i=bi.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ye.chrome||ye.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Pr&&o.widget instanceof b_&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,n,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:f}=a,h,d,p,m;if(i&&i.range.fromB<f&&i.range.toB>u){let y=Dl.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),w=Dl.build(this.view.state.doc,i.range.toB,f,this.decorations,this.dynamicDecorationMap);d=y.breakAtStart,p=y.openStart,m=w.openEnd;let P=this.compositionView(i);w.breakAtStart?P.breakAfter=1:w.content.length&&P.merge(P.length,P.length,w.content[0],!1,w.openStart,0)&&(P.breakAfter=w.content[0].breakAfter,w.content.shift()),y.content.length&&P.merge(0,0,y.content[y.content.length-1],!0,0,y.openEnd)&&y.content.pop(),h=y.content.concat(P).concat(w.content)}else({content:h,breakAtStart:d,openStart:p,openEnd:m}=Dl.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:O,off:v}=s.findPos(c,1),{i:b,off:S}=s.findPos(l,-1);iQ(this,b,S,O,v,h,d,p,m)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let i of n.effects)i.is($Q)&&(this.editContextFormatting=i.value)}compositionView(e){let n=new Ii(e.text.nodeValue);n.flags|=8;for(let{deco:r}of e.marks)n=new Er(r,[n],n.length);let i=new Ut;return i.append(n,0),i}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=vt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];n(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],n(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&Yc(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(ye.gecko&&a.empty&&!this.hasComposition&&nH(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new bn(f,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!Zl(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Zl(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{ye.android&&ye.chrome&&this.dom.contains(u.focusNode)&&aH(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=eu(this.view.root);if(f)if(a.empty){if(ye.gecko){let h=rH(l.node,l.offset);if(h&&h!=3){let d=(h==1?eQ:tQ)(l.node,l.offset);d&&(l=new bn(d.node,d.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new bn(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new bn(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Zl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,i=eu(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let o=Ut.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);i.collapse(u.node,u.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&i.collapse(r,s)}moveToLine(e){let n=this.dom,i;if(e.node!=n)return e;for(let r=e.offset;!i&&r<n.childNodes.length;r++){let s=vt.get(n.childNodes[r]);s instanceof Ut&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=vt.get(n.childNodes[r]);s instanceof Ut&&(i=s.domAtPos(s.length))}return i?new bn(i.node,i.offset,!0):e}nearest(e){for(let n=e;n;){let i=vt.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof Ut)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){let i=null,r=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof Ut&&!(i instanceof Ut&&n>=0)))i=a,r=c;else if(i&&c==e&&l==e&&a instanceof Pr&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(i=null)}s=c}return i?i.coordsAt(e-r,n):null}coordsForChar(e){let{i:n,off:i}=this.childPos(e,1),r=this.children[n];if(!(r instanceof Ut))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Ii))return null;let s=on(r.text,i);if(s==i)return null;let o=fo(r.dom,i,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Tt.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],h=c+f.length;if(h>r)break;if(c>=i){let d=f.dom.getBoundingClientRect();if(n.push(d.height),o){let p=f.dom.lastChild,m=p?tu(p):[];if(m.length){let O=m[m.length-1],v=l?O.right-d.left:d.right-O.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Tt.RTL:Tt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Ut){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=tu(e.firstChild)[0];n=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new nQ(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let s=r==n.viewports.length?null:n.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(i).top)/this.view.scaleY;e.push(Pe.replace({widget:new b_(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Pe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(nu).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,r=this.view.state.facet(PQ).map((s,o)=>{let a=typeof s=="function";return a&&(i=!0),a?s(this.view):s});for(r.length&&(this.dynamicDecorationMap[e++]=i,n.push(it.join(r))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(SQ))try{if(c(this.view,e.range,e))return!0}catch(u){Wn(this.view.state,u,"scroll handler")}let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=AQ(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Z6(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Tt.LTR)}}function nH(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class b_ extends yr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function CQ(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let i=eQ(n.focusNode,n.focusOffset),r=tQ(n.focusNode,n.focusOffset),s=i||r;if(r&&i&&r.node!=i.node){let a=vt.get(r.node);if(!a||a instanceof Ii&&a.text!=r.node.nodeValue)s=r;else if(t.docView.lastCompositionAfterCursor){let l=vt.get(i.node);!l||l instanceof Ii&&l.text!=i.node.nodeValue||(s=r)}}if(t.docView.lastCompositionAfterCursor=s!=i,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function iH(t,e,n){let i=CQ(t,n);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new bi(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let f=r.parentNode;;f=f.parentNode){let h=vt.get(f);if(h instanceof Er)u.push({node:f,deco:h.mark});else{if(h instanceof Ut||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:c,text:r,marks:u,line:f};if(f!=t.contentDOM)u.push({node:f,deco:new zu({inclusive:!0,attributes:V6(f),tagName:f.tagName.toLowerCase()})});else return null}}}function rH(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let sH=class{constructor(){this.changes=[]}compareRange(e,n){rm(e,n,this.changes)}comparePoint(e,n){rm(e,n,this.changes)}};function oH(t,e,n){let i=new sH;return it.compare(t,e,n,i),i.changes}function aH(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function lH(t,e){let n=!1;return e&&t.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(n=!0)}),n}function uH(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return fe.cursor(e);s==0?n=1:s==r.length&&(n=-1);let o=s,a=s;n<0?o=on(r.text,s,!1):a=on(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let c=on(r.text,o,!1);if(i(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=on(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return fe.range(o+r.from,a+r.from)}function cH(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function fH(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function vp(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function y_(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function __(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function um(t,e,n){let i,r,s,o,a=!1,l,c,u,f;for(let p=t.firstChild;p;p=p.nextSibling){let m=tu(p);for(let O=0;O<m.length;O++){let v=m[O];r&&vp(r,v)&&(v=y_(__(v,r.bottom),r.top));let b=cH(e,v),S=fH(n,v);if(b==0&&S==0)return p.nodeType==3?w_(p,e,n):um(p,e,n);if(!i||o>S||o==S&&s>b){i=p,r=v,s=b,o=S;let y=S?n<v.top?-1:1:b?e<v.left?-1:1:0;a=!y||(y>0?O<m.length-1:O>0)}b==0?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=p,u=v):n<v.top&&(!f||f.top>v.top)&&(c=p,f=v):u&&vp(u,v)?u=__(u,v.bottom):f&&vp(f,v)&&(f=y_(f,v.top))}}if(u&&u.bottom>=n?(i=l,r=u):f&&f.top<=n&&(i=c,r=f),!i)return{node:t,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return w_(i,h,n);if(a&&i.contentEditable!="false")return um(i,h,n);let d=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:d}}function w_(t,e,n){let i=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=fo(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<s){let h=e>=(u.left+u.right)/2,d=h;if((ye.chrome||ye.gecko)&&fo(t,a).getBoundingClientRect().left==u.right&&(d=!h),f<=0)return{node:t,offset:a+(d?1:0)};r=a+(d?1:0),s=f}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function RQ(t,e,n,i=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:f}=e,h=f-a;if(h<0)return 0;if(h>c)return t.state.doc.length;for(let y=t.viewState.heightOracle.textHeight/2,w=!1;l=t.elementAtHeight(h),l.type!=Pn.Text;)for(;h=i>0?l.bottom+y:l.top-y,!(h>=0&&h<=c);){if(w)return n?null:0;w=!0,i=-i}f=a+h;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:x_(t,o,l,u,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:x_(t,o,l,u,f);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,O=m.elementFromPoint(u,f);O&&!t.contentDOM.contains(O)&&(O=null),O||(u=Math.max(o.left+1,Math.min(o.right-1,u)),O=m.elementFromPoint(u,f),O&&!t.contentDOM.contains(O)&&(O=null));let v,b=-1;if(O&&((r=t.docView.nearest(O))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let y=p.caretPositionFromPoint(u,f);y&&({offsetNode:v,offset:b}=y)}else if(p.caretRangeFromPoint){let y=p.caretRangeFromPoint(u,f);y&&({startContainer:v,startOffset:b}=y,(!t.contentDOM.contains(v)||ye.safari&&hH(v,b,u)||ye.chrome&&dH(v,b,u))&&(v=void 0))}}if(!v||!t.docView.dom.contains(v)){let y=Ut.find(t.docView,d);if(!y)return h>l.top+l.height/2?l.to:l.from;({node:v,offset:b}=um(y.dom,u,f))}let S=t.docView.nearest(v);if(!S)return null;if(S.isWidget&&((s=S.dom)===null||s===void 0?void 0:s.nodeType)==1){let y=S.dom.getBoundingClientRect();return e.y<y.top||e.y<=y.bottom&&e.x<=(y.left+y.right)/2?S.posAtStart:S.posAtEnd}else return S.localPosFromDOM(v,b)+S.posAtStart}function x_(t,e,n,i,r){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((r-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Fg(o,s,t.state.tabSize)}function hH(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return fo(t,i-1,i).getBoundingClientRect().left>n}function dH(t,e,n){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=t.nodeType==1?t.getBoundingClientRect():fo(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function cm(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==Pn.Text))return i}return n}function pH(t,e,n,i){let r=cm(t,e.head),s=!i||r.type!=Pn.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(r.from),l=t.posAtCoords({x:n==(a==Tt.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return fe.cursor(l,n?-1:1)}return fe.cursor(n?r.to:r.from,n?-1:1)}function S_(t,e,n,i){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let c=J6(r,s,o,a,n),u=gQ;if(!c){if(r.number==(n?t.state.doc.lines:1))return a;u=`
`,r=t.state.doc.line(r.number+(n?1:-1)),s=t.bidiSpans(r),c=t.visualLineSide(r,!n)}if(l){if(!l(u))return a}else{if(!i)return c;l=i(u)}a=c}}function gH(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return s=>{let o=i(s);return r==Ct.Space&&(r=o),r==o}}function mH(t,e,n,i){let r=e.head,s=n?1:-1;if(r==(n?t.state.doc.length:0))return fe.cursor(r,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(r,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-d.from))),a=(s<0?d.top:d.bottom)+u}let f=l.left+o,h=i??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=a+(h+d)*s,m=RQ(t,{x:f,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?m<r:m>r)){let O=t.docView.coordsForChar(m),v=!O||p<O.top?-1:1;return fe.cursor(m,v,void 0,o)}}}function Nc(t,e,n){for(;;){let i=0;for(let r of t)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||n||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function bp(t,e,n){let i=Nc(t.state.facet(Cv).map(r=>r(t)),n.from,e.head>n.from?-1:1);return i==n.from?n:fe.cursor(i,i<n.from?1:-1)}class OH{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ye.safari&&e.contentDOM.addEventListener("input",()=>null),ye.gecko&&EH(e.contentDOM.ownerDocument)}handleEvent(e){!$H(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,n);for(let r of i.handlers){if(n.defaultPrevented)break;if(r(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=vH(e),i=this.handlers,r=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(r.removeEventListener(s,this.handleEvent),a=null),a||r.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!n[s]&&r.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&qQ.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ye.android&&ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=EQ.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||bH.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ho(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ye.safari&&!ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function $_(t,e){return(n,i)=>{try{return e.call(t,i,n)}catch(r){Wn(n.state,r)}}}function vH(t){let e=Object.create(null);function n(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of t){let r=i.spec;if(r&&r.domEventHandlers)for(let s in r.domEventHandlers){let o=r.domEventHandlers[s];o&&n(s).handlers.push($_(i.value,o))}if(r&&r.domEventObservers)for(let s in r.domEventObservers){let o=r.domEventObservers[s];o&&n(s).observers.push($_(i.value,o))}}for(let i in Xi)n(i).handlers.push(Xi[i]);for(let i in Pi)n(i).observers.push(Pi[i]);return e}const EQ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],bH="dthko",qQ=[16,17,18,20,91,92,224,225],bc=6;function yc(t){return Math.max(0,t)*.7+8}function yH(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class _H{constructor(e,n,i,r){this.view=e,this.startEvent=n,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=D6(e.contentDOM),this.atoms=e.state.facet(Cv).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(tt.allowMultipleSelections)&&wH(e,n),this.dragging=SH(e,n)&&DQ(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&yH(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,i=0,r=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:r,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=AQ(this.view);e.clientX-l.left<=r+bc?n=-yc(r-e.clientX):e.clientX+l.right>=o-bc&&(n=yc(e.clientX-o)),e.clientY-l.top<=s+bc?i=-yc(s-e.clientY):e.clientY+l.bottom>=a-bc&&(i=yc(e.clientY-a)),this.setScrollSpeed(n,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=Nc(this.atoms,r.from,0);o!=r.from&&(s=fe.cursor(o,-1))}else{let o=Nc(this.atoms,r.from,-1),a=Nc(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=fe.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(n||(n=e.ranges.slice()),n[i]=s)}return n?fe.create(n,e.mainIndex):e}select(e){let{view:n}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function wH(t,e){let n=t.state.facet(mQ);return n.length?n[0](e):ye.mac?e.metaKey:e.ctrlKey}function xH(t,e){let n=t.state.facet(OQ);return n.length?n[0](e):ye.mac?!e.altKey:!e.ctrlKey}function SH(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=eu(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function $H(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=vt.get(n))&&i.ignoreEvent(e))return!1;return!0}const Xi=Object.create(null),Pi=Object.create(null),MQ=ye.ie&&ye.ie_version<15||ye.ios&&ye.webkit_version<604;function kH(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),ZQ(t,n.value)},50)}function ZQ(t,e){let{state:n}=t,i,r=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(fm!=null&&n.selection.ranges.every(l=>l.empty)&&fm==s.toString()){let l=-1;i=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((o?s.line(r++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:fe.cursor(c.from+f.length)}})}else o?i=n.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:fe.cursor(l.from+c.length)}}):i=n.replaceSelection(s);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Pi.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Xi.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Pi.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Pi.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Xi.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let i of t.state.facet(vQ))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=TH(t,e)),n){let i=!t.hasFocus;t.inputState.startMouseSelection(new _H(t,e,n,i)),i&&t.observer.ignore(()=>{HP(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let r=t.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function k_(t,e,n,i){if(i==1)return fe.cursor(e,n);if(i==2)return uH(t.state,e,n);{let r=Ut.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,fe.range(o,a)}}let P_=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function PH(t,e,n,i){let r=Ut.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&P_(n,i,o))return-1;let a=r.coordsAt(s,1);return a&&P_(n,i,a)?1:o&&o.bottom>=i?-1:1}function Q_(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:PH(t,n,e.clientX,e.clientY)}}const QH=ye.ie&&ye.ie_version<=11;let T_=null,A_=0,C_=0;function DQ(t){if(!QH)return t.detail;let e=T_,n=C_;return T_=t,C_=Date.now(),A_=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(A_+1)%3:1}function TH(t,e){let n=Q_(t,e),i=DQ(e),r=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),r=r.map(s.changes))},get(s,o,a){let l=Q_(t,s),c,u=k_(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!o){let f=k_(t,n.pos,n.bias,i),h=Math.min(f.from,u.from),d=Math.max(f.to,u.to);u=h<u.from?fe.range(h,d):fe.range(d,h)}return o?r.replaceRange(r.main.extend(u.from,u.to)):a&&i==1&&r.ranges.length>1&&(c=AH(r,l.pos))?c:a?r.addRange(u):fe.create([u])}}}function AH(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:r}=t.ranges[n];if(i<=e&&r>=e)return fe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Xi.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let r=t.docView.nearest(e.target);if(r&&r.isWidget){let s=r.posAtStart,o=s+r.length;(s>=n.to||o<=n.from)&&(n=fe.range(s,o))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Xi.dragend=t=>(t.inputState.draggedContent=null,!1);function R_(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=i&&s&&xH(t,e)?{from:s.from,to:s.to}:null,a={from:r,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Xi.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let i=Array(n.length),r=0,s=()=>{++r==n.length&&R_(t,e,i.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return R_(t,e,i,!0),!0}return!1};Xi.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=MQ?null:e.clipboardData;return n?(ZQ(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(kH(t),!1)};function CH(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function RH(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}let fm=null;Xi.copy=Xi.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=RH(t.state);if(!n&&!r)return!1;fm=r?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=MQ?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(CH(t,n),!1)};const jQ=Fr.define();function WQ(t,e){let n=[];for(let i of t.facet(_Q)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:jQ.of(!0)}):null}function BQ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=WQ(t.state,e);n?t.dispatch(n):t.update([])}},10)}Pi.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),BQ(t)};Pi.blur=t=>{t.observer.clearSelectionRange(),BQ(t)};Pi.compositionstart=Pi.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Pi.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ye.chrome&&ye.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Pi.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Xi.beforeinput=(t,e)=>{var n;let i;if(ye.chrome&&ye.android&&(i=EQ.find(r=>r.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ye.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ye.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Pi.compositionend(t,e),20),!1};const E_=new Set;function EH(t){E_.has(t)||(E_.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const q_=["pre-wrap","normal","pre-line","break-spaces"];let _a=!1;function M_(){_a=!1}class qH{constructor(e){this.lineWrapping=e,this.doc=rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return q_.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,s,o){let a=q_.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class MH{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ir{constructor(e,n,i,r,s){this.from=e,this.length=n,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?Pn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $s?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ir(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var $t=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}($t||($t={}));const Fc=.001;class Qn{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Fc&&(_a=!0),this.height=e)}replace(e,n,i){return Qn.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=r[a],h=s.lineAt(l,$t.ByPosNoHeight,i.setDoc(n),0,0),d=h.to>=c?h:s.lineAt(c,$t.ByPosNoHeight,i,0,0);for(f+=d.to-c,c=d.to;a>0&&h.from<=r[a-1].toA;)l=r[a-1].fromA,u=r[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,$t.ByPosNoHeight,i,0,0));u+=h.from-l,l=h.from;let p=Rv.build(i.setDoc(o),e,u,f);s=Pf(s,s.replace(l,c,p))}return s.updateHeight(i,0)}static empty(){return new ti(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,s=0;for(;;)if(n==i)if(r>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[n++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,i++),new ZH(Qn.of(e.slice(0,n)),o,Qn.of(e.slice(i)))}}function Pf(t,e){return t==e?t:(t.constructor!=e.constructor&&(_a=!0),e)}Qn.prototype.size=1;class IQ extends Qn{constructor(e,n,i){super(e,n),this.deco=i}blockAt(e,n,i,r){return new ir(r,this.length,i,this.height,this.deco||0)}lineAt(e,n,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,n,i,r,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ti extends IQ{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,i,r){return new ir(r,this.length,i,this.height,this.breaks)}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof ti||r instanceof Jt&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof Jt?r=new ti(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Qn.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(r.heights[r.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Jt extends Qn{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,n,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,r);if(n.lineWrapping){let c=r+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),u=n.doc.lineAt(c),f=a+u.length*l,h=Math.max(i,e-f/2);return new ir(u.from,u.length,h,f,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:u,length:f}=n.doc.line(s+c);return new ir(u,f,i+a*c,a,0)}}lineAt(e,n,i,r,s){if(n==$t.ByHeight)return this.blockAt(e,i,r,s);if(n==$t.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(e);return new ir(d,p-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),u=a+c.length*l,f=c.number-o,h=r+a*f+l*(c.from-s-f);return new ir(c.from,c.length,Math.max(r,Math.min(h,r+this.height-u)),u,0)}forEachLine(e,n,i,r,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let u=e,f=r;u<=n;){let h=i.doc.lineAt(u);if(u==e){let p=h.number-a;f+=l*p+c*(e-s-p)}let d=l+c*h.length;o(new ir(h.from,h.length,f,d,0)),f+=d,u=h.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let s=i[i.length-1];s instanceof Jt?i[i.length-1]=new Jt(s.length+r):i.push(null,new Jt(r-1))}if(e>0){let s=i[0];s instanceof Jt?i[0]=new Jt(e+s.length):i.unshift(new Jt(e-1),null)}return Qn.of(i)}decomposeLeft(e,n){n.push(new Jt(e-1),null)}decomposeRight(e,n){n.push(null,new Jt(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let s=n+this.length;if(r&&r.from<=n+this.length&&r.more){let o=[],a=Math.max(n,r.from),l=-1;for(r.from>n&&o.push(new Jt(r.from-n-1).updateHeight(e,n));a<=s&&r.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let f=r.heights[r.index++];l==-1?l=f:Math.abs(f-l)>=Fc&&(l=-2);let h=new ti(u,f);h.outdated=!1,o.push(h),a+=u+1}a<=s&&o.push(null,new Jt(s-a).updateHeight(e,a));let c=Qn.of(o);return(l<0||Math.abs(c.height-this.height)>=Fc||Math.abs(l-this.heightMetrics(e,n).perLine)>=Fc)&&(_a=!0),Pf(this,c)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ZH extends Qn{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,s,r+this.left.length+this.break)}lineAt(e,n,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=n==$t.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,i,r,s):this.right.lineAt(e,n,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==$t.ByPosNoHeight?$t.ByPosNoHeight:$t.ByPos;return l?c.join(this.right.lineAt(a,u,i,o,a)):this.left.lineAt(a,u,i,r,s).join(c)}forEachLine(e,n,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,i,r,s,o),n>=l&&this.right.forEachLine(e,n,i,a,l,o);else{let c=this.lineAt(l,$t.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,i,a,l,o)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Z_(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),Z_(s,a)}return Qn.of(s)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Qn.of(this.break?[e,null,n]:[e,n]):(this.left=Pf(this.left,e),this.right=Pf(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return r&&r.from<=n+s.length&&r.more?l=s=s.updateHeight(e,n,i,r):s.updateHeight(e,n,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Z_(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof Jt&&(i=t[e+1])instanceof Jt&&t.splice(e-1,3,new Jt(n.length+1+i.length))}const DH=5;class Rv{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ti?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ti(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new IQ(o,r,i)):(o||s||r>=DH)&&this.addLineDeco(r,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ti(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new Jt(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ti)return e;let n=new ti(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=n,this.writtenTo=this.pos=this.pos+i}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ti)&&!this.isCovered?this.nodes.push(new ti(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof ti&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let s=new Rv(i,e);return it.spans(n,i,r,s,0),s.finish(i)}}function jH(t,e,n){let i=new WH;return it.compare(t,e,n,i,0),i.changes}class WH{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&rm(e,n,this.changes,5)}}function BH(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,s=Math.max(0,n.left),o=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=i.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let h=u.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=c==t.parentNode?h.bottom:Math.min(l,h.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function IH(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class yp{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,n){return Pe.replace({widget:new XH(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class XH extends yr{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class D_{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=j_,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Tt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Av).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new qH(n),this.stateDeco=e.facet(nu).filter(i=>typeof i!="function"),this.heightMap=Qn.empty().applyChanges(this.stateDeco,rt.empty,this.heightOracle.setDoc(e.doc),[new bi(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Pe.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new _c(s,o))}}return this.viewports=e.sort((i,r)=>i.from-r.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?j_:new Ev(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(yl(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(nu).filter(u=>typeof u!="function");let r=e.changedRanges,s=bi.extendWithRanges(r,jH(i,this.stateDeco,e?e.changes:Yt.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);M_(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||_a)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(xQ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Tt.RTL:Tt.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:y,scaleY:w}=GP(n,a);(y>.005&&Math.abs(this.scaleX-y)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=y,this.scaleY=w,c|=8,o=l=!0)}let f=(parseInt(i.paddingTop)||0)*this.scaleY,h=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=JP(e.scrollDOM);let p=(this.printing?IH:BH)(n,this.paddingTop),m=p.top-this.pixelViewport.top,O=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let y=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(y)&&(o=!0),o||r.lineWrapping&&Math.abs(b-this.contentDOMWidth)>r.charWidth){let{lineHeight:w,charWidth:P,textHeight:x}=e.docView.measureTextSize();o=w>0&&r.refresh(s,w,P,x,b/P,y),o&&(e.docView.minWidth=0,c|=8)}m>0&&O>0?u=Math.max(m,O):m<0&&O<0&&(u=Math.min(m,O)),M_();for(let w of this.viewports){let P=w.from==this.viewport.from?y:e.docView.measureVisibleLineHeights(w);this.heightMap=(o?Qn.empty().applyChanges(this.stateDeco,rt.empty,this.heightOracle,[new bi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new MH(w.from,P))}_a&&(c|=2)}let S=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return S&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||S)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new _c(r.lineAt(o-i*1e3,$t.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,$t.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,$t.ByPos,s,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?h=f.top:h=f.bottom-u,l=new _c(r.lineAt(h-1e3/2,$t.ByHeight,s,0,0).from,r.lineAt(h+u+1e3/2,$t.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new _c(this.heightMap.lineAt(i,$t.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,$t.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,$t.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,$t.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new yp(n.mapPos(r.from),n.mapPos(r.to),r.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=Tt.LTR&&!i)return[];let a=[],l=(u,f,h,d)=>{if(f-u<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>u&&v<f){l(u,v-10,h,d),l(v+10,f,h,d);return}let O=VH(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-u)<s&&Math.abs(v.to-f)<s&&!m.some(b=>v.from<b&&v.to>b));if(!O){if(f<h.to&&n&&i&&n.visibleRanges.some(v=>v.from<=f&&v.to>=f)){let v=n.moveToLineBoundary(fe.cursor(f),!1,!0).head;v>u&&(f=v)}O=new yp(u,f,this.gapSize(h,u,f,d))}a.push(O)},c=u=>{if(u.length<o||u.type!=Pn.Text)return;let f=UH(u.from,u.to,this.stateDeco);if(f.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(i){let m=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,v;if(h!=null){let b=xc(f,h),S=((this.visibleBottom-this.visibleTop)/2+m)/u.height;O=b-S,v=b+S}else O=(this.visibleTop-u.top-m)/u.height,v=(this.visibleBottom-u.top+m)/u.height;d=wc(f,O),p=wc(f,v)}else{let m=f.total*this.heightOracle.charWidth,O=r*this.heightOracle.charWidth,v,b;if(h!=null){let S=xc(f,h),y=((this.pixelViewport.right-this.pixelViewport.left)/2+O)/m;v=S-y,b=S+y}else v=(this.pixelViewport.left-O)/m,b=(this.pixelViewport.right+O)/m;d=wc(f,v),p=wc(f,b)}d>u.from&&l(u.from,d,u,f),p<u.to&&l(p,u.to,u,f)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,i,r){let s=xc(r,i)-xc(r,n);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){yp.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Pe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];it.spans(e,this.viewport.from,this.viewport.to,{span(r,s){n.push({from:r,to:s})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=n[s].from||r.to!=n[s].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||yl(this.heightMap.lineAt(e,$t.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||yl(this.heightMap.lineAt(this.scaler.fromDOM(e),$t.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return yl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class _c{constructor(e,n){this.from=e,this.to=n}}function UH(t,e,n){let i=[],r=t,s=0;return it.spans(n,t,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function wc({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function xc(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function VH(t,e){for(let n of t)if(e(n))return n}const j_={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Ev{constructor(e,n,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=n.lineAt(a,$t.ByPos,e,0,0).top,u=n.lineAt(l,$t.ByPos,e,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}eq(e){return e instanceof Ev?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,i)=>n.from==e.viewports[i].from&&n.to==e.viewports[i].to):!1}}function yl(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new ir(t.from,t.length,n,i-n,Array.isArray(t._content)?t._content.map(r=>yl(r,e)):t._content)}const Sc=_e.define({combine:t=>t.join(" ")}),hm=_e.define({combine:t=>t.indexOf(!0)>-1}),dm=xs.newName(),XQ=xs.newName(),UQ=xs.newName(),VQ={"&light":"."+XQ,"&dark":"."+UQ};function pm(t,e,n){return new xs(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const LH=pm("."+dm,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},VQ),_l="";class zH{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(tt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=_l}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==n)break;let a=vt.get(r),l=vt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Sf(r))||Sf(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(i,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let n=vt.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(YH(e,i.node,i.offset)?n:0))}}function YH(t,e,n){for(;;){if(!e||n<Rr(e))return!1;if(e==t)return!0;n=co(e)+1,e=e.parentNode}}class W_{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class NH{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let a=s||o?[]:HH(e),l=new zH(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=KH(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Kg(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Kg(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((ye.ios||ye.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let f=Math.min(l,c),h=Math.max(l,c),d=u.from-f,p=u.to-h;(d==0||d==1||f==0)&&(p==0||p==-1||h==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=fe.single(c,l)}}}function LQ(t,e){let n,{newSel:i}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||ye.android&&e.text.length<a-o)&&(l=r.to,c="end");let u=GH(t.state.doc.sliceString(o,a,_l),e.text,l-o,c);u&&(ye.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==_l+_l&&u.toB--,n={from:o+u.from,to:o+u.toA,insert:rt.of(e.text.slice(u.from,u.toB).split(_l))})}else i&&(!t.hasFocus&&t.state.facet(ss)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:(ye.mac||ye.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=fe.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:rt.of([" "])}):ye.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=fe.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:rt.of([" "])}),n)return zQ(t,n,i,s);if(i&&!i.main.eq(r)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function zQ(t,e,n,i=-1){if(ye.ios&&t.inputState.flushIOSKey(e))return!0;let r=t.state.selection.main;if(ye.android&&(e.to==r.to&&(e.from==r.from||e.from==r.from-1&&t.state.sliceDoc(e.from,r.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ho(t.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>r.head)&&Ho(t.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&Ho(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=FH(t,e,n));return t.state.facet(yQ).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function FH(t,e,n){let i,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=r.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,f=n&&CQ(t,n.main.head);if(f){let p=e.insert.length-(e.to-e.from);u={from:f.from,to:f.to-p}}else u=t.state.doc.lineAt(s.head);let h=s.to-e.to,d=s.to-s.from;i=r.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let m=p.to-h,O=m-c.length;if(p.to-p.from!=d||t.state.sliceDoc(O,m)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let v=r.changes({from:O,to:m,insert:e.insert}),b=p.to-s.to;return{changes:v,range:l?fe.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):p.map(v)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function GH(t,e,n,i){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function HH(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new W_(n,i)),(r!=n||s!=i)&&e.push(new W_(r,s))),e}function KH(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?fe.single(n+e,i+e):null}const JH={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},_p=ye.ie&&ye.ie_version<=11;class eK{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new j6,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(ye.ie&&ye.ie_version<=11||ye.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ye.chrome&&ye.chrome_version<126)&&(this.editContext=new nK(e),e.state.facet(ss)&&(e.contentDOM.editContext=this.editContext.editContext)),_p&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(ss)?i.root.activeElement!=this.dom:!Yc(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ye.ie&&ye.ie_version<=11||ye.android&&ye.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Zl(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=eu(e.root);if(!n)return!1;let i=ye.safari&&e.root.nodeType==11&&q6(this.dom.ownerDocument)==this.dom&&tK(this.view,n)||n;if(!i||this.selectionRange.eq(i))return!1;let r=Yc(this.dom,i);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&B6(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,JH),_p&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),_p&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ho(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),n==-1?{from:n,to:i}=o:(n=Math.min(o.from,n),i=Math.max(o.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Yc(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new NH(this.view,e,n,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let i=this.view.state,r=LQ(this.view,n);return this.view.state==i&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let i=B_(n,e.previousSibling||e.target.previousSibling,-1),r=B_(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ss)!=e.state.facet(ss)&&(e.view.contentDOM.editContext=e.state.facet(ss)?this.editContext.editContext:null))}destroy(){var e,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function B_(t,e,n){for(;e;){let i=vt.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function I_(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Zl(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function tK(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return I_(t,r)}let n=null;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),n?I_(t,n):null}class nK{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let{anchor:r}=e.state.selection.main,s={from:this.toEditorPos(i.updateRangeStart),to:this.toEditorPos(i.updateRangeEnd),insert:rt.of(i.text.split(`
`))};s.from==this.from&&r<this.from?s.from=r:s.to==this.to&&r>this.to&&(s.to=r),!(s.from==s.to&&!s.insert.length)&&(this.pendingContextChange=s,e.state.readOnly||zQ(e,s,fe.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=i=>{let r=[],s=null;for(let o=this.toEditorPos(i.rangeStart),a=this.toEditorPos(i.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,r.push(s)}n.updateCharacterBounds(i.rangeStart,r)},this.handlers.textformatupdate=i=>{let r=[];for(let s of i.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;r.push(Pe.mark({attributes:{style:l}}).range(this.toEditorPos(s.rangeStart),this.toEditorPos(s.rangeEnd)))}}e.dispatch({effects:$Q.of(Pe.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let i in this.handlers)n.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let r=eu(i.root);r&&r.rangeCount&&this.editContext.updateSelectionBounds(r.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,i=!1,r=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(i)return;let u=c.length-(o-s);if(r&&o>=r.to)if(r.from==s&&r.to==o&&r.insert.eq(c)){r=this.pendingContextChange=null,n+=u,this.to+=u;return}else r=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}n+=u}),r&&!i&&this.revertPending(e.state),!i}update(e){let n=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),r=this.toContextPos(n.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=r)&&this.editContext.updateSelection(i,r)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ve{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(r=>n(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||W6(e.parent)||document,this.viewState=new D_(e.state||tt.create(e)),e.scrollTo&&e.scrollTo.is(vc)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(vl).map(i=>new Op(i));for(let i of this.plugins)i.update(this);this.observer=new eK(this),this.inputState=new OH(this),this.inputState.ensureHandlers(this.plugins),this.docView=new v_(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=e.length==1&&e[0]instanceof Vt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(jQ))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=WQ(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(tt.phrases)!=this.state.facet(tt.phrases))return this.setState(s);r=kf.create(this,s,e),r.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new Ko(d.empty?d:fe.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(vc)&&(f=d.value.clip(this.state))}this.viewState.update(r,f),this.bidiCache=Qf.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(bl)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Sc)!=r.state.facet(Sc)&&(this.viewState.mustMeasureContent=!0),(n||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!r.empty)for(let h of this.state.facet(lm))try{h(r)}catch(d){Wn(this.state,d,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!LQ(this,u)&&c.force&&Ho(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new D_(e),this.plugins=e.facet(vl).map(i=>new Op(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new v_(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(vl),i=e.state.facet(vl);if(n!=i){let r=[];for(let s of i){let o=n.indexOf(s);if(o<0)r.push(new Op(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(i){Wn(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(JP(i))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(r);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(d=>{try{return d.read(this)}catch(p){return Wn(this.state,p),X_}}),f=kf.create(this,this.state,[]),h=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),h=this.docView.update(f),h&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(u[d]!=X_)try{let p=c[d];p.write&&p.write(u[d],this)}catch(p){Wn(this.state,p)}if(h&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){r=r+p,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(lm))a(n)}get themeClasses(){return dm+" "+(this.state.facet(hm)?UQ:XQ)+" "+this.state.facet(Sc)}updateAttrs(){let e=U_(this,kQ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ss)?"true":"false",class:"cm-content",style:`${ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),U_(this,Av,n);let i=this.observer.ignore(()=>{let r=im(this.contentDOM,this.contentAttrs,n),s=im(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(ve.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(bl);let e=this.state.facet(ve.cspNonce);xs.mount(this.root,this.styleModules.concat(LH).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return bp(this,e,S_(this,e,n,i))}moveByGroup(e,n){return bp(this,e,S_(this,e,n,i=>gH(this,e.head,i)))}visualLineSide(e,n){let i=this.bidiSpans(e),r=this.textDirectionAt(e.from),s=i[n?i.length-1:0];return fe.cursor(s.side(n,r)+e.from,s.forward(!n,r)?1:-1)}moveToLineBoundary(e,n,i=!0){return pH(this,e,n,i)}moveVertically(e,n,i){return bp(this,e,mH(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),RQ(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[fs.find(s,e-r.from,-1,n)];return Pv(i,o.dir==Tt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(wQ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>iK)return pQ(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||dQ(s.isolates,i=O_(this,e))))return s.order;i||(i=O_(this,e));let r=K6(e.text,n,i);return this.bidiCache.push(new Qf(e.from,e.to,n,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{HP(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return vc.of(new Ko(typeof e=="number"?fe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return vc.of(new Ko(fe.cursor(i.from),"start","start",i.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Dt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Dt.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=xs.newName(),r=[Sc.of(i),bl.of(pm(`.${i}`,e))];return n&&n.dark&&r.push(hm.of(!0)),r}static baseTheme(e){return Ms.lowest(bl.of(pm("."+dm,e,VQ)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&vt.get(i)||vt.get(e);return((n=r==null?void 0:r.rootView)===null||n===void 0?void 0:n.view)||null}}ve.styleModule=bl;ve.inputHandler=yQ;ve.scrollHandler=SQ;ve.focusChangeEffect=_Q;ve.perLineTextDirection=wQ;ve.exceptionSink=bQ;ve.updateListener=lm;ve.editable=ss;ve.mouseSelectionStyle=vQ;ve.dragMovesSelection=OQ;ve.clickAddsSelectionRange=mQ;ve.decorations=nu;ve.outerDecorations=PQ;ve.atomicRanges=Cv;ve.bidiIsolatedRanges=QQ;ve.scrollMargins=TQ;ve.darkTheme=hm;ve.cspNonce=_e.define({combine:t=>t.length?t[0]:""});ve.contentAttributes=Av;ve.editorAttributes=kQ;ve.lineWrapping=ve.contentAttributes.of({class:"cm-lineWrapping"});ve.announce=qe.define();const iK=4096,X_={};class Qf{constructor(e,n,i,r,s,o){this.from=e,this.to=n,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:Tt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!n.touchesRange(o.from,o.to)&&i.push(new Qf(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function U_(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(t):s;o&&nm(o,n)}return n}const rK=ye.mac?"mac":ye.windows?"win":ye.linux?"linux":"key";function sK(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function $c(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const oK=Ms.default(ve.domEventHandlers({keydown(t,e){return NQ(YQ(e.state),t,e,"editor")}})),Va=_e.define({enables:oK}),V_=new WeakMap;function YQ(t){let e=t.facet(Va),n=V_.get(e);return n||V_.set(e,n=uK(e.reduce((i,r)=>i.concat(r),[]))),n}function aK(t,e,n){return NQ(YQ(t.state),e,t,n)}let os=null;const lK=4e3;function uK(t,e=rK){let n=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var f,h;let d=n[o]||(n[o]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>sK(v,e));for(let v=1;v<p.length;v++){let b=p.slice(0,v).join(" ");r(b,!0),d[b]||(d[b]={preventDefault:!0,stopPropagation:!1,run:[S=>{let y=os={view:S,prefix:b,scope:o};return setTimeout(()=>{os==y&&(os=null)},lK),!0}]})}let m=p.join(" ");r(m,!1);let O=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((h=(f=d._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});l&&O.run.push(l),c&&(O.preventDefault=!0),u&&(O.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let h in u)u[h].run.push(d=>f(d,gm))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let gm=null;function NQ(t,e,n,i){gm=e;let r=E6(e),s=en(r,0),o=di(s)==r.length&&r!=" ",a="",l=!1,c=!1,u=!1;os&&os.view==n&&os.scope==i&&(a=os.prefix+" ",qQ.indexOf(e.keyCode)<0&&(c=!0,os=null));let f=new Set,h=O=>{if(O){for(let v of O.run)if(!f.has(v)&&(f.add(v),v(n)))return O.stopPropagation&&(u=!0),!0;O.preventDefault&&(O.stopPropagation&&(u=!0),c=!0)}return!1},d=t[i],p,m;return d&&(h(d[a+$c(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ye.windows&&e.ctrlKey&&e.altKey)&&(p=Ss[e.keyCode])&&p!=r?(h(d[a+$c(p,e,!0)])||e.shiftKey&&(m=Jl[e.keyCode])!=r&&m!=p&&h(d[a+$c(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(d[a+$c(r,e,!0)])&&(l=!0),!l&&h(d._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),gm=null,l}class Nu{constructor(e,n,i,r,s){this.className=e,this.left=n,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=FQ(e);return[new Nu(n,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return cK(e,n,i)}}function FQ(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Tt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function L_(t,e,n,i){let r=t.coordsAtPos(e,n*2);if(!r)return i;let s=t.dom.getBoundingClientRect(),o=(r.top+r.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?i:{from:Math.max(i.from,Math.min(a,l)),to:Math.min(i.to,Math.max(a,l))}}function cK(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let i=Math.max(n.from,t.viewport.from),r=Math.min(n.to,t.viewport.to),s=t.textDirection==Tt.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=FQ(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=a.right-(u?parseInt(u.paddingRight):0),d=cm(t,i),p=cm(t,r),m=d.type==Pn.Text?d:null,O=p.type==Pn.Text?p:null;if(m&&(t.lineWrapping||d.widgetLineBreaks)&&(m=L_(t,i,1,m)),O&&(t.lineWrapping||p.widgetLineBreaks)&&(O=L_(t,r,-1,O)),m&&O&&m.from==O.from&&m.to==O.to)return b(S(n.from,n.to,m));{let w=m?S(n.from,null,m):y(d,!1),P=O?S(null,n.to,O):y(p,!0),x=[];return(m||d).to<(O||p).from-(m&&O?1:0)||d.widgetLineBreaks>1&&w.bottom+t.defaultLineHeight/2<P.top?x.push(v(f,w.bottom,h,P.top)):w.bottom<P.top&&t.elementAtHeight((w.bottom+P.top)/2).type==Pn.Text&&(w.bottom=P.top=(w.bottom+P.top)/2),b(w).concat(x).concat(b(P))}function v(w,P,x,k){return new Nu(e,w-l.left,P-l.top-.01,x-w,k-P+.01)}function b({top:w,bottom:P,horizontal:x}){let k=[];for(let A=0;A<x.length;A+=2)k.push(v(x[A],w,x[A+1],P));return k}function S(w,P,x){let k=1e9,A=-1e9,D=[];function W(N,Y,z,q,Z){let K=t.coordsAtPos(N,N==x.to?-2:2),I=t.coordsAtPos(z,z==x.from?2:-2);!K||!I||(k=Math.min(K.top,I.top,k),A=Math.max(K.bottom,I.bottom,A),Z==Tt.LTR?D.push(s&&Y?f:K.left,s&&q?h:I.right):D.push(!s&&q?f:I.left,!s&&Y?h:K.right))}let j=w??x.from,U=P??x.to;for(let N of t.visibleRanges)if(N.to>j&&N.from<U)for(let Y=Math.max(N.from,j),z=Math.min(N.to,U);;){let q=t.state.doc.lineAt(Y);for(let Z of t.bidiSpans(q)){let K=Z.from+q.from,I=Z.to+q.from;if(K>=z)break;I>Y&&W(Math.max(K,Y),w==null&&K<=j,Math.min(I,z),P==null&&I>=U,Z.dir)}if(Y=q.to+1,Y>=z)break}return D.length==0&&W(j,w==null,U,P==null,t.textDirection),{top:k,bottom:A,horizontal:D}}function y(w,P){let x=a.top+(P?w.top:w.bottom);return{top:x,bottom:x,horizontal:[]}}}function fK(t,e){return t.constructor==e.constructor&&t.eq(e)}class hK{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Gc)!=e.state.facet(Gc)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,i=e.facet(Gc);for(;n<i.length&&i[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,i)=>!fK(n,this.drawn[i]))){let n=this.dom.firstChild,i=0;for(let r of e)r.update&&n&&r.constructor&&this.drawn[i].constructor&&r.update(n,this.drawn[i])?(n=n.nextSibling,i++):this.dom.insertBefore(r.draw(),n);for(;n;){let r=n.nextSibling;n.remove(),n=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Gc=_e.define();function GQ(t){return[Dt.define(e=>new hK(e,t)),Gc.of(t)]}const HQ=!ye.ios,iu=_e.define({combine(t){return br(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function dK(t={}){return[iu.of(t),pK,gK,mK,xQ.of(!0)]}function KQ(t){return t.startState.facet(iu)!=t.state.facet(iu)}const pK=GQ({above:!0,markers(t){let{state:e}=t,n=e.facet(iu),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||HQ:n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:fe.cursor(r.head,r.head>r.anchor?-1:1);for(let l of Nu.forRange(t,o,a))i.push(l)}}return i},update(t,e){t.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=KQ(t);return n&&z_(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){z_(e.state,t)},class:"cm-cursorLayer"});function z_(t,e){e.style.animationDuration=t.facet(iu).cursorBlinkRate+"ms"}const gK=GQ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Nu.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||KQ(t)},class:"cm-selectionLayer"}),mm={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};HQ&&(mm[".cm-line"].caretColor=mm[".cm-content"].caretColor="transparent !important");const mK=Ms.highest(ve.theme(mm)),JQ=qe.define({map(t,e){return t==null?null:e.mapPos(t)}}),wl=Xt.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,i)=>i.is(JQ)?i.value:n,t)}}),OK=Dt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(wl);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(wl)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(wl),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let i=t.scrollDOM.getBoundingClientRect();return{left:n.left-i.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-i.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(wl)!=t&&this.view.dispatch({effects:JQ.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function vK(){return[wl,OK]}function Y_(t,e,n,i,r){e.lastIndex=0;for(let s=t.iterRange(n,i),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,a)}function bK(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:s}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class yK{constructor(e){const{regexp:n,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,r)this.addMatch=(a,l,c,u)=>r(u,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,u)=>{let f=i(a,l,c);f&&u(c,c+a[0].length,f)};else if(i)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new ws,i=n.add.bind(n);for(let{from:r,to:s}of bK(e,this.maxLength))Y_(e.state.doc,this.regexp,r,s,(o,a)=>this.addMatch(a,e,o,i));return n.finish()}updateDeco(e,n){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,n.map(e.changes),i,r):n}updateRange(e,n,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let h=[],d,p=(m,O,v)=>h.push(v.range(m,O));if(l==c)for(this.regexp.lastIndex=u-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,p);else Y_(e.state.doc,this.regexp,u,f,(m,O)=>this.addMatch(O,e,m,p));n=n.update({filterFrom:u,filterTo:f,filter:(m,O)=>m<u||O>f,add:h})}}return n}}const Om=/x/.unicode!=null?"gu":"g",_K=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Om),wK={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let wp=null;function xK(){var t;if(wp==null&&typeof document<"u"&&document.body){let e=document.body.style;wp=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return wp||!1}const Hc=_e.define({combine(t){let e=br(t,{render:null,specialChars:_K,addSpecialChars:null});return(e.replaceTabs=!xK())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Om)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Om)),e}});function SK(t={}){return[Hc.of(t),$K()]}let N_=null;function $K(){return N_||(N_=Dt.fromClass(class{constructor(t){this.view=t,this.decorations=Pe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Hc)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new yK({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,s=en(e[0],0);if(s==9){let o=r.lineAt(i),a=n.state.tabSize,l=Ua(o.text,a,i-o.from);return Pe.replace({widget:new TK((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Pe.replace({widget:new QK(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Hc);t.startState.facet(Hc)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const kK="";function PK(t){return t>=32?kK:t==10?"":String.fromCharCode(9216+t)}class QK extends yr{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=PK(this.code),i=e.state.phrase("Control character")+" "+(wK[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,n);if(r)return r;let s=document.createElement("span");return s.textContent=n,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class TK extends yr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function AK(){return RK}const CK=Pe.line({class:"cm-activeLine"}),RK=Dt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(CK.range(r.from)),e=r.from)}return Pe.set(n)}},{decorations:t=>t.decorations}),vm=2e3;function EK(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),s=[];if(e.off>vm||n.off>vm||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=i;l<=r;l++){let c=t.doc.line(l);c.length<=a&&s.push(fe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=i;l<=r;l++){let c=t.doc.line(l),u=Fg(c.text,o,t.tabSize,!0);if(u<0)s.push(fe.cursor(c.to));else{let f=Fg(c.text,a,t.tabSize);s.push(fe.range(c.from+u,c.from+f))}}}return s}function qK(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function F_(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,s=r>vm?-1:r==i.length?qK(t,e.clientX):Ua(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:r}}function MK(t,e){let n=F_(t,e),i=t.state.selection;return n?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(n.line).from),o=r.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=F_(t,r);if(!a)return i;let l=EK(t.state,n,a);return l.length?o?fe.create(l.concat(i.ranges)):fe.create(l):i}}:null}function ZK(t){let e=n=>n.altKey&&n.button==0;return ve.mouseSelectionStyle.of((n,i)=>e(i)?MK(n,i):null)}const DK={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},jK={style:"cursor: crosshair"};function WK(t={}){let[e,n]=DK[t.key||"Alt"],i=Dt.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||n(r))},keyup(r){(r.keyCode==e||!n(r))&&this.set(!1)},mousemove(r){this.set(n(r))}}});return[i,ve.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?jK:null})]}const ll="-10000px";class eT{constructor(e,n,i,r){this.facet=n,this.createTooltipView=i,this.removeTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=i(o,s))}update(e,n){var i;let r=e.state.facet(this.facet),s=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==c.create&&(u=f)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let f=o[l]=this.tooltipViews[u];a&&(a[l]=n[u]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=r,this.tooltips=s,this.tooltipViews=o,!0}}function BK(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const xp=_e.define({combine:t=>{var e,n,i;return{position:ye.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||BK}}}),G_=new WeakMap,qv=Dt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(xp);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new eT(t,Mv,(n,i)=>this.createTooltip(n,i),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(xp);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),i=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=ll,n.dom.style.left="0px",this.container.insertBefore(n.dom,i),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(ye.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==ll&&r.style.left=="0px"){let s=r.getBoundingClientRect();i=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,n=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(xp).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:i}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:i,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,f=t.pos[a],h=t.size[a];if(!f||f.bottom<=Math.max(n.top,i.top)||f.top>=Math.min(n.bottom,i.bottom)||f.right<Math.max(n.left,i.left)-.1||f.left>Math.min(n.right,i.right)+.1){u.style.top=ll;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,m=h.right-h.left,O=(e=G_.get(c))!==null&&e!==void 0?e:h.bottom-h.top,v=c.offset||XK,b=this.view.textDirection==Tt.LTR,S=h.width>i.right-i.left?b?i.left:i.right-h.width:b?Math.max(i.left,Math.min(f.left-(d?14:0)+v.x,i.right-m)):Math.min(Math.max(i.left,f.left-m+(d?14:0)-v.x),i.right-m),y=this.above[a];!l.strictSide&&(y?f.top-(h.bottom-h.top)-v.y<i.top:f.bottom+(h.bottom-h.top)+v.y>i.bottom)&&y==i.bottom-f.bottom>f.top-i.top&&(y=this.above[a]=!y);let w=(y?f.top-i.top:i.bottom-f.bottom)-p;if(w<O&&c.resize!==!1){if(w<this.view.defaultLineHeight){u.style.top=ll;continue}G_.set(c,O),u.style.height=(O=w)/s+"px"}else u.style.height&&(u.style.height="");let P=y?f.top-O-p-v.y:f.bottom+p+v.y,x=S+m;if(c.overlap!==!0)for(let k of o)k.left<x&&k.right>S&&k.top<P+O&&k.bottom>P&&(P=y?k.top-O-2-p:k.bottom+p+2);if(this.position=="absolute"?(u.style.top=(P-t.parent.top)/s+"px",u.style.left=(S-t.parent.left)/r+"px"):(u.style.top=P/s+"px",u.style.left=S/r+"px"),d){let k=f.left+(b?v.x:-v.x)-(S+14-7);d.style.left=k/r+"px"}c.overlap!==!0&&o.push({left:S,top:P,right:x,bottom:P+O}),u.classList.toggle("cm-tooltip-above",y),u.classList.toggle("cm-tooltip-below",!y),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=ll}},{eventObservers:{scroll(){this.maybeMeasure()}}}),IK=ve.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),XK={x:0,y:0},Mv=_e.define({enables:[qv,IK]}),Tf=_e.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class td{static create(e){return new td(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new eT(e,Tf,(n,i)=>this.createHostedView(n,i),n=>n.dom.remove())}createHostedView(e,n){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const UK=Mv.compute([Tf],t=>{let e=t.facet(Tf);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var i;return(i=n.end)!==null&&i!==void 0?i:n.pos})),create:td.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class VK{constructor(e,n,i,r,s){this.view=e,this.source=n,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,i=e.docView.nearest(n.target);if(!i)return;let r,s=1;if(i instanceof cs)r=i.posAtStart;else{if(r=e.posAtCoords(n),r==null)return;let a=e.coordsAtPos(r);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(u=>u.from<=r&&u.to>=r),c=l&&l.dir==Tt.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Wn(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(qv),n=e?e.manager.tooltips.findIndex(i=>i.create==td.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:s}=this;if(r.length&&s&&!LK(s.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,a=(i=(n=r[0])===null||n===void 0?void 0:n.end)!==null&&i!==void 0?i:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!zK(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=i=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const kc=4;function LK(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-kc&&e.clientX<=n.right+kc&&e.clientY>=n.top-kc&&e.clientY<=n.bottom+kc}function zK(t,e,n,i,r,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=t.posAtCoords({x:i,y:r},!1);return l>=e&&l<=n}function YK(t,e={}){let n=qe.define(),i=Xt.define({create(){return[]},update(r,s){if(r.length&&(e.hideOnChange&&(s.docChanged||s.selection)?r=[]:e.hideOn&&(r=r.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of r){let l=s.changes.mapPos(a.pos,-1,nn.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}r=o}for(let o of s.effects)o.is(n)&&(r=o.value),o.is(NK)&&(r=[]);return r},provide:r=>Tf.from(r)});return[i,Dt.define(r=>new VK(r,t,i,n,e.hoverTime||300)),UK]}function tT(t,e){let n=t.plugin(qv);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const NK=qe.define(),H_=_e.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function ru(t,e){let n=t.plugin(nT),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const nT=Dt.fromClass(class{constructor(t){this.input=t.state.facet(su),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(H_);this.top=new Pc(t,!0,e.topContainer),this.bottom=new Pc(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(H_);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Pc(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Pc(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(su);if(n!=this.input){let i=n.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),r.push(u),(u.top?s:o).push(u)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>ve.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Pc{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=K_(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=K_(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function K_(t){let e=t.nextSibling;return t.remove(),e}const su=_e.define({enables:nT});class qr extends uo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}qr.prototype.elementClass="";qr.prototype.toDOM=void 0;qr.prototype.mapMode=nn.TrackBefore;qr.prototype.startSide=qr.prototype.endSide=-1;qr.prototype.point=!0;const Kc=_e.define(),FK={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>it.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},jl=_e.define();function GK(t){return[iT(),jl.of(Object.assign(Object.assign({},FK),t))]}const J_=_e.define({combine:t=>t.some(e=>e)});function iT(t){return[HK]}const HK=Dt.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(jl).map(e=>new t1(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(J_),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(J_)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=it.iter(this.view.state.facet(Kc),this.view.viewport.from),i=[],r=this.gutters.map(s=>new KK(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Pn.Text&&o){bm(n,i,a.from);for(let l of r)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==Pn.Text){bm(n,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(jl),n=t.state.facet(jl),i=t.docChanged||t.heightChanged||t.viewportChanged||!it.eq(t.startState.facet(Kc),t.state.facet(Kc),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let r of this.gutters)r.update(t)&&(i=!0);else{i=!0;let r=[];for(let s of n){let o=e.indexOf(s);o<0?r.push(new t1(this.view,s)):(this.gutters[o].update(t),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ve.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Tt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function e1(t){return Array.isArray(t)?t:[t]}function bm(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class KK{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=it.iter(e.markers,n.from)}addElement(e,n,i){let{gutter:r}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==r.elements.length){let a=new rT(e,o,s,i);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,o,s,i);this.height=n.bottom,this.i++}line(e,n,i){let r=[];bm(this.cursor,r,n.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,n,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,r)}widget(e,n){let i=this.gutter.config.widgetMarker(e,n.widget,n);i&&this.addElement(e,n,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class t1{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=e1(n.markers(e)),n.initialSpacer&&(this.spacer=new rT(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=e1(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!it.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class rT{constructor(e,n,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,r)}update(e,n,i,r){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),JK(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,n){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(i+=" "+u);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}}function JK(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const eJ=_e.define(),Xo=_e.define({combine(t){return br(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let r in n){let s=i[r],o=n[r];i[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class Sp extends qr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function $p(t,e){return t.state.facet(Xo).formatNumber(e,t.state)}const tJ=jl.compute([Xo],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(eJ)},lineMarker(e,n,i){return i.some(r=>r.toDOM)?null:new Sp($p(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Xo)!=e.state.facet(Xo),initialSpacer(e){return new Sp($p(e,n1(e.state.doc.lines)))},updateSpacer(e,n){let i=$p(n.view,n1(n.view.state.doc.lines));return i==e.number?e:new Sp(i)},domEventHandlers:t.facet(Xo).domEventHandlers}));function nJ(t={}){return[Xo.of(t),iT(),tJ]}function n1(t){let e=9;for(;e<t;)e=e*10+9;return e}const iJ=new class extends qr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},rJ=Kc.compute(["selection"],t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(iJ.range(r)))}return it.of(e)});function sJ(){return rJ}const sT=1024;let oJ=0;class pi{constructor(e,n){this.from=e,this.to=n}}class ze{constructor(e={}){this.id=oJ++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=An.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}ze.closedBy=new ze({deserialize:t=>t.split(" ")});ze.openedBy=new ze({deserialize:t=>t.split(" ")});ze.group=new ze({deserialize:t=>t.split(" ")});ze.isolate=new ze({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});ze.contextHash=new ze({perNode:!0});ze.lookAhead=new ze({perNode:!0});ze.mounted=new ze({perNode:!0});class ou{constructor(e,n,i){this.tree=e,this.overlay=n,this.parser=i}static get(e){return e&&e.props&&e.props[ze.mounted.id]}}const aJ=Object.create(null);class An{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):aJ,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new An(e.name||"",n,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(ze.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(ze.group),s=-1;s<(r?r.length:0);s++){let o=n[s<0?i.name:r[s]];if(o)return o}}}}An.none=new An("",Object.create(null),0,8);class Zv{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}n.push(r?new An(i.name,r,i.id,i.flags):i)}return new Zv(n)}}const Qc=new WeakMap,i1=new WeakMap;var xt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(xt||(xt={}));class Mt{constructor(e,n,i,r,s){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=ou.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Af(this.topNode,e)}cursorAt(e,n=0,i=0){let r=Qc.get(this)||this.topNode,s=new Af(r);return s.moveTo(e,n),Qc.set(this,s._tree),s}get topNode(){return new yn(this,0,0,null)}resolve(e,n=0){let i=au(Qc.get(this)||this.topNode,e,n,!1);return Qc.set(this,i),i}resolveInner(e,n=0){let i=au(i1.get(this)||this.topNode,e,n,!0);return i1.set(this,i),i}resolveStack(e,n=0){return cJ(this,e,n)}iterate(e){let{enter:n,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&xt.IncludeAnonymous)>0;for(let l=this.cursor(o|xt.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Wv(An.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new Mt(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new Mt(An.none,n,i,r)))}static build(e){return fJ(e)}}Mt.empty=new Mt(An.none,[],[],0);class Dv{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Dv(this.buffer,this.index)}}class ks{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return An.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(oT(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,n,i){let r=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=r[a++],s[l++]=r[a++]-i;let c=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,c)}return new ks(s,o,this.set)}}function oT(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function au(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!i&&t instanceof yn&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=i?0:xt.IgnoreOverlays;if(i)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof yn&&o.index<0&&((r=a.enter(e,n,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class aT{cursor(e=0){return new Af(this,e)}getChild(e,n=null,i=null){let r=r1(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return r1(this,e,n,i)}resolve(e,n=0){return au(this,e,n,!1)}resolveInner(e,n=0){return au(this,e,n,!0)}matchContext(e){return ym(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),i=this;for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(i=n,n=r.prevSibling):n=r}return i}get node(){return this}get next(){return this.parent}}class yn extends aT{constructor(e,n,i,r){super(),this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],f=l[e]+o.from;if(oT(r,i,f,f+u.length)){if(u instanceof ks){if(s&xt.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,n,i-f,r);if(h>-1)return new rr(new lJ(o,u,e,f),null,h)}else if(s&xt.IncludeAnonymous||!u.type.isAnonymous||jv(u)){let h;if(!(s&xt.IgnoreMounts)&&(h=ou.get(u))&&!h.overlay)return new yn(h.tree,f,e,o);let d=new yn(u,f,e,o);return s&xt.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?u.children.length-1:0,n,i,r)}}}if(s&xt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&xt.IgnoreOverlays)&&(r=ou.get(this._tree))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new yn(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function r1(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=r.type.is(n),!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function ym(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class lJ{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class rr extends aT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){super(),this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return s<0?null:new rr(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&xt.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new rr(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new rr(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new rr(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),n.push(0)}return new Mt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function lT(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let i=n instanceof yn&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new uJ(r,n)}class uJ{constructor(e,n){this.heads=e,this.node=n}get next(){return lT(this.heads)}}function cJ(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof yn?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(r||(r=[i])).push(o.resolve(e,n)),s=o}else{let o=ou.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new yn(o.tree,o.overlay[0].from+s.from,-1,s);(r||(r=[i])).push(au(a,e,n,!1))}}return r?lT(r):i}class Af{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof yn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof yn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&xt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&xt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&xt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let s=n+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&xt.IncludeAnonymous||a instanceof ks||!a.type.isAnonymous||jv(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;n=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)n=new rr(this.buffer,n,this.stack[r]);return this.bufferNode=new rr(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&n&&n(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return ym(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return ym(this.node,e,r);let o=i[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function jv(t){return t.children.some(e=>e instanceof ks||!e.type.isAnonymous||jv(e))}function fJ(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=sT,reused:s=[],minRepeatType:o=i.types.length}=t,a=Array.isArray(n)?new Dv(n,n.length):n,l=i.types,c=0,u=0;function f(w,P,x,k,A,D){let{id:W,start:j,end:U,size:N}=a,Y=u;for(;N<0;)if(a.next(),N==-1){let I=s[W];x.push(I),k.push(j-w);return}else if(N==-3){c=W;return}else if(N==-4){u=W;return}else throw new RangeError(`Unrecognized record size: ${N}`);let z=l[W],q,Z,K=j-w;if(U-j<=r&&(Z=O(a.pos-P,A))){let I=new Uint16Array(Z.size-Z.skip),H=a.pos-Z.size,ee=I.length;for(;a.pos>H;)ee=v(Z.start,I,ee);q=new ks(I,U-Z.start,i),K=Z.start-w}else{let I=a.pos-N;a.next();let H=[],ee=[],ne=W>=o?W:-1,M=0,X=U;for(;a.pos>I;)ne>=0&&a.id==ne&&a.size>=0?(a.end<=X-r&&(p(H,ee,j,M,a.end,X,ne,Y),M=H.length,X=a.end),a.next()):D>2500?h(j,I,H,ee):f(j,I,H,ee,ne,D+1);if(ne>=0&&M>0&&M<H.length&&p(H,ee,j,M,j,X,ne,Y),H.reverse(),ee.reverse(),ne>-1&&M>0){let R=d(z);q=Wv(z,H,ee,0,H.length,0,U-j,R,R)}else q=m(z,H,ee,U-j,Y-U)}x.push(q),k.push(K)}function h(w,P,x,k){let A=[],D=0,W=-1;for(;a.pos>P;){let{id:j,start:U,end:N,size:Y}=a;if(Y>4)a.next();else{if(W>-1&&U<W)break;W<0&&(W=N-r),A.push(j,U,N),D++,a.next()}}if(D){let j=new Uint16Array(D*4),U=A[A.length-2];for(let N=A.length-3,Y=0;N>=0;N-=3)j[Y++]=A[N],j[Y++]=A[N+1]-U,j[Y++]=A[N+2]-U,j[Y++]=Y;x.push(new ks(j,A[2]-U,i)),k.push(U-w)}}function d(w){return(P,x,k)=>{let A=0,D=P.length-1,W,j;if(D>=0&&(W=P[D])instanceof Mt){if(!D&&W.type==w&&W.length==k)return W;(j=W.prop(ze.lookAhead))&&(A=x[D]+W.length+j)}return m(w,P,x,k,A)}}function p(w,P,x,k,A,D,W,j){let U=[],N=[];for(;w.length>k;)U.push(w.pop()),N.push(P.pop()+x-A);w.push(m(i.types[W],U,N,D-A,j-D)),P.push(A-x)}function m(w,P,x,k,A=0,D){if(c){let W=[ze.contextHash,c];D=D?[W].concat(D):[W]}if(A>25){let W=[ze.lookAhead,A];D=D?[W].concat(D):[W]}return new Mt(w,P,x,k,D)}function O(w,P){let x=a.fork(),k=0,A=0,D=0,W=x.end-r,j={size:0,start:0,skip:0};e:for(let U=x.pos-w;x.pos>U;){let N=x.size;if(x.id==P&&N>=0){j.size=k,j.start=A,j.skip=D,D+=4,k+=4,x.next();continue}let Y=x.pos-N;if(N<0||Y<U||x.start<W)break;let z=x.id>=o?4:0,q=x.start;for(x.next();x.pos>Y;){if(x.size<0)if(x.size==-3)z+=4;else break e;else x.id>=o&&(z+=4);x.next()}A=q,k+=N,D+=z}return(P<0||k==w)&&(j.size=k,j.start=A,j.skip=D),j.size>4?j:void 0}function v(w,P,x){let{id:k,start:A,end:D,size:W}=a;if(a.next(),W>=0&&k<o){let j=x;if(W>4){let U=a.pos-(W-4);for(;a.pos>U;)x=v(w,P,x)}P[--x]=j,P[--x]=D-w,P[--x]=A-w,P[--x]=k}else W==-3?c=k:W==-4&&(u=k);return x}let b=[],S=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,b,S,-1,0);let y=(e=t.length)!==null&&e!==void 0?e:b.length?S[0]+b[0].length:0;return new Mt(l[t.topID],b.reverse(),S.reverse(),y)}const s1=new WeakMap;function Jc(t,e){if(!t.isAnonymous||e instanceof ks||e.type!=t)return 1;let n=s1.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof Mt)){n=1;break}n+=Jc(t,i)}s1.set(e,n)}return n}function Wv(t,e,n,i,r,s,o,a,l){let c=0;for(let p=i;p<r;p++)c+=Jc(t,e[p]);let u=Math.ceil(c*1.5/8),f=[],h=[];function d(p,m,O,v,b){for(let S=O;S<v;){let y=S,w=m[S],P=Jc(t,p[S]);for(S++;S<v;S++){let x=Jc(t,p[S]);if(P+x>=u)break;P+=x}if(S==y+1){if(P>u){let x=p[y];d(x.children,x.positions,0,x.children.length,m[y]+b);continue}f.push(p[y])}else{let x=m[S-1]+p[S-1].length-w;f.push(Wv(t,p,m,y,S,w,x,null,l))}h.push(w+b-s)}}return d(e,n,i,r,0),(a||l)(f,h,o)}class uT{constructor(){this.map=new WeakMap}setBuffer(e,n,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(n,i)}getBuffer(e,n){let i=this.map.get(e);return i&&i.get(n)}set(e,n){e instanceof rr?this.setBuffer(e.context.buffer,e.index,n):e instanceof yn&&this.map.set(e.tree,n)}get(e){return e instanceof rr?this.getBuffer(e.context.buffer,e.index):e instanceof yn?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Qr{constructor(e,n,i,r,s=!1,o=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new Qr(0,e.length,e,0,!1,i)];for(let s of n)s.to>e.length&&r.push(s);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,f=u?u.fromA:1e9;if(f-l>=i)for(;o&&o.from<f;){let h=o;if(l>=h.from||f<=h.to||c){let d=Math.max(h.from,l)-c,p=Math.min(h.to,f)-c;h=d>=p?null:new Qr(d,p,h.tree,h.offset+c,a>0,!!u)}if(h&&r.push(h),o.to>f)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}class cT{startParse(e,n,i){return typeof e=="string"&&(e=new hJ(e)),i=i?i.length?i.map(r=>new pi(r.from,r.to)):[new pi(0,0)]:[new pi(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let s=r.advance();if(s)return s}}}class hJ{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function fT(t){return(e,n,i,r)=>new pJ(e,t,n,i,r)}class o1{constructor(e,n,i,r,s){this.parser=e,this.parse=n,this.overlay=i,this.target=r,this.from=s}}function a1(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class dJ{constructor(e,n,i,r,s,o,a){this.parser=e,this.predicate=n,this.mounts=i,this.index=r,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const _m=new ze({perNode:!0});class pJ{constructor(e,n,i,r,s){this.nest=n,this.input=i,this.fragments=r,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new Mt(i.type,i.children,i.positions,i.length,i.propValues.concat([[_m,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[ze.mounted.id]=new ou(n,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new OJ(this.fragments),n=null,i=null,r=new Af(new yn(this.baseTree,this.ranges[0].from,0,null),xt.IncludeAnonymous|xt.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)a=!1;else if(e.hasNode(r)){if(n){let c=n.mounts.find(u=>u.frag.from<=r.from&&u.frag.to>=r.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let f=u.from+c.pos,h=u.to+c.pos;f>=r.from&&h<=r.to&&!n.ranges.some(d=>d.from<h&&d.to>f)&&n.ranges.push({from:f,to:h})}}a=!1}else if(i&&(o=gJ(i.ranges,r.from,r.to)))a=o!=2;else if(!r.type.isAnonymous&&(s=this.nest(r,this.input))&&(r.from<r.to||!s.overlay)){r.tree||mJ(r);let c=e.findMounts(r.from,s.parser);if(typeof s.overlay=="function")n=new dJ(s.parser,s.overlay,c,this.inner.length,r.from,r.tree,n);else{let u=c1(this.ranges,s.overlay||(r.from<r.to?[new pi(r.from,r.to)]:[]));u.length&&a1(u),(u.length||!s.overlay)&&this.inner.push(new o1(s.parser,u.length?s.parser.startParse(this.input,f1(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new pi(f.from-r.from,f.to-r.from)):null,r.tree,u.length?u[0].from:r.from)),s.overlay?u.length&&(i={ranges:u,depth:0,prev:i}):a=!1}}else n&&(l=n.predicate(r))&&(l===!0&&(l=new pi(r.from,r.to)),l.from<l.to&&n.ranges.push(l));if(a&&r.firstChild())n&&n.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(n&&!--n.depth){let c=c1(this.ranges,n.ranges);c.length&&(a1(c),this.inner.splice(n.index,0,new o1(n.parser,n.parser.startParse(this.input,f1(n.mounts,c),c),n.ranges.map(u=>new pi(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}i&&!--i.depth&&(i=i.prev)}}}}function gJ(t,e,n){for(let i of t){if(i.from>=n)break;if(i.to>e)return i.from<=e&&i.to>=n?2:1}return 0}function l1(t,e,n,i,r,s){if(e<n){let o=t.buffer[e+1];i.push(t.slice(e,n,o)),r.push(o-s)}}function mJ(t){let{node:e}=t,n=[],i=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let r=t.tree,s=r.children.indexOf(i),o=r.children[s],a=o.buffer,l=[s];function c(u,f,h,d,p,m){let O=n[m],v=[],b=[];l1(o,u,O,v,b,d);let S=a[O+1],y=a[O+2];l.push(v.length);let w=m?c(O+4,a[O+3],o.set.types[a[O]],S,y-S,m-1):e.toTree();return v.push(w),b.push(S-d),l1(o,a[O+3],f,v,b,d),new Mt(h,v,b,p)}r.children[s]=c(0,a.length,An.none,0,o.length,n.length-1);for(let u of l){let f=t.tree.children[u],h=t.tree.positions[u];t.yield(new yn(f,h+t.from,u,t._tree))}}class u1{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(xt.IncludeAnonymous|xt.IgnoreMounts)}moveTo(e){let{cursor:n}=this,i=e-this.offset;for(;!this.done&&n.from<i;)n.to>=e&&n.enter(i,1,xt.IgnoreOverlays|xt.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Mt)n=n.children[0];else break}return!1}}let OJ=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(n=i.tree.prop(_m))!==null&&n!==void 0?n:i.to,this.inner=new u1(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(_m))!==null&&e!==void 0?e:n.to,this.inner=new u1(n.tree,-n.offset)}}findMounts(e,n){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(i=s.tree)===null||i===void 0?void 0:i.prop(ze.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&r.push({frag:l,pos:s.from-l.offset,mount:o})}}}return r}};function c1(t,e){let n=null,i=e;for(let r=1,s=0;r<t.length;r++){let o=t[r-1].to,a=t[r].from;for(;s<i.length;s++){let l=i[s];if(l.from>=a)break;l.to<=o||(n||(i=n=e.slice()),l.from<o?(n[s]=new pi(l.from,o),l.to>a&&n.splice(s+1,0,new pi(a,l.to))):l.to>a?n[s--]=new pi(a,l.to):n.splice(s--,1))}}return i}function vJ(t,e,n,i){let r=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=r==t.length?1e9:o?t[r].to:t[r].from,f=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let h=Math.max(l,n),d=Math.min(u,f,i);h<d&&c.push(new pi(h,d))}if(l=Math.min(u,f),l==1e9)break;u==l&&(o?(o=!1,r++):o=!0),f==l&&(a?(a=!1,s++):a=!0)}return c}function f1(t,e){let n=[];for(let{pos:i,mount:r,frag:s}of t){let o=i+(r.overlay?r.overlay[0].from:0),a=o+r.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(r.overlay){let u=r.overlay.map(h=>new pi(h.from+i,h.to+i)),f=vJ(e,u,l,c);for(let h=0,d=l;;h++){let p=h==f.length,m=p?c:f[h].from;if(m>d&&n.push(new Qr(d,m,r.tree,-o,s.from>=d||s.openStart,s.to<=m||s.openEnd)),p)break;d=f[h].to}}else n.push(new Qr(l,c,r.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}var h1={};class Cf{constructor(e,n,i,r,s,o,a,l,c,u=0,f){this.p=e,this.stack=n,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let r=e.parser.context;return new Cf(e,[],n,i,i,0,[],0,r?new d1(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,r=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(r);if(a&&(this.score+=a),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[r])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let f=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-f;if(r<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,c,d,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=s.getGoto(d,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,c)}storeNode(e,n,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==i)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,n,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,n,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:o}=this.p;(r>this.pos||n<=o.maxNode)&&(this.pos=r,o.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=o.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,i,r){e&65536?this.reduce(e):this.shift(e,n,i,r)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(n,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),r=e.bufferBase+n;for(;e&&r==e.bufferBase;)e=e.parent;return new Cf(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new bJ(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if(!(i&65536))return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(n[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<n.length;s+=2){let o=n[s+1];r.some((a,l)=>l&1&&a==o)||r.push(n[s],o)}n=r}let i=[];for(let r=0;r<n.length&&i.length<4;r+=2){let s=n[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[r],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let i=n>>19,r=n&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],i=(r,s)=>{if(!n.includes(r))return n.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new d1(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class d1{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class bJ{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=r}}class Rf{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Rf(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Rf(this.stack,this.pos,this.index)}}function xl(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let i=0,r=0;i<t.length;){let s=0;for(;;){let o=t.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[r++]=s:n=new e(s)}return n}class ef{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const p1=new ef;class yJ{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=p1,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;n<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,r;if(n>=0&&n<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=p1,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let r of this.ranges){if(r.from>=n)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,n)))}return i}}class Jo{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;hT(this.data,e,n,this.id,i.data,i.tokenPrecTable)}}Jo.prototype.contextual=Jo.prototype.fallback=Jo.prototype.extend=!1;class Ef{constructor(e,n,i){this.precTable=n,this.elseToken=i,this.data=typeof e=="string"?xl(e):e}token(e,n){let i=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(hT(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}Ef.prototype.contextual=Jo.prototype.fallback=Jo.prototype.extend=!1;class xn{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function hT(t,e,n,i,r,s){let o=0,a=1<<i,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let d=o+3;d<c;d+=2)if((t[d+1]&a)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||_J(p,e.token.value,r,s))){e.acceptToken(p);break}}let u=e.next,f=0,h=t[o+2];if(e.next<0&&h>f&&t[c+h*3-3]==65535){o=t[c+h*3-1];continue e}for(;f<h;){let d=f+h>>1,p=c+d+(d<<1),m=t[p],O=t[p+1]||65536;if(u<m)h=d;else if(u>=O)f=d+1;else{o=t[p+2],e.advance();continue e}}break}}function g1(t,e,n){for(let i=e,r;(r=t[i])!=65535;i++)if(r==n)return i-e;return-1}function _J(t,e,n,i){let r=g1(n,i,e);return r<0||g1(n,i,t)<r}const Gn=typeof process<"u"&&h1&&/\bparse\b/.test(h1.LOG);let kp=null;function m1(t,e,n){let i=t.cursor(xt.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(t.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:t.length}}class wJ{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?m1(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?m1(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],r=this.index[n];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[n]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof Mt){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(ze.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class xJ{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new ef)}getActions(e){let n=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],f=this.tokens[c];if(!(i&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,u,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let h=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!u.extend&&(i=f,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new ef,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new ef,{pos:i,p:r}=e;return n.start=i,n.end=Math.min(i+1,r.stream.end),n.value=i==r.stream.end?r.parser.eofTerm:0,n}updateCachedToken(e,n,i){let r=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,n,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=n,this.actions[r++]=i,r}addActions(e,n,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=xr(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(xr(a,c+2),n,i,r));break}a[c]==n&&(r=this.putAction(xr(a,c+1),n,i,r))}return r}}class SJ{constructor(e,n,i,r){this.parser=e,this.input=n,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new yJ(n,r),this.tokens=new xJ(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[Cf.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new wJ(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&kJ(r);if(o)return Gn&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Gn&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return Gn&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let r=e.pos,{parser:s}=this,o=Gn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(h>-1&&f.length&&(!c||(f.prop(ze.contextHash)||0)==u))return e.useNode(f,h),Gn&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof Mt)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof Mt&&f.positions[0]==0)f=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Gn&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],h=l[c++],d=c==l.length||!i,p=d?e:e.split(),m=this.tokens.mainToken;if(p.apply(u,f,m?m.start:p.pos,h),Gn&&console.log(o+this.stackID(p)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(f)} @ ${r}${p==e?"":", split"})`),d)return!0;p.pos>r?n.push(p):i.push(p)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return O1(e,n),!0}}runRecovery(e,n,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],u=Gn?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Gn&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let f=a.split(),h=u;for(let d=0;f.forceReduce()&&d<10&&(Gn&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));d++)Gn&&(h=this.stackID(f)+" -> ");for(let d of a.recoverByInsert(l))Gn&&console.log(u+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Gn&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),O1(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),Mt.build({buffer:Rf.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(kp||(kp=new WeakMap)).get(e);return n||kp.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function O1(t,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==t.pos&&i.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class $J{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Pp=t=>t;class Bv{constructor(e){this.start=e.start,this.shift=e.shift||Pp,this.reduce=e.reduce||Pp,this.reuse=e.reuse||Pp,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class po extends cT{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<n.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=ze[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let f=a[c+-u];for(let h=-u;h>0;h--)s(a[c++],l,f);c++}}}this.nodeSet=new Zv(n.map((a,l)=>An.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=sT;let o=xl(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(v1),this.states=xl(e.states,Uint32Array),this.data=xl(e.stateData),this.goto=xl(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Jo(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let r=new SJ(this,e,n,i);for(let s of this.wrappers)r=s(r,e,n,i);return r}getGoto(e,n,i=!1){let r=this.goto;if(n>=r[0])return-1;for(let s=r[n+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,n){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=xr(i,s+2)];else{if(i[s+1]==2)return xr(i,s+2);break}if(o==n||o==0)return xr(i,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,i=>i==n?!0:null)}allActions(e,n){let i=this.stateSlot(e,4),r=i?n(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=xr(this.data,s+2);else break;r=n(xr(this.data,s+1))}return r}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=xr(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];n.some((s,o)=>o&1&&s==r)||n.push(this.data[i],r)}}return n}configure(e){let n=Object.assign(Object.create(po.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return n.specializers[r]=v1(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<n.length;s++)if(!i[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new $J(e,i,r)}static deserialize(e){return new po(e)}}function xr(t,e){return t[e]|t[e+1]<<16}function kJ(t){let e=null;for(let n of t){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function v1(t){if(t.external){let e=t.extend?1:0;return(n,i)=>t.external(n,i)<<1|e}return t.get}let PJ=0;class Ji{constructor(e,n,i){this.set=e,this.base=n,this.modified=i,this.id=PJ++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Ji([],null,[]);if(n.set.push(n),e)for(let i of e.set)n.set.push(i);return n}static defineModifier(){let e=new qf;return n=>n.modified.indexOf(e)>-1?n:qf.get(n.base||n,n.modified.concat(e).sort((i,r)=>i.id-r.id))}}let QJ=0;class qf{constructor(){this.instances=[],this.id=QJ++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(a=>a.base==e&&TJ(n,a.modified));if(i)return i;let r=[],s=new Ji(r,e,n);for(let a of n)a.instances.push(s);let o=AJ(n);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(qf.get(a,l));return s}}function TJ(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function AJ(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function Fu(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let s=[],o=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+r);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==r.length)break;let d=r[f++];if(f==r.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new Mf(i,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return dT.add(e)}const dT=new ze;class Mf{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Mf.empty=new Mf([],2,null);function pT(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function CJ(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function RJ(t,e,n,i=0,r=t.length){let s=new EJ(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}class EJ{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=r,u=qJ(e)||Mf.empty,f=CJ(s,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(n,a),c),u.opaque)return;let h=e.tree&&e.tree.prop(ze.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+a,1),p=this.highlighters.filter(O=>!O.scope||O.scope(h.tree.type)),m=e.firstChild();for(let O=0,v=a;;O++){let b=O<h.overlay.length?h.overlay[O]:null,S=b?b.from+a:l,y=Math.max(n,v),w=Math.min(i,S);if(y<w&&m)for(;e.from<w&&(this.highlightRange(e,y,w,r,s),this.startSpan(Math.min(w,e.to),c),!(e.to>=S||!e.nextSibling())););if(!b||S>i)break;v=b.to+a,v>n&&(this.highlightRange(d.cursor(),Math.max(n,b.from+a),Math.min(i,v),"",p),this.startSpan(Math.min(i,v),c))}m&&e.parent()}else if(e.firstChild()){h&&(r="");do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function qJ(t){let e=t.type.prop(dT);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Oe=Ji.define,Tc=Oe(),ns=Oe(),b1=Oe(ns),y1=Oe(ns),is=Oe(),Ac=Oe(is),Qp=Oe(is),Ki=Oe(),Xs=Oe(Ki),Gi=Oe(),Hi=Oe(),wm=Oe(),ul=Oe(wm),Cc=Oe(),C={comment:Tc,lineComment:Oe(Tc),blockComment:Oe(Tc),docComment:Oe(Tc),name:ns,variableName:Oe(ns),typeName:b1,tagName:Oe(b1),propertyName:y1,attributeName:Oe(y1),className:Oe(ns),labelName:Oe(ns),namespace:Oe(ns),macroName:Oe(ns),literal:is,string:Ac,docString:Oe(Ac),character:Oe(Ac),attributeValue:Oe(Ac),number:Qp,integer:Oe(Qp),float:Oe(Qp),bool:Oe(is),regexp:Oe(is),escape:Oe(is),color:Oe(is),url:Oe(is),keyword:Gi,self:Oe(Gi),null:Oe(Gi),atom:Oe(Gi),unit:Oe(Gi),modifier:Oe(Gi),operatorKeyword:Oe(Gi),controlKeyword:Oe(Gi),definitionKeyword:Oe(Gi),moduleKeyword:Oe(Gi),operator:Hi,derefOperator:Oe(Hi),arithmeticOperator:Oe(Hi),logicOperator:Oe(Hi),bitwiseOperator:Oe(Hi),compareOperator:Oe(Hi),updateOperator:Oe(Hi),definitionOperator:Oe(Hi),typeOperator:Oe(Hi),controlOperator:Oe(Hi),punctuation:wm,separator:Oe(wm),bracket:ul,angleBracket:Oe(ul),squareBracket:Oe(ul),paren:Oe(ul),brace:Oe(ul),content:Ki,heading:Xs,heading1:Oe(Xs),heading2:Oe(Xs),heading3:Oe(Xs),heading4:Oe(Xs),heading5:Oe(Xs),heading6:Oe(Xs),contentSeparator:Oe(Ki),list:Oe(Ki),quote:Oe(Ki),emphasis:Oe(Ki),strong:Oe(Ki),link:Oe(Ki),monospace:Oe(Ki),strikethrough:Oe(Ki),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:Cc,documentMeta:Oe(Cc),annotation:Oe(Cc),processingInstruction:Oe(Cc),definition:Ji.defineModifier(),constant:Ji.defineModifier(),function:Ji.defineModifier(),standard:Ji.defineModifier(),local:Ji.defineModifier(),special:Ji.defineModifier()};pT([{tag:C.link,class:"tok-link"},{tag:C.heading,class:"tok-heading"},{tag:C.emphasis,class:"tok-emphasis"},{tag:C.strong,class:"tok-strong"},{tag:C.keyword,class:"tok-keyword"},{tag:C.atom,class:"tok-atom"},{tag:C.bool,class:"tok-bool"},{tag:C.url,class:"tok-url"},{tag:C.labelName,class:"tok-labelName"},{tag:C.inserted,class:"tok-inserted"},{tag:C.deleted,class:"tok-deleted"},{tag:C.literal,class:"tok-literal"},{tag:C.string,class:"tok-string"},{tag:C.number,class:"tok-number"},{tag:[C.regexp,C.escape,C.special(C.string)],class:"tok-string2"},{tag:C.variableName,class:"tok-variableName"},{tag:C.local(C.variableName),class:"tok-variableName tok-local"},{tag:C.definition(C.variableName),class:"tok-variableName tok-definition"},{tag:C.special(C.variableName),class:"tok-variableName2"},{tag:C.definition(C.propertyName),class:"tok-propertyName tok-definition"},{tag:C.typeName,class:"tok-typeName"},{tag:C.namespace,class:"tok-namespace"},{tag:C.className,class:"tok-className"},{tag:C.macroName,class:"tok-macroName"},{tag:C.propertyName,class:"tok-propertyName"},{tag:C.operator,class:"tok-operator"},{tag:C.comment,class:"tok-comment"},{tag:C.meta,class:"tok-meta"},{tag:C.invalid,class:"tok-invalid"},{tag:C.punctuation,class:"tok-punctuation"}]);const MJ=54,ZJ=1,DJ=55,jJ=2,WJ=56,BJ=3,_1=4,IJ=5,Zf=6,gT=7,mT=8,OT=9,vT=10,XJ=11,UJ=12,VJ=13,Tp=57,LJ=14,w1=58,bT=20,zJ=22,yT=23,YJ=24,xm=26,_T=27,NJ=28,FJ=31,GJ=34,HJ=36,KJ=37,JJ=0,eee=1,tee={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},nee={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},x1={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function iee(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function wT(t){return t==9||t==10||t==13||t==32}let S1=null,$1=null,k1=0;function Sm(t,e){let n=t.pos+e;if(k1==n&&$1==t)return S1;let i=t.peek(e);for(;wT(i);)i=t.peek(++e);let r="";for(;iee(i);)r+=String.fromCharCode(i),i=t.peek(++e);return $1=t,k1=n,S1=r?r.toLowerCase():i==ree||i==see?void 0:null}const xT=60,Df=62,Iv=47,ree=63,see=33,oee=45;function P1(t,e){this.name=t,this.parent=e}const aee=[Zf,vT,gT,mT,OT],lee=new Bv({start:null,shift(t,e,n,i){return aee.indexOf(e)>-1?new P1(Sm(i,1)||"",t):t},reduce(t,e){return e==bT&&t?t.parent:t},reuse(t,e,n,i){let r=e.type.id;return r==Zf||r==HJ?new P1(Sm(i,1)||"",t):t},strict:!1}),uee=new xn((t,e)=>{if(t.next!=xT){t.next<0&&e.context&&t.acceptToken(Tp);return}t.advance();let n=t.next==Iv;n&&t.advance();let i=Sm(t,0);if(i===void 0)return;if(!i)return t.acceptToken(n?LJ:Zf);let r=e.context?e.context.name:null;if(n){if(i==r)return t.acceptToken(XJ);if(r&&nee[r])return t.acceptToken(Tp,-2);if(e.dialectEnabled(JJ))return t.acceptToken(UJ);for(let s=e.context;s;s=s.parent)if(s.name==i)return;t.acceptToken(VJ)}else{if(i=="script")return t.acceptToken(gT);if(i=="style")return t.acceptToken(mT);if(i=="textarea")return t.acceptToken(OT);if(tee.hasOwnProperty(i))return t.acceptToken(vT);r&&x1[r]&&x1[r][i]?t.acceptToken(Tp,-1):t.acceptToken(Zf)}},{contextual:!0}),cee=new xn(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(w1);break}if(t.next==oee)e++;else if(t.next==Df&&e>=2){n>=3&&t.acceptToken(w1,-2);break}else e=0;t.advance()}});function fee(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const hee=new xn((t,e)=>{if(t.next==Iv&&t.peek(1)==Df){let n=e.dialectEnabled(eee)||fee(e.context);t.acceptToken(n?IJ:_1,2)}else t.next==Df&&t.acceptToken(_1,1)});function Xv(t,e,n){let i=2+t.length;return new xn(r=>{for(let s=0,o=0,a=0;;a++){if(r.next<0){a&&r.acceptToken(e);break}if(s==0&&r.next==xT||s==1&&r.next==Iv||s>=2&&s<i&&r.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==i)&&wT(r.next))o++;else if(s==i&&r.next==Df){a>o?r.acceptToken(e,-o):r.acceptToken(n,-(o-2));break}else if((r.next==10||r.next==13)&&a){r.acceptToken(e,1);break}else s=o=0;r.advance()}})}const dee=Xv("script",MJ,ZJ),pee=Xv("style",DJ,jJ),gee=Xv("textarea",WJ,BJ),mee=Fu({"Text RawText":C.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":C.angleBracket,TagName:C.tagName,"MismatchedCloseTag/TagName":[C.tagName,C.invalid],AttributeName:C.attributeName,"AttributeValue UnquotedAttributeValue":C.attributeValue,Is:C.definitionOperator,"EntityReference CharacterReference":C.character,Comment:C.blockComment,ProcessingInst:C.processingInstruction,DoctypeDecl:C.documentMeta}),Oee=po.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:lee,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[mee],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[dee,pee,gee,hee,uee,cee,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function ST(t,e){let n=Object.create(null);for(let i of t.getChildren(yT)){let r=i.getChild(YJ),s=i.getChild(xm)||i.getChild(_T);r&&(n[e.read(r.from,r.to)]=s?s.type.id==xm?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function Q1(t,e){let n=t.getChild(zJ);return n?e.read(n.from,n.to):" "}function Ap(t,e,n){let i;for(let r of n)if(!r.attrs||r.attrs(i||(i=ST(t.node.parent.firstChild,e))))return{parser:r.parser};return null}function $T(t=[],e=[]){let n=[],i=[],r=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?i:a.tag=="textarea"?r:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return fT((a,l)=>{let c=a.type.id;if(c==NJ)return Ap(a,l,n);if(c==FJ)return Ap(a,l,i);if(c==GJ)return Ap(a,l,r);if(c==bT&&s.length){let u=a.node,f=u.firstChild,h=f&&Q1(f,l),d;if(h){for(let p of s)if(p.tag==h&&(!p.attrs||p.attrs(d||(d=ST(f,l))))){let m=u.lastChild,O=m.type.id==KJ?m.from:u.to;if(O>f.to)return{parser:p.parser,overlay:[{from:f.to,to:O}]}}}}if(o&&c==yT){let u=a.node,f;if(f=u.firstChild){let h=o[l.read(f.from,f.to)];if(h)for(let d of h){if(d.tagName&&d.tagName!=Q1(u.parent,l))continue;let p=u.lastChild;if(p.type.id==xm){let m=p.from+1,O=p.lastChild,v=p.to-(O&&O.isError?0:1);if(v>m)return{parser:d.parser,overlay:[{from:m,to:v}]}}else if(p.type.id==_T)return{parser:d.parser,overlay:[{from:p.from,to:p.to}]}}}}return null})}const vee=99,T1=1,bee=100,yee=101,A1=2,kT=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],_ee=58,wee=40,PT=95,xee=91,tf=45,See=46,$ee=35,kee=37,Pee=38,Qee=92,Tee=10;function lu(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function QT(t){return t>=48&&t<=57}const Aee=new xn((t,e)=>{for(let n=!1,i=0,r=0;;r++){let{next:s}=t;if(lu(s)||s==tf||s==PT||n&&QT(s))!n&&(s!=tf||r>0)&&(n=!0),i===r&&s==tf&&i++,t.advance();else if(s==Qee&&t.peek(1)!=Tee)t.advance(),t.next>-1&&t.advance(),n=!0;else{n&&t.acceptToken(s==wee?bee:i==2&&e.canShift(A1)?A1:yee);break}}}),Cee=new xn(t=>{if(kT.includes(t.peek(-1))){let{next:e}=t;(lu(e)||e==PT||e==$ee||e==See||e==xee||e==_ee&&lu(t.peek(1))||e==tf||e==Pee)&&t.acceptToken(vee)}}),Ree=new xn(t=>{if(!kT.includes(t.peek(-1))){let{next:e}=t;if(e==kee&&(t.advance(),t.acceptToken(T1)),lu(e)){do t.advance();while(lu(t.next)||QT(t.next));t.acceptToken(T1)}}}),Eee=Fu({"AtKeyword import charset namespace keyframes media supports":C.definitionKeyword,"from to selector":C.keyword,NamespaceName:C.namespace,KeyframeName:C.labelName,KeyframeRangeName:C.operatorKeyword,TagName:C.tagName,ClassName:C.className,PseudoClassName:C.constant(C.className),IdName:C.labelName,"FeatureName PropertyName":C.propertyName,AttributeName:C.attributeName,NumberLiteral:C.number,KeywordQuery:C.keyword,UnaryQueryOp:C.operatorKeyword,"CallTag ValueName":C.atom,VariableName:C.variableName,Callee:C.operatorKeyword,Unit:C.unit,"UniversalSelector NestingSelector":C.definitionOperator,MatchOp:C.compareOperator,"ChildOp SiblingOp, LogicOp":C.logicOperator,BinOp:C.arithmeticOperator,Important:C.modifier,Comment:C.blockComment,ColorLiteral:C.color,"ParenthesizedContent StringLiteral":C.string,":":C.punctuation,"PseudoOp #":C.derefOperator,"; ,":C.separator,"( )":C.paren,"[ ]":C.squareBracket,"{ }":C.brace}),qee={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},Mee={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},Zee={__proto__:null,not:132,only:132},Dee=po.deserialize({version:14,states:":^QYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO${QdO,59}O-kQ[O'#E^O-xQWO,5;_O-xQWO,5;_POOO'#EV'#EVP.TO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.zQXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/XQ`O1G/^O/rQXO1G/aO0YQXO1G/cO0pQXO1G/dO1WQWO,59|O1]Q[O'#DSO1dQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1kQpO,59]OOQS,59_,59_O${QdO,59aO1sQWO1G/mOOQS,59c,59cO1xQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2QQ[O,59jOOQS,59j,59jO2YQWO'#DjO2eQWO,5:VO2jQWO,5:]O&`Q[O,5:XO&`Q[O'#E_O2rQWO,5;`O2}QWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3`QWO1G0OO3eQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO3pQtO1G/iOOQO,5:x,5:xO4WQ[O,5:xOOQO-E8[-E8[O4eQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO4pQXO'#ErO4wQWO,59nO4|QtO'#EXO5tQdO'#EoO6OQWO,59ZO6TQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XO6]QWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6bQWO,5:yOOQO-E8]-E8]O6pQXO1G/xOOQS7+%j7+%jO6wQYO'#CsOOQO'#EQ'#EQO7SQ`O'#EPOOQO'#EP'#EPO7_QWO'#E`O7gQdO,5:jOOQS,5:j,5:jO7rQtO'#E]O${QdO'#E]O8sQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9WQpO<<HdO9`QWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9hQWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO9pQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3hQdO'#EaO7_QWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO9wQtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO:xQdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";[~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#wO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.`Op#yO|#zO~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/aOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/aOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/aO!S#{O~Oa#fP~P(aOa#cP~P${Oa$SOj#XO~O!Y$UO~Oh$VOo$VO~Op$XO#X#]O~O]!`Xa!^X!b!^X~O]$YO~Oa$ZO!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$`O~O!S$gO#X$bO#e$aO~Oj#XOt$iO!X$kO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$oO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$qOa#cX~P${Oa$sO~Oj#XOp$tO~Oa$uO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$wO~P.`OP#WOtgX!TgX~O#e$aOt!sX!T!sX~Ot$yO!TwO~O!S$}O#X$bO#e$aO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$iO!X%QO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%RO~OtoOa#fa~Ot$qOa#ca~Oa%UO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#skYOPdhotuvw!n#R#h#skSOPdhotuvw!n#R#h#sQmTR!tnQ{VR!xqQ!x}Q#Z!XR#x!zq![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SU$d#m$f$yR$x$cq!XZ]!T!m#S#U#X#q#z$P$Y$i$j$q$v%Sp![Z]!T!m#S#U#X#q#z$P$Y$i$j$q$v%SQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#x!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ${$eR%X$zSgPwQ!phQ#r!nR$l#sZfPhw!n#sa!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$e#m$fR%V$yV$c#m$f$yQ!rjR#v!rQdOShPwU!ldh#sR#s!nQ$P#SU$p$P$v%SQ$v$YR%S$qQ#_!ZR$W#_Q$r$PR%T$rQpUS!vp$nR$n#|Q$j#qR%P$jQ!ogS#t!o#uR#u!pQ#f!_R$^#fQ$f#mR$|$fQ$z$eR%W$z_cOPdhw!n#s^UOPdhw!n#sQ!uoQ!}tQ#OuQ#PvQ#|#RR$_#hR$Q#SQ!VZQ!d]Q#V!TQ#q!m[$O#S$P$Y$q$v%SQ$R#UQ$T#XS$h#q$jQ$m#zR%O$iR#}#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$[#dR$]#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[Eee],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Cee,Ree,Aee,1,2,3,4,new Ef("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>qee[t]||-1},{term:58,get:t=>Mee[t]||-1},{term:101,get:t=>Zee[t]||-1}],tokenPrec:1200});var Cp;const Uo=new ze;function TT(t){return _e.define({combine:t?e=>e.concat(t):void 0})}const Uv=new ze;class Zi{constructor(e,n,i=[],r=""){this.data=e,this.name=r,tt.prototype.hasOwnProperty("tree")||Object.defineProperty(tt.prototype,"tree",{get(){return bt(this)}}),this.parser=n,this.extension=[Mr.of(this),tt.languageData.of((s,o,a)=>{let l=C1(s,o,a),c=l.type.prop(Uo);if(!c)return[];let u=s.facet(c),f=l.type.prop(Uv);if(f){let h=l.resolve(o-l.from,a);for(let d of f)if(d.test(h,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(u)}}return u})].concat(i)}isActiveAt(e,n,i=-1){return C1(e,n,i).type.prop(Uo)==this.data}findRegions(e){let n=e.facet(Mr);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(Uo)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(ze.mounted);if(a){if(a.tree.prop(Uo)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Mt&&r(c,s.positions[l]+o)}};return r(bt(e),0),i}get allowsNesting(){return!0}}Zi.setState=qe.define();function C1(t,e,n){let i=t.facet(Mr),r=bt(t).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,n,xt.ExcludeBuffers))s.type.isTop&&(r=s);return r}class go extends Zi{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=TT(e.languageData);return new go(n,e.parser.configure({props:[Uo.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new go(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function bt(t){let e=t.field(Zi.state,!1);return e?e.tree:Mt.empty}class jee{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let cl=null;class jf{constructor(e,n,i=[],r,s,o,a,l){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new jf(e,n,[],Mt.empty,0,i,[],null)}startParse(){return this.parser.startParse(new jee(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Mt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Qr.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Qr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=cl;cl=this;try{return e()}finally{cl=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=R1(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,h)=>l.push({fromA:c,toA:u,fromB:f,toB:h})),i=Qr.applyChanges(i,l),r=Mt.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new jf(this.parser,n,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=R1(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends cT{createParse(n,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=cl;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Mt(An.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return cl}}function R1(t,e,n){return Qr.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class wa{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new wa(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=jf.create(e.facet(Mr).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new wa(i)}}Zi.state=Xt.define({create:wa.init,update(t,e){for(let n of e.effects)if(n.is(Zi.setState))return n.value;return e.startState.facet(Mr)!=e.state.facet(Mr)?wa.init(e.state):t.apply(e)}});let AT=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(AT=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Rp=typeof navigator<"u"&&(!((Cp=navigator.scheduling)===null||Cp===void 0)&&Cp.isInputPending)?()=>navigator.scheduling.isInputPending():null,Wee=Dt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Zi.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Zi.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=AT(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Zi.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Rp?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>Rp&&Rp()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Zi.setState.of(new wa(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Wn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Mr=_e.define({combine(t){return t.length?t[0]:null},enables:t=>[Zi.state,Wee,ve.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class nd{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const Bee=_e.define(),id=_e.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Wf(t){let e=t.facet(id);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function uu(t,e){let n="",i=t.tabSize,r=t.facet(id)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let s=0;s<e;s++)n+=r;return n}function Vv(t,e){t instanceof tt&&(t=new rd(t));for(let i of t.state.facet(Bee)){let r=i(t,e);if(r!==void 0)return r}let n=bt(t.state);return n.length>=e?Iee(t,n,e):null}class rd{constructor(e,n={}){this.state=e,this.options=n,this.unit=Wf(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,n=e.length){return Ua(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Gu=new ze;function Iee(t,e,n){let i=e.resolveStack(n),r=i.node.enterUnfinishedNodesBefore(n);if(r!=i.node){let s=[];for(let o=r;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return CT(i,t,n)}function CT(t,e,n){for(let i=t;i;i=i.next){let r=Uee(i.node);if(r)return r(Lv.create(e,n,i))}return 0}function Xee(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Uee(t){let e=t.type.prop(Gu);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(ze.closedBy))){let r=t.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>RT(o,!0,1,void 0,s&&!Xee(o)?r.from:void 0)}return t.parent==null?Vee:null}function Vee(){return 0}class Lv extends rd{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.context=i}get node(){return this.context.node}static create(e,n,i){return new Lv(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(n.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Lee(i,e))break;n=this.state.doc.lineAt(i.from)}return this.lineIndent(n.from)}continue(){return CT(this.context.next,this.base,this.pos)}}function Lee(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function zee(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?n:null;a=l.to}}function Yee({closing:t,align:e=!0,units:n=1}){return i=>RT(i,e,n,t)}function RT(t,e,n,i,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==t.pos+o,l=e?zee(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const Nee=t=>t.baseIndent;function nf({except:t,units:e=1}={}){return n=>{let i=t&&t.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const Fee=200;function Gee(){return tt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+Fee)return t;let s=n.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=Vv(o,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],d=uu(o,f);h!=d&&l.push({from:u.from,to:u.from+h.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const Hee=_e.define(),Hu=new ze;function ET(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function Kee(t,e,n){let i=bt(t);if(i.length<n)return null;let r=i.resolveStack(n,1),s=null;for(let o=r;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(Hu);if(l&&(a.to<i.length-50||i.length==t.doc.length||!Jee(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function Jee(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Bf(t,e,n){for(let i of t.facet(Hee)){let r=i(t,e,n);if(r)return r}return Kee(t,e,n)}function qT(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const sd=qe.define({map:qT}),Ku=qe.define({map:qT});function MT(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(i=>i.from<=n&&i.to>=n)||e.push(t.lineBlockAt(n));return e}const mo=Xt.define({create(){return Pe.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(sd)&&!ete(t,n.value.from,n.value.to)){let{preparePlaceholder:i}=e.state.facet(jT),r=i?Pe.replace({widget:new ate(i(e.state,n.value))}):E1;t=t.update({add:[r.range(n.value.from,n.value.to)]})}else n.is(Ku)&&(t=t.update({filter:(i,r)=>n.value.from!=i||n.value.to!=r,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,(r,s)=>{r<i&&s>i&&(n=!0)}),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return t},provide:t=>ve.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(i,r)=>{n.push(i,r)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(E1.range(i,r))}return Pe.set(e,!0)}});function If(t,e,n){var i;let r=null;return(i=t.field(mo,!1))===null||i===void 0||i.between(e,n,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function ete(t,e,n){let i=!1;return t.between(e,e,(r,s)=>{r==e&&s==n&&(i=!0)}),i}function ZT(t,e){return t.field(mo,!1)?e:e.concat(qe.appendConfig.of(WT()))}const tte=t=>{for(let e of MT(t)){let n=Bf(t.state,e.from,e.to);if(n)return t.dispatch({effects:ZT(t.state,[sd.of(n),DT(t,n)])}),!0}return!1},nte=t=>{if(!t.state.field(mo,!1))return!1;let e=[];for(let n of MT(t)){let i=If(t.state,n.from,n.to);i&&e.push(Ku.of(i),DT(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function DT(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return ve.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${r}.`)}const ite=t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),s=Bf(e,r.from,r.to);s&&n.push(sd.of(s)),i=(s?t.lineBlockAt(s.to):r).to+1}return n.length&&t.dispatch({effects:ZT(t.state,n)}),!!n.length},rte=t=>{let e=t.state.field(mo,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(i,r)=>{n.push(Ku.of({from:i,to:r}))}),t.dispatch({effects:n}),!0},ste=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:tte},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:nte},{key:"Ctrl-Alt-[",run:ite},{key:"Ctrl-Alt-]",run:rte}],ote={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},jT=_e.define({combine(t){return br(t,ote)}});function WT(t){return[mo,cte]}function BT(t,e){let{state:n}=t,i=n.facet(jT),r=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=If(t.state,a.from,a.to);l&&t.dispatch({effects:Ku.of(l)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const E1=Pe.replace({widget:new class extends yr{toDOM(t){return BT(t,null)}}});class ate extends yr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return BT(e,this.value)}}const lte={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ep extends qr{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function ute(t={}){let e=Object.assign(Object.assign({},lte),t),n=new Ep(e,!0),i=new Ep(e,!1),r=Dt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Mr)!=o.state.facet(Mr)||o.startState.field(mo,!1)!=o.state.field(mo,!1)||bt(o.startState)!=bt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new ws;for(let l of o.viewportLineBlocks){let c=If(o.state,l.from,l.to)?i:Bf(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,GK({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||it.empty},initialSpacer(){return new Ep(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=If(o.state,a.from,a.to);if(c)return o.dispatch({effects:Ku.of(c)}),!0;let u=Bf(o.state,a.from,a.to);return u?(o.dispatch({effects:sd.of(u)}),!0):!1}})}),WT()]}const cte=ve.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ju{constructor(e,n){this.specs=e;let i;function r(a){let l=xs.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,o=n.scope;this.scope=o instanceof Zi?a=>a.prop(Uo)==o.data:o?a=>a==o:void 0,this.style=pT(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new xs(i):null,this.themeType=n.themeType}static define(e,n){return new Ju(e,n||{})}}const $m=_e.define(),IT=_e.define({combine(t){return t.length?[t[0]]:null}});function qp(t){let e=t.facet($m);return e.length?e:t.facet(IT)}function zv(t,e){let n=[hte],i;return t instanceof Ju&&(t.module&&n.push(ve.styleModule.of(t.module)),i=t.themeType),e!=null&&e.fallback?n.push(IT.of(t)):i?n.push($m.computeN([ve.darkTheme],r=>r.facet(ve.darkTheme)==(i=="dark")?[t]:[])):n.push($m.of(t)),n}class fte{constructor(e){this.markCache=Object.create(null),this.tree=bt(e.state),this.decorations=this.buildDeco(e,qp(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=bt(e.state),i=qp(e.state),r=i!=qp(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!r&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Pe.none;let i=new ws;for(let{from:r,to:s}of e.visibleRanges)RJ(this.tree,n,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Pe.mark({class:l})))},r,s);return i.finish()}}const hte=Ms.high(Dt.fromClass(fte,{decorations:t=>t.decorations})),dte=Ju.define([{tag:C.meta,color:"#404740"},{tag:C.link,textDecoration:"underline"},{tag:C.heading,textDecoration:"underline",fontWeight:"bold"},{tag:C.emphasis,fontStyle:"italic"},{tag:C.strong,fontWeight:"bold"},{tag:C.strikethrough,textDecoration:"line-through"},{tag:C.keyword,color:"#708"},{tag:[C.atom,C.bool,C.url,C.contentSeparator,C.labelName],color:"#219"},{tag:[C.literal,C.inserted],color:"#164"},{tag:[C.string,C.deleted],color:"#a11"},{tag:[C.regexp,C.escape,C.special(C.string)],color:"#e40"},{tag:C.definition(C.variableName),color:"#00f"},{tag:C.local(C.variableName),color:"#30a"},{tag:[C.typeName,C.namespace],color:"#085"},{tag:C.className,color:"#167"},{tag:[C.special(C.variableName),C.macroName],color:"#256"},{tag:C.definition(C.propertyName),color:"#00c"},{tag:C.comment,color:"#940"},{tag:C.invalid,color:"#f00"}]),pte=ve.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),XT=1e4,UT="()[]{}",VT=_e.define({combine(t){return br(t,{afterCursor:!0,brackets:UT,maxScanDistance:XT,renderMatch:Ote})}}),gte=Pe.mark({class:"cm-matchingBracket"}),mte=Pe.mark({class:"cm-nonmatchingBracket"});function Ote(t){let e=[],n=t.matched?gte:mte;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const vte=Xt.define({create(){return Pe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(VT);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=sr(e.state,r.head,-1,i)||r.head>0&&sr(e.state,r.head-1,1,i)||i.afterCursor&&(sr(e.state,r.head,1,i)||r.head<e.state.doc.length&&sr(e.state,r.head+1,-1,i));s&&(n=n.concat(i.renderMatch(s,e.state)))}return Pe.set(n,!0)},provide:t=>ve.decorations.from(t)}),bte=[vte,pte];function yte(t={}){return[VT.of(t),bte]}const LT=new ze;function km(t,e,n){let i=t.prop(e<0?ze.openedBy:ze.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function Pm(t){let e=t.type.prop(LT);return e?e(t.node):t}function sr(t,e,n,i={}){let r=i.maxScanDistance||XT,s=i.brackets||UT,o=bt(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=km(l.type,n,s);if(c&&l.from<l.to){let u=Pm(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return _te(t,e,n,l,u,c,s)}}return wte(t,e,n,o,a.type,r,s)}function _te(t,e,n,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(i.from):u.childAfter(i.to)))do if(n<0?u.to<=i.from:u.from>=i.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let f=Pm(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(km(u.type,n,o))c++;else if(km(u.type,-n,o)){if(c==0){let f=Pm(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function wte(t,e,n,i,r,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=s;){let d=u.value;n<0&&(h+=d.length);let p=e+h*n;for(let m=n>0?0:d.length-1,O=n>0?d.length:-1;m!=O;m+=n){let v=o.indexOf(d[m]);if(!(v<0||i.resolveInner(p+m,1).type!=r))if(v%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:p+m,to:p+m+1},matched:v>>1==l>>1};f--}}n>0&&(h+=d.length)}return u.done?{start:c,matched:!1}:null}const xte=Object.create(null),q1=[An.none],M1=[],Z1=Object.create(null),Ste=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Ste[t]=$te(xte,e);function Mp(t,e){M1.indexOf(t)>-1||(M1.push(t),console.warn(e))}function $te(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||C[c];u?typeof u=="function"?l.length?l=l.map(u):Mp(c,`Modifier ${c} used at start of tag`):l.length?Mp(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Mp(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+n.map(a=>a.id),s=Z1[r];if(s)return s.id;let o=Z1[r]=An.define({id:q1.length,name:i,props:[Fu({[i]:n})]});return q1.push(o),o.id}Tt.RTL,Tt.LTR;let Zp=null;function Dp(){if(!Zp&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let i in t)i!="cssText"&&i!="cssFloat"&&typeof t[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),n.has(i)||(e.push(i),n.add(i)));Zp=e.sort().map(i=>({type:"property",label:i}))}return Zp||[]}const D1=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),j1=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),kte=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),Jr=/^(\w[\w-]*|-\w[\w-]*|)$/,Pte=/^-(-[\w-]*)?$/;function Qte(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let i=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(i==null?void 0:i.name)!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const W1=new uT,Tte=["Declaration"];function Ate(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function zT(t,e,n){if(e.to-e.from>4096){let i=W1.get(e);if(i)return i;let r=[],s=new Set,o=e.cursor(xt.IncludeAnonymous);if(o.firstChild())do for(let a of zT(t,o.node,n))s.has(a.label)||(s.add(a.label),r.push(a));while(o.nextSibling());return W1.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(Tte)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);r.has(a)||(r.add(a),i.push({label:a,type:"variable"}))}}),i}}const Cte=t=>e=>{let{state:n,pos:i}=e,r=bt(n).resolveInner(i,-1),s=r.type.isError&&r.from==r.to-1&&n.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(s||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:Dp(),validFor:Jr};if(r.name=="ValueName")return{from:r.from,options:j1,validFor:Jr};if(r.name=="PseudoClassName")return{from:r.from,options:D1,validFor:Jr};if(t(r)||(e.explicit||s)&&Qte(r,n.doc))return{from:t(r)||s?r.from:i,options:zT(n.doc,Ate(r),t),validFor:Pte};if(r.name=="TagName"){for(let{parent:l}=r;l;l=l.parent)if(l.name=="Block")return{from:r.from,options:Dp(),validFor:Jr};return{from:r.from,options:kte,validFor:Jr}}if(!e.explicit)return null;let o=r.resolve(i),a=o.childBefore(i);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:i,options:D1,validFor:Jr}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:i,options:j1,validFor:Jr}:o.name=="Block"||o.name=="Styles"?{from:i,options:Dp(),validFor:Jr}:null},Rte=Cte(t=>t.name=="VariableName"),Zr=go.define({name:"css",parser:Dee.configure({props:[Gu.add({Declaration:nf()}),Hu.add({"Block KeyframeList":ET})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function cu(){return new nd(Zr,Zr.data.of({autocomplete:Rte}))}const Ete=312,B1=1,qte=2,Mte=3,Zte=4,Dte=313,jte=315,Wte=316,Bte=5,Ite=6,Xte=0,Qm=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],YT=125,Ute=59,Tm=47,Vte=42,Lte=43,zte=45,Yte=60,Nte=44,Fte=63,Gte=46,Hte=new Bv({start:!1,shift(t,e){return e==Bte||e==Ite||e==jte?t:e==Wte},strict:!1}),Kte=new xn((t,e)=>{let{next:n}=t;(n==YT||n==-1||e.context)&&t.acceptToken(Dte)},{contextual:!0,fallback:!0}),Jte=new xn((t,e)=>{let{next:n}=t,i;Qm.indexOf(n)>-1||n==Tm&&((i=t.peek(1))==Tm||i==Vte)||n!=YT&&n!=Ute&&n!=-1&&!e.context&&t.acceptToken(Ete)},{contextual:!0}),ene=new xn((t,e)=>{let{next:n}=t;if(n==Lte||n==zte){if(t.advance(),n==t.next){t.advance();let i=!e.context&&e.canShift(B1);t.acceptToken(i?B1:qte)}}else n==Fte&&t.peek(1)==Gte&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(Mte))},{contextual:!0});function jp(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const tne=new xn((t,e)=>{if(t.next!=Yte||!e.dialectEnabled(Xte)||(t.advance(),t.next==Tm))return;let n=0;for(;Qm.indexOf(t.next)>-1;)t.advance(),n++;if(jp(t.next,!0)){for(t.advance(),n++;jp(t.next,!1);)t.advance(),n++;for(;Qm.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==Nte)return;for(let i=0;;i++){if(i==7){if(!jp(t.next,!0))return;break}if(t.next!="extends".charCodeAt(i))break;t.advance(),n++}}t.acceptToken(Zte,-n)}),nne=Fu({"get set async static":C.modifier,"for while do if else switch try catch finally return throw break continue default case":C.controlKeyword,"in of await yield void typeof delete instanceof":C.operatorKeyword,"let var const using function class extends":C.definitionKeyword,"import export from":C.moduleKeyword,"with debugger as new":C.keyword,TemplateString:C.special(C.string),super:C.atom,BooleanLiteral:C.bool,this:C.self,null:C.null,Star:C.modifier,VariableName:C.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":C.function(C.variableName),VariableDefinition:C.definition(C.variableName),Label:C.labelName,PropertyName:C.propertyName,PrivatePropertyName:C.special(C.propertyName),"CallExpression/MemberExpression/PropertyName":C.function(C.propertyName),"FunctionDeclaration/VariableDefinition":C.function(C.definition(C.variableName)),"ClassDeclaration/VariableDefinition":C.definition(C.className),PropertyDefinition:C.definition(C.propertyName),PrivatePropertyDefinition:C.definition(C.special(C.propertyName)),UpdateOp:C.updateOperator,"LineComment Hashbang":C.lineComment,BlockComment:C.blockComment,Number:C.number,String:C.string,Escape:C.escape,ArithOp:C.arithmeticOperator,LogicOp:C.logicOperator,BitOp:C.bitwiseOperator,CompareOp:C.compareOperator,RegExp:C.regexp,Equals:C.definitionOperator,Arrow:C.function(C.punctuation),": Spread":C.punctuation,"( )":C.paren,"[ ]":C.squareBracket,"{ }":C.brace,"InterpolationStart InterpolationEnd":C.special(C.brace),".":C.derefOperator,", ;":C.separator,"@":C.meta,TypeName:C.typeName,TypeDefinition:C.definition(C.typeName),"type enum interface implements namespace module declare":C.definitionKeyword,"abstract global Privacy readonly override":C.modifier,"is keyof unique infer":C.operatorKeyword,JSXAttributeValue:C.attributeValue,JSXText:C.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":C.angleBracket,"JSXIdentifier JSXNameSpacedName":C.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":C.attributeName,"JSXBuiltin/JSXIdentifier":C.standard(C.tagName)}),ine={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,extends:54,this:58,true:66,false:66,null:78,void:82,typeof:86,super:102,new:136,delete:148,yield:157,await:161,class:166,public:229,private:229,protected:229,readonly:231,instanceof:250,satisfies:253,in:254,const:256,import:290,keyof:345,unique:349,infer:355,is:391,abstract:411,implements:413,type:415,let:418,var:420,using:423,interface:429,enum:433,namespace:439,module:441,declare:445,global:449,for:468,of:477,while:480,with:484,do:488,if:492,else:494,switch:498,case:504,try:510,catch:514,finally:518,return:522,throw:526,break:530,continue:534,debugger:538},rne={__proto__:null,async:123,get:125,set:127,declare:189,public:191,private:191,protected:191,static:193,abstract:195,override:197,readonly:203,accessor:205,new:395},sne={__proto__:null,"<":187},NT=po.deserialize({version:14,states:"$@QO%TQ^OOO%[Q^OOO'_Q`OOP(lOWOOO*zQ?NdO'#CiO+RO!bO'#CjO+aO#tO'#CjO+oO!0LbO'#D^O.QQ^O'#DdO.bQ^O'#DoO%[Q^O'#DwO0fQ^O'#EPOOQ?Mr'#EX'#EXO1PQWO'#EUOOQO'#Em'#EmOOQO'#Ih'#IhO1XQWO'#GpO1dQWO'#ElO1iQWO'#ElO3hQ?NdO'#JmO6[Q?NdO'#JnO6uQWO'#F[O6zQ&jO'#FsOOQ?Mr'#Fe'#FeO7VO,YO'#FeO7eQ7[O'#FzO9RQWO'#FyOOQ?Mr'#Jn'#JnOOQ?Mp'#Jm'#JmO9WQWO'#GtOOQU'#KZ'#KZO9cQWO'#IUO9hQ?MxO'#IVOOQU'#JZ'#JZOOQU'#IZ'#IZQ`Q^OOO`Q^OOO9pQMnO'#DsO9wQ^O'#D{O:OQ^O'#D}O9^QWO'#GpO:VQ7[O'#CoO:eQWO'#EkO:pQWO'#EvO:uQ7[O'#FdO;dQWO'#GpOOQO'#K['#K[O;iQWO'#K[O;wQWO'#GxO;wQWO'#GyO;wQWO'#G{O9^QWO'#HOO<nQWO'#HRO>VQWO'#CeO>gQWO'#H_O>oQWO'#HeO>oQWO'#HgO`Q^O'#HiO>oQWO'#HkO>oQWO'#HnO>tQWO'#HtO>yQ?MyO'#HzO%[Q^O'#H|O?UQ?MyO'#IOO?aQ?MyO'#IQO9hQ?MxO'#ISO?lQ?NdO'#CiO@nQ`O'#DiQOQWOOO%[Q^O'#D}OAUQWO'#EQO:VQ7[O'#EkOAaQWO'#EkOAlQpO'#FdOOQU'#Cg'#CgOOQ?Mp'#Dn'#DnOOQ?Mp'#Jq'#JqO%[Q^O'#JqOOQO'#Jt'#JtOOQO'#Id'#IdOBlQ`O'#EdOOQ?Mp'#Ec'#EcOOQ?Mp'#Jx'#JxOChQ?NQO'#EdOCrQ`O'#ETOOQO'#Js'#JsODWQ`O'#JtOEeQ`O'#ETOCrQ`O'#EdPErO#@ItO'#CbPOOO)CDx)CDxOOOO'#I['#I[OE}O!bO,59UOOQ?Mr,59U,59UOOOO'#I]'#I]OF]O#tO,59UO%[Q^O'#D`OOOO'#I_'#I_OFkO!0LbO,59xOOQ?Mr,59x,59xOFyQ^O'#I`OG^QWO'#JoOI]QrO'#JoO+}Q^O'#JoOIdQWO,5:OOIzQWO'#EmOJXQWO'#KOOJdQWO'#J}OJdQWO'#J}OJlQWO,5;ZOJqQWO'#J|OOQ?Mv,5:Z,5:ZOJxQ^O,5:ZOLvQ?NdO,5:cOMgQWO,5:kONQQ?MxO'#J{ONXQWO'#JzO9WQWO'#JzONmQWO'#JzONuQWO,5;YONzQWO'#JzO!#PQrO'#JnOOQ?Mr'#Ci'#CiO%[Q^O'#EPO!#oQrO,5:pOOQQ'#Ju'#JuOOQO-E<f-E<fO9^QWO,5=[O!$VQWO,5=[O!$[Q^O,5;WO!&_Q7[O'#EhO!'xQWO,5;WO!'}Q^O'#DvO!(XQ`O,5;aO!(aQ`O,5;aO%[Q^O,5;aOOQU'#FS'#FSOOQU'#FU'#FUO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bO%[Q^O,5;bOOQU'#FY'#FYO!(oQ^O,5;sOOQ?Mr,5;x,5;xOOQ?Mr,5;y,5;yOOQ?Mr,5;{,5;{O%[Q^O'#IlO!*rQ?MxO,5<gO%[Q^O,5;bO!&_Q7[O,5;bO!+aQ7[O,5;bO!-RQ7[O'#EZO%[Q^O,5;vOOQ?Mr,5;z,5;zO!-YQ&jO'#FiO!.VQ&jO'#KSO!-qQ&jO'#KSO!.^Q&jO'#KSOOQO'#KS'#KSO!.rQ&jO,5<ROOOS,5<_,5<_O!/TQ^O'#FuOOOS'#Ik'#IkO7VO,YO,5<PO!/[Q&jO'#FwOOQ?Mr,5<P,5<PO!/{Q!LQO'#CvOOQ?Mr'#Cz'#CzO!0`O!0LbO'#DOO!0|Q7[O,5<dO!1TQWO,5<fO!2pQ$ISO'#GVO!2}QWO'#GWO!3SQWO'#GWO!4rQ$ISO'#G[O!5nQ`O'#G`OOQO'#Gk'#GkO!+hQ7[O'#GjOOQO'#Gm'#GmO!+hQ7[O'#GlO!6aQ!LQO'#JgOOQ?Mr'#Jg'#JgO!6kQWO'#JfO!6yQWO'#JeO!7RQWO'#CuOOQ?Mr'#Cx'#CxO!7ZQWO'#CzOOQ?Mr'#DS'#DSOOQ?Mr'#DU'#DUO1SQWO'#DWO!+hQ7[O'#F}O!+hQ7[O'#GPO!7`QWO'#GRO!7eQWO'#GSO!3SQWO'#GYO!+hQ7[O'#G_O!7jQWO'#EnO!8XQWO,5<eOOQ?Mp'#Cr'#CrO!8aQWO'#EoO!9ZQ`O'#EpOOQ?Mp'#J|'#J|O!9bQ?MxO'#K]O9hQ?MxO,5=`O`Q^O,5>pOOQU'#Jc'#JcOOQU,5>q,5>qOOQU-E<X-E<XO!;aQ?NdO,5:_O!9UQ`O,5:]O!=zQ?NdO,5:gO%[Q^O,5:gO!@bQ?NdO,5:iOOQO,5@v,5@vO!ARQ7[O,5=[O!AaQ?MxO'#JdO9RQWO'#JdO!ArQ?MxO,59ZO!A}Q`O,59ZO!BVQ7[O,59ZO:VQ7[O,59ZO!BbQWO,5;WO!BjQWO'#H^O!COQWO'#K`O%[Q^O,5;|O!9UQ`O,5<OO!CWQWO,5=wO!C]QWO,5=wO!CbQWO,5=wO9hQ?MxO,5=wO;wQWO,5=gOOQO'#Cv'#CvO!CpQ`O,5=dO!CxQ7[O,5=eO!DTQWO,5=gO!DYQpO,5=jO!DbQWO'#K[O>tQWO'#HTO9^QWO'#HVO!DgQWO'#HVO:VQ7[O'#HXO!DlQWO'#HXOOQU,5=m,5=mO!DqQWO'#HYO!ESQWO'#CoO!EXQWO,59PO!EcQWO,59PO!GhQ^O,59POOQU,59P,59PO!GxQ?MxO,59PO%[Q^O,59PO!JTQ^O'#HaOOQU'#Hb'#HbOOQU'#Hc'#HcO`Q^O,5=yO!JkQWO,5=yO`Q^O,5>PO`Q^O,5>RO!JpQWO,5>TO`Q^O,5>VO!JuQWO,5>YO!JzQ^O,5>`OOQU,5>f,5>fO%[Q^O,5>fO9hQ?MxO,5>hOOQU,5>j,5>jO# UQWO,5>jOOQU,5>l,5>lO# UQWO,5>lOOQU,5>n,5>nO# rQ`O'#D[O%[Q^O'#JqO# |Q`O'#JqO#!kQ`O'#DjO#!|Q`O'#DjO#%_Q^O'#DjO#%fQWO'#JpO#%nQWO,5:TO#%sQWO'#EqO#&RQWO'#KPO#&ZQWO,5;[O#&`Q`O'#DjO#&mQ`O'#ESOOQ?Mr,5:l,5:lO%[Q^O,5:lO#&tQWO,5:lO>tQWO,5;VO!A}Q`O,5;VO!BVQ7[O,5;VO:VQ7[O,5;VO#&|QWO,5@]O#'RQ(CYO,5:pOOQO-E<b-E<bO#(XQ?NQO,5;OOCrQ`O,5:oO#(cQ`O,5:oOCrQ`O,5;OO!ArQ?MxO,5:oOOQ?Mp'#Eg'#EgOOQO,5;O,5;OO%[Q^O,5;OO#(pQ?MxO,5;OO#({Q?MxO,5;OO!A}Q`O,5:oOOQO,5;U,5;UO#)ZQ?MxO,5;OPOOO'#IY'#IYP#)oO#@ItO,58|POOO,58|,58|OOOO-E<Y-E<YOOQ?Mr1G.p1G.pOOOO-E<Z-E<ZO#)zQpO,59zOOOO-E<]-E<]OOQ?Mr1G/d1G/dO#*PQrO,5>zO+}Q^O,5>zOOQO,5?Q,5?QO#*ZQ^O'#I`OOQO-E<^-E<^O#*hQWO,5@ZO#*pQrO,5@ZO#*wQWO,5@iOOQ?Mr1G/j1G/jO%[Q^O,5@jO#+PQWO'#IfOOQO-E<d-E<dO#*wQWO,5@iOOQ?Mp1G0u1G0uOOQ?Mv1G/u1G/uOOQ?Mv1G0V1G0VO%[Q^O,5@gO#+eQ?MxO,5@gO#+vQ?MxO,5@gO#+}QWO,5@fO9WQWO,5@fO#,VQWO,5@fO#,eQWO'#IiO#+}QWO,5@fOOQ?Mp1G0t1G0tO!(XQ`O,5:rO!(dQ`O,5:rOOQQ,5:t,5:tO#-VQYO,5:tO#-_Q7[O1G2vO9^QWO1G2vOOQ?Mr1G0r1G0rO#-mQ?NdO1G0rO#.rQ?NbO,5;SOOQ?Mr'#GU'#GUO#/`Q?NdO'#JgO!$[Q^O1G0rO#1hQrO'#JrO%[Q^O'#JrO#1rQWO,5:bOOQ?Mr'#D['#D[OOQ?Mr1G0{1G0{O%[Q^O1G0{OOQ?Mr1G1e1G1eO#1wQWO1G0{O#4]Q?NdO1G0|O#4dQ?NdO1G0|O#6zQ?NdO1G0|O#7RQ?NdO1G0|O#9iQ?NdO1G0|O#<PQ?NdO1G0|O#<WQ?NdO1G0|O#<_Q?NdO1G0|O#>uQ?NdO1G0|O#>|Q?NdO1G0|O#AZQ07bO'#CiO#CUQ07bO1G1_O#C]Q07bO'#JnO#CpQ?NdO,5?WOOQ?Mp-E<j-E<jO#E}Q?NdO1G0|O#FzQ?NdO1G0|OOQ?Mr1G0|1G0|O#GzQ7[O'#JwO#HUQWO,5:uO#HZQ?NdO1G1bO#H}Q&jO,5<VO#IVQ&jO,5<WO#I_Q&jO'#FnO#IvQWO'#FmOOQO'#KT'#KTOOQO'#Ij'#IjO#I{Q&jO1G1mOOQ?Mr1G1m1G1mOOOS1G1x1G1xO#J^Q07bO'#JmO#JhQWO,5<aO!(oQ^O,5<aOOOS-E<i-E<iOOQ?Mr1G1k1G1kO#JmQ`O'#KSOOQ?Mr,5<c,5<cO#JuQ`O,5<cO!&_Q7[O'#DQOOOO'#I^'#I^O#JzO!0LbO,59jOOQ?Mr,59j,59jO%[Q^O1G2OO!7eQWO'#InO#KVQ7[O,5<xOOQ?Mr,5<u,5<uO!+hQ7[O'#IqO#KuQ7[O,5=UO!+hQ7[O'#IsO#LhQ7[O,5=WO!&_Q7[O,5=YOOQO1G2Q1G2QO#LrQpO'#CrO#MVQ$ISO'#EoO#NUQ`O'#G`O#NrQpO,5<qO#NyQWO'#KWO9WQWO'#KWO$ XQWO,5<sO!+hQ7[O,5<rO$ ^QWO'#GXO$ oQWO,5<rO$ tQpO'#GUO$!RQpO'#KXO$!]QWO'#KXO!&_Q7[O'#KXO$!bQWO,5<vO$!gQ`O'#GaO!5iQ`O'#GaO$!xQWO'#GcO$!}QWO'#GeO!3SQWO'#GhO$#SQ?MxO'#IpO$#_Q`O,5<zOOQ?Mv,5<z,5<zO$#fQ`O'#GaO$#tQ`O'#GbO$#|Q`O'#GbO$$RQ7[O,5=UO$$cQ7[O,5=WOOQ?Mr,5=Z,5=ZO!+hQ7[O,5@QO!+hQ7[O,5@QO$$sQWO'#IuO$%OQWO,5@PO$%WQWO,59aOOQ?Mr,59f,59fO$%zQ!LSO,59rOOQ?Mr'#Jk'#JkO$&mQ7[O,5<iO$'`Q7[O,5<kO@fQWO,5<mOOQ?Mr,5<n,5<nO$'jQWO,5<tO$'oQ7[O,5<yO$(PQWO'#JzO!$[Q^O1G2PO$(UQWO1G2PO9WQWO'#J}O9WQWO'#EqO%[Q^O'#EqO9WQWO'#IwO$(ZQ?MxO,5@wOOQU1G2z1G2zOOQU1G4[1G4[OOQ?Mr1G/y1G/yOOQ?Mr1G/w1G/wO$*]Q?NdO1G0ROOQU1G2v1G2vO!&_Q7[O1G2vO%[Q^O1G2vO#-bQWO1G2vO$,aQ7[O'#EhOOQ?Mp,5@O,5@OO$,kQ?MxO,5@OOOQU1G.u1G.uO!ArQ?MxO1G.uO!A}Q`O1G.uO!BVQ7[O1G.uO$,|QWO1G0rO$-RQWO'#CiO$-^QWO'#KaO$-fQWO,5=xO$-kQWO'#KaO$-pQWO'#KaO$.OQWO'#I}O$.^QWO,5@zO$.fQrO1G1hOOQ?Mr1G1j1G1jO9^QWO1G3cO@fQWO1G3cO$.mQWO1G3cO$.rQWO1G3cOOQU1G3c1G3cO!DTQWO1G3RO!&_Q7[O1G3OO$.wQWO1G3OOOQU1G3P1G3PO!&_Q7[O1G3PO$.|QWO1G3PO$/UQ`O'#G}OOQU1G3R1G3RO!5iQ`O'#IyO!DYQpO1G3UOOQU1G3U1G3UOOQU,5=o,5=oO$/^Q7[O,5=qO9^QWO,5=qO$!}QWO,5=sO9RQWO,5=sO!A}Q`O,5=sO!BVQ7[O,5=sO:VQ7[O,5=sO$/lQWO'#K_O$/wQWO,5=tOOQU1G.k1G.kO$/|Q?MxO1G.kO@fQWO1G.kO$0XQWO1G.kO9hQ?MxO1G.kO$2aQrO,5@|O$2nQWO,5@|O9WQWO,5@|O$2yQ^O,5={O$3QQWO,5={OOQU1G3e1G3eO`Q^O1G3eOOQU1G3k1G3kOOQU1G3m1G3mO>oQWO1G3oO$3VQ^O1G3qO$7ZQ^O'#HpOOQU1G3t1G3tO$7hQWO'#HvO>tQWO'#HxOOQU1G3z1G3zO$7pQ^O1G3zO9hQ?MxO1G4QOOQU1G4S1G4SOOQ?Mp'#G]'#G]O9hQ?MxO1G4UO9hQ?MxO1G4WO$;wQWO,5@]O!(oQ^O,5;]O9WQWO,5;]O>tQWO,5:UO!(oQ^O,5:UO!A}Q`O,5:UO$;|Q07bO,5:UOOQO,5;],5;]O$<WQ`O'#IaO$<nQWO,5@[OOQ?Mr1G/o1G/oO$<vQ`O'#IgO$=QQWO,5@kOOQ?Mp1G0v1G0vO#!|Q`O,5:UOOQO'#Ic'#IcO$=YQ`O,5:nOOQ?Mv,5:n,5:nO#&wQWO1G0WOOQ?Mr1G0W1G0WO%[Q^O1G0WOOQ?Mr1G0q1G0qO>tQWO1G0qO!A}Q`O1G0qO!BVQ7[O1G0qOOQ?Mp1G5w1G5wO!ArQ?MxO1G0ZOOQO1G0j1G0jO%[Q^O1G0jO$=aQ?MxO1G0jO$=lQ?MxO1G0jO!A}Q`O1G0ZOCrQ`O1G0ZO$=zQ?MxO1G0jOOQO1G0Z1G0ZO$>`Q?NdO1G0jPOOO-E<W-E<WPOOO1G.h1G.hOOOO1G/f1G/fO$>jQpO,5<gO$>rQrO1G4fOOQO1G4l1G4lO%[Q^O,5>zO$>|QWO1G5uO$?UQWO1G6TO$?^QrO1G6UO9WQWO,5?QO$?hQ?NdO1G6RO%[Q^O1G6RO$?xQ?MxO1G6RO$@ZQWO1G6QO$@ZQWO1G6QO9WQWO1G6QO$@cQWO,5?TO9WQWO,5?TOOQO,5?T,5?TO$@wQWO,5?TO$(PQWO,5?TOOQO-E<g-E<gOOQQ1G0^1G0^OOQQ1G0`1G0`O#-YQWO1G0`OOQU7+(b7+(bO!&_Q7[O7+(bO%[Q^O7+(bO$AVQWO7+(bO$AbQ7[O7+(bO$ApQ?NdO,5=UO$CxQ?NdO,5=WO$FQQ?NdO,5=UO$H`Q?NdO,5=WO$JnQ?NdO,59rO$LsQ?NdO,5<iO$N{Q?NdO,5<kO%#TQ?NdO,5<yOOQ?Mr7+&^7+&^O%%cQ?NdO7+&^O%&VQ^O'#IbO%&dQWO,5@^O%&lQrO,5@^OOQ?Mr1G/|1G/|O%&vQWO7+&gOOQ?Mr7+&g7+&gO%&{Q07bO,5:cO%[Q^O7+&yO%'VQ07bO,5:_O%'dQ07bO,5:gO%'nQ07bO,5:iO%'xQ7[O'#IeO%(SQWO,5@cOOQ?Mr1G0a1G0aOOQO1G1q1G1qOOQO1G1r1G1rO%([QtO,5<YO!(oQ^O,5<XOOQO-E<h-E<hOOQ?Mr7+'X7+'XOOOS7+'d7+'dOOOS1G1{1G1{O%(gQWO1G1{OOQ?Mr1G1}1G1}O%(lQpO,59lOOOO-E<[-E<[OOQ?Mr1G/U1G/UO%(sQ?NdO7+'jOOQ?Mr,5?Y,5?YO%)gQpO,5?YOOQ?Mr1G2d1G2dP!&_Q7[O'#InPOQ?Mr-E<l-E<lO%*VQ7[O,5?]OOQ?Mr-E<o-E<oO%*xQ7[O,5?_OOQ?Mr-E<q-E<qO%+SQpO1G2tO%+ZQpO'#CrO%+qQ7[O'#J}O%+xQ^O'#EqOOQ?Mr1G2]1G2]O%,SQWO'#ImO%,hQWO,5@rO%,hQWO,5@rO%,pQWO,5@rO%,{QWO,5@rOOQO1G2_1G2_O%-ZQ7[O1G2^O!+hQ7[O1G2^O%-kQ$ISO'#IoO%-xQWO,5@sO!&_Q7[O,5@sO%.QQpO,5@sOOQ?Mr1G2b1G2bOOQ?Mp,5<{,5<{OOQ?Mp,5<|,5<|O$(PQWO,5<|OCcQWO,5<|O!A}Q`O,5<{OOQO'#Gd'#GdO%.[QWO,5<}OOQ?Mp,5=P,5=PO$(PQWO,5=SOOQO,5?[,5?[OOQO-E<n-E<nOOQ?Mv1G2f1G2fO!5iQ`O,5<{O%.dQWO,5<|O$!xQWO,5<}O%.oQ`O,5<|O!+hQ7[O'#IqO%/`Q7[O1G2pO!+hQ7[O'#IsO%0RQ7[O1G2rO%0]Q7[O1G5lO%0gQ7[O1G5lOOQO,5?a,5?aOOQO-E<s-E<sOOQO1G.{1G.{O!9UQ`O,59tO%[Q^O,59tOOQ?Mr,5<h,5<hO%0tQWO1G2XO!+hQ7[O1G2`O%0yQ?NdO7+'kOOQ?Mr7+'k7+'kO!$[Q^O7+'kO%1mQWO,5;]OOQ?Mp,5?c,5?cOOQ?Mp-E<u-E<uO%1rQpO'#KYO#&wQWO7+(bO4UQrO7+(bO$AYQWO7+(bO%1|Q?NbO'#CiO%2aQ?NbO,5=QO%3RQWO,5=QOOQ?Mp1G5j1G5jOOQU7+$a7+$aO!ArQ?MxO7+$aO!A}Q`O7+$aO!$[Q^O7+&^O%3WQWO'#I|O%3oQWO,5@{OOQO1G3d1G3dO9^QWO,5@{O%3oQWO,5@{O%3wQWO,5@{OOQO,5?i,5?iOOQO-E<{-E<{OOQ?Mr7+'S7+'SO%3|QWO7+(}O9hQ?MxO7+(}O9^QWO7+(}O@fQWO7+(}OOQU7+(m7+(mO%4RQ?NbO7+(jO!&_Q7[O7+(jO%4]QpO7+(kOOQU7+(k7+(kO!&_Q7[O7+(kO%4dQWO'#K^O%4oQWO,5=iOOQO,5?e,5?eOOQO-E<w-E<wOOQU7+(p7+(pO%6RQ`O'#HWOOQU1G3]1G3]O!&_Q7[O1G3]O%[Q^O1G3]O%6YQWO1G3]O%6eQ7[O1G3]O9hQ?MxO1G3_O$!}QWO1G3_O9RQWO1G3_O!A}Q`O1G3_O!BVQ7[O1G3_O%6sQWO'#I{O%7XQWO,5@yO%7aQ`O,5@yOOQ?Mp1G3`1G3`OOQU7+$V7+$VO@fQWO7+$VO9hQ?MxO7+$VO%7lQWO7+$VO%[Q^O1G6hO%[Q^O1G6iO%7qQ?MxO1G6hO%7{Q^O1G3gO%8SQWO1G3gO%8XQ^O1G3gOOQU7+)P7+)PO9hQ?MxO7+)ZO`Q^O7+)]OOQU'#Kd'#KdOOQU'#JO'#JOO%8`Q^O,5>[OOQU,5>[,5>[O%[Q^O'#HqO%8mQWO'#HsOOQU,5>b,5>bO9WQWO,5>bOOQU,5>d,5>dOOQU7+)f7+)fOOQU7+)l7+)lOOQU7+)p7+)pOOQU7+)r7+)rO%8rQ`O1G5wO%9WQ07bO1G0wO%9bQWO1G0wOOQO1G/p1G/pO%9mQ07bO1G/pO>tQWO1G/pO!(oQ^O'#DjOOQO,5>{,5>{OOQO-E<_-E<_OOQO,5?R,5?ROOQO-E<e-E<eO!A}Q`O1G/pOOQO-E<a-E<aOOQ?Mv1G0Y1G0YOOQ?Mr7+%r7+%rO#&wQWO7+%rOOQ?Mr7+&]7+&]O>tQWO7+&]O!A}Q`O7+&]OOQO7+%u7+%uO$>`Q?NdO7+&UOOQO7+&U7+&UO%[Q^O7+&UO%9wQ?MxO7+&UO!ArQ?MxO7+%uO!A}Q`O7+%uO%:SQ?MxO7+&UO%:bQ?NdO7++mO%[Q^O7++mO%:rQWO7++lO%:rQWO7++lOOQO1G4o1G4oO9WQWO1G4oO%:zQWO1G4oOOQQ7+%z7+%zO#&wQWO<<K|O4UQrO<<K|O%;YQWO<<K|OOQU<<K|<<K|O!&_Q7[O<<K|O%[Q^O<<K|O%;bQWO<<K|O%;mQ?NdO,5?]O%=uQ?NdO,5?_O%?}Q?NdO1G2^O%B]Q?NdO1G2pO%DeQ?NdO1G2rO%FmQrO,5>|O%[Q^O,5>|OOQO-E<`-E<`O%FwQWO1G5xOOQ?Mr<<JR<<JRO%GPQ07bO1G0rO%IWQ07bO1G0|O%I_Q07bO1G0|O%K`Q07bO1G0|O%KgQ07bO1G0|O%MhQ07bO1G0|O& iQ07bO1G0|O& pQ07bO1G0|O& wQ07bO1G0|O&#xQ07bO1G0|O&$PQ07bO1G0|O&$WQ?NdO<<JeO&&OQ07bO1G0|O&&{Q07bO1G0|O&'{Q07bO'#JgO&*OQ07bO1G1bO&*]Q07bO1G0RO&*gQ7[O,5?POOQO-E<c-E<cO!(oQ^O'#FpOOQO'#KU'#KUOOQO1G1t1G1tO&*qQWO1G1sO&*vQ07bO,5?WOOOS7+'g7+'gOOOO1G/W1G/WOOQ?Mr1G4t1G4tO!+hQ7[O7+(`O&-WQrO'#CiO&-bQWO,5?XO9WQWO,5?XOOQO-E<k-E<kO&-pQWO1G6^O&-pQWO1G6^O&-xQWO1G6^O&.TQ7[O7+'xO&.eQpO,5?ZO&.oQWO,5?ZO!&_Q7[O,5?ZOOQO-E<m-E<mO&.tQpO1G6_O&/OQWO1G6_OOQ?Mp1G2h1G2hO$(PQWO1G2hOOQ?Mp1G2g1G2gO&/WQWO1G2iO!&_Q7[O1G2iOOQ?Mp1G2n1G2nO!A}Q`O1G2gOCcQWO1G2hO&/]QWO1G2iO&/eQWO1G2hO$!xQWO1G2iO&0XQ7[O,5?]OOQ?Mr-E<p-E<pO&0zQ7[O,5?_OOQ?Mr-E<r-E<rO!+hQ7[O7++WOOQ?Mr1G/`1G/`O&1UQWO1G/`OOQ?Mr7+'s7+'sO&1ZQ7[O7+'zO&1kQ?NdO<<KVOOQ?Mr<<KV<<KVO&2_QWO1G0wO!&_Q7[O'#IvO&2dQWO,5@tO&4fQrO<<K|O!&_Q7[O1G2lOOQU<<G{<<G{O!ArQ?MxO<<G{O&4mQ?NdO<<IxOOQ?Mr<<Ix<<IxOOQO,5?h,5?hO&5aQWO,5?hO&5fQWO,5?hOOQO-E<z-E<zO&5tQWO1G6gO&5tQWO1G6gO9^QWO1G6gO@fQWO<<LiOOQU<<Li<<LiO&5|QWO<<LiO9hQ?MxO<<LiOOQU<<LU<<LUO%4RQ?NbO<<LUOOQU<<LV<<LVO%4]QpO<<LVO&6RQ`O'#IxO&6^QWO,5@xO!(oQ^O,5@xOOQU1G3T1G3TO%+xQ^O'#JqOOQO'#Iz'#IzO9hQ?MxO'#IzO&6fQ`O,5=rOOQU,5=r,5=rO&6mQ`O'#EdO&7RQ`O'#GcO&7WQWO7+(wO&7]QWO7+(wOOQU7+(w7+(wO!&_Q7[O7+(wO%[Q^O7+(wO&7eQWO7+(wOOQU7+(y7+(yO9hQ?MxO7+(yO$!}QWO7+(yO9RQWO7+(yO!A}Q`O7+(yO&7pQWO,5?gOOQO-E<y-E<yOOQO'#HZ'#HZO&7{QWO1G6eO9hQ?MxO<<GqOOQU<<Gq<<GqO@fQWO<<GqO&8TQWO7+,SO&8YQWO7+,TO%[Q^O7+,SO%[Q^O7+,TOOQU7+)R7+)RO&8_QWO7+)RO&8dQ^O7+)RO&8kQWO7+)ROOQU<<Lu<<LuOOQU<<Lw<<LwOOQU-E<|-E<|OOQU1G3v1G3vO&8pQWO,5>]OOQU,5>_,5>_O&8uQWO1G3|O9WQWO7+&cO!(oQ^O7+&cOOQO7+%[7+%[O&8zQ07bO1G6UO>tQWO7+%[OOQ?Mr<<I^<<I^OOQ?Mr<<Iw<<IwO>tQWO<<IwOOQO<<Ip<<IpO$>`Q?NdO<<IpO%[Q^O<<IpOOQO<<Ia<<IaO!ArQ?MxO<<IaO&9UQ?MxO<<IpO&9aQ?NdO<= XO&9qQWO<= WOOQO7+*Z7+*ZO9WQWO7+*ZOOQUANAhANAhO&9yQrOANAhO!&_Q7[OANAhO#&wQWOANAhO4UQrOANAhO&:QQWOANAhO%[Q^OANAhO&:YQ?NdO7+'xO&<hQ?NdO,5?]O&>pQ?NdO,5?_O&@xQ?NdO7+'zO&CWQrO1G4hO&CbQ07bO7+&^O&EcQ07bO,5=UO&GgQ07bO,5=WO&GwQ07bO,5=UO&HXQ07bO,5=WO&HiQ07bO,59rO&JlQ07bO,5<iO&LlQ07bO,5<kO&N}Q07bO,5<yO'!pQ07bO7+'jO'!}Q07bO7+'kO'#[QWO,5<[OOQO7+'_7+'_O'#aQ7[O<<KzOOQO1G4s1G4sO'#hQWO1G4sO'#sQWO1G4sO'$RQWO7++xO'$RQWO7++xO!&_Q7[O1G4uO'$ZQpO1G4uO'$eQWO7++yOOQ?Mp7+(S7+(SO'$mQWO7+(TO'$xQpO7+(TOOQ?Mp7+(R7+(RO$(PQWO7+(SO'%PQWO7+(TO!&_Q7[O7+(TOCcQWO7+(SO'%UQWO7+(TO'%^Q7[O<<NrOOQ?Mr7+$z7+$zO'%hQpO,5?bOOQO-E<t-E<tO'%rQ?NbO7+(WOOQUAN=gAN=gO9^QWO1G5SOOQO1G5S1G5SO'&SQWO1G5SO'&XQWO7+,RO'&XQWO7+,RO9hQ?MxOANBTO@fQWOANBTOOQUANBTANBTOOQUANApANApOOQUANAqANAqO'&aQWO,5?dOOQO-E<v-E<vO'&lQ07bO1G6dOOQO,5?f,5?fOOQO-E<x-E<xOOQU1G3^1G3^O%+xQ^O,5<}O'&vQWO,5<}OOQU<<Lc<<LcO!&_Q7[O<<LcO&7WQWO<<LcO'&{QWO<<LcO%[Q^O<<LcOOQU<<Le<<LeO9hQ?MxO<<LeO$!}QWO<<LeO9RQWO<<LeO''TQ`O1G5RO''`QWO7+,POOQUAN=]AN=]O9hQ?MxOAN=]OOQU<= n<= nOOQU<= o<= oO''hQWO<= nO''mQWO<= oOOQU<<Lm<<LmO''rQWO<<LmO''wQ^O<<LmOOQU1G3w1G3wO>tQWO7+)hO'(OQWO<<I}O'(ZQ07bO<<I}OOQO<<Hv<<HvOOQ?MrAN?cAN?cOOQOAN?[AN?[O$>`Q?NdOAN?[OOQOAN>{AN>{O%[Q^OAN?[OOQO<<Mu<<MuOOQUG27SG27SO!&_Q7[OG27SO#&wQWOG27SO'(eQrOG27SO4UQrOG27SO'(lQWOG27SO'(tQ07bO<<JeO')RQ07bO1G2^O'*tQ07bO,5?]O',tQ07bO,5?_O'.tQ07bO1G2pO'0tQ07bO1G2rO'2tQ07bO<<KVO'3RQ07bO<<IxOOQO1G1v1G1vO!+hQ7[OANAfOOQO7+*_7+*_O'3`QWO7+*_O'3kQWO<= dO'3sQpO7+*aOOQ?Mp<<Ko<<KoO$(PQWO<<KoOCcQWO<<KoO'3}QWO<<KoOOQ?Mp<<Kn<<KnO'4YQpO<<KoO$(PQWO<<KnO'4aQWO<<KoO!&_Q7[O<<KoOOQO7+*n7+*nO9^QWO7+*nO'4fQWO<= mOOQUG27oG27oO9hQ?MxOG27oO!(oQ^O1G5OO'4nQWO7+,OO&7WQWOANA}OOQUANA}ANA}O!&_Q7[OANA}O'4vQWOANA}OOQUANBPANBPO9hQ?MxOANBPO$!}QWOANBPOOQO'#H['#H[OOQO7+*m7+*mOOQUG22wG22wOOQUANEYANEYOOQUANEZANEZOOQUANBXANBXO'5OQWOANBXOOQU<<MS<<MSO!(oQ^OAN?iOOQOG24vG24vO$>`Q?NdOG24vO#&wQWOLD,nOOQULD,nLD,nO!&_Q7[OLD,nO'5TQrOLD,nO'5[Q07bO7+'xO'6}Q07bO,5?]O'8}Q07bO,5?_O':}Q07bO7+'zO'<pQ7[OG27QOOQO<<My<<MyOOQ?MpANAZANAZO$(PQWOANAZOCcQWOANAZO'=QQWOANAZOOQ?MpANAYANAYO'=]QpOANAZOOQO<<NY<<NYOOQULD-ZLD-ZO'=dQ07bO7+*jOOQUG27iG27iO&7WQWOG27iO!&_Q7[OG27iOOQUG27kG27kO9hQ?MxOG27kOOQUG27sG27sO'=nQ07bOG25TOOQOLD*bLD*bOOQU!$(!Y!$(!YO#&wQWO!$(!YO!&_Q7[O!$(!YO'=xQ?NdOG27QOOQ?MpG26uG26uO$(PQWOG26uOCcQWOG26uO'@WQWOG26uOOQULD-TLD-TO&7WQWOLD-TOOQULD-VLD-VOOQU!)9Et!)9EtO#&wQWO!)9EtOOQ?MpLD,aLD,aO$(PQWOLD,aOCcQWOLD,aOOQU!$(!o!$(!oOOQU!.K;`!.K;`O'@cQ07bOG27QOOQ?Mp!$( {!$( {O$(PQWO!$( {OOQ?Mp!)9Eg!)9EgO!(oQ^O'#DwO1PQWO'#EUO'BUQrO'#JmO'B]QMnO'#DsO'BdQ^O'#D{O'BkQrO'#CiO'ERQrO'#CiO!(oQ^O'#D}O'EcQ^O,5;WO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O,5;bO!(oQ^O'#IlO'GfQWO,5<gO!(oQ^O,5;bO'GnQ7[O,5;bO'IXQ7[O,5;bO!(oQ^O,5;vO!&_Q7[O'#GjO'GnQ7[O'#GjO!&_Q7[O'#GlO'GnQ7[O'#GlO1SQWO'#DWO1SQWO'#DWO!&_Q7[O'#F}O'GnQ7[O'#F}O!&_Q7[O'#GPO'GnQ7[O'#GPO!&_Q7[O'#G_O'GnQ7[O'#G_O!(oQ^O,5:gO'I`Q`O'#D[O!(oQ^O,5@jO'EcQ^O1G0rO'IjQ07bO'#CiO!(oQ^O1G2OO!&_Q7[O'#IqO'GnQ7[O'#IqO!&_Q7[O'#IsO'GnQ7[O'#IsO'ItQpO'#CrO!&_Q7[O,5<rO'GnQ7[O,5<rO'EcQ^O1G2PO!(oQ^O7+&yO!&_Q7[O1G2^O'GnQ7[O1G2^O!&_Q7[O'#IqO'GnQ7[O'#IqO!&_Q7[O'#IsO'GnQ7[O'#IsO!&_Q7[O1G2`O'GnQ7[O1G2`O'EcQ^O7+'kO'EcQ^O7+&^O!&_Q7[OANAfO'GnQ7[OANAfO'JXQWO'#ElO'J^QWO'#ElO'JfQWO'#F[O'JkQWO'#EvO'JpQWO'#KOO'J{QWO'#J|O'KWQWO,5;WO'K]Q7[O,5<dO'KdQWO'#GWO'KiQWO'#GWO'KnQWO,5<eO'KvQWO,5;WO'LOQ07bO1G1_O'LVQWO,5<rO'L[QWO,5<rO'LaQWO,5<tO'LfQWO,5<tO'LkQWO1G2PO'LpQWO1G0rO'LuQ7[O<<KzO'L|Q7[O<<KzO7eQ7[O'#FzO9RQWO'#FyOAaQWO'#EkO!(oQ^O,5;sO!3SQWO'#GWO!3SQWO'#GWO!3SQWO'#GYO!3SQWO'#GYO!+hQ7[O7+(`O!+hQ7[O7+(`O%+SQpO1G2tO%+SQpO1G2tO!&_Q7[O,5=YO!&_Q7[O,5=Y",stateData:"'NQ~O'wOS'xOSTOS'yRQ~OPYOQYOSfOY!VOaqOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#t!PO$V|O%e}O%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO&S!WO&Y!XO&[!YO&^!ZO&`![O&c!]O&i!^O&o!_O&q!`O&s!aO&u!bO&w!cO(OSO(QTO(TUO([VO(j[O(yiO~OWtO~P`OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa!wOp!nO!P!oO!_!yO!`!vO!a!vO!y;QO#Q!pO#R!pO#S!xO#T!pO#U!pO#X!zO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O'y!{O~OP]XR]X[]Xa]Xo]X}]X!P]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X'u]X([]X(m]X(t]X(u]X~O!d%PX~P(qO_!}O(Q#PO(R!}O(S#PO~O_#QO(S#PO(T#PO(U#QO~Ou#SO!R#TO(]#TO(^#VO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O;UO(QTO(TUO([VO(j[O(yiO~O!X#ZO!Y#WO!V(cP!V(qP~P+}O!Z#cO~P`OPYOQYOSfOd!jOe!iOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(QTO(TUO([VO(j[O(yiO~Om#mO!X#iO!y]O#f#lO#g#iO(O;VO!h(nP~P.iO!i#oO(O#nO~O!u#sO!y]O%e#tO~O#h#uO~O!d#vO#h#uO~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y$_O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa(aX'u(aX's(aX!h(aX!V(aX![(aX%f(aX!d(aX~P1qO#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX![(bX%f(bX~Oa(bX'u(bX's(bX!V(bX!h(bXs(bX!d(bX~P4UO#]$eO~O$[$hO$^$gO$e$mO~OSfO![$nO$h$oO$j$qO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O$sO(QTO(TUO([$uO(t$}O(u%POg(XP~O!i%cO~O!P%fO![%gO(O%eO~O!d%kO~Oa%lO'u%lO~O}%pO~P%[O(P!lO~P%[O%k%tO~P%[Oh%VO!i%cO(O%eO(P!lO~Oe%{O!i%cO(O%eO~O#s$RO~O}&QO![%}O!i&PO%g&TO(O%eO(P!lO(QTO(TUO`)SP~O!u#sO~O%p&VO!P)OX![)OX(O)OX~O(O&WO~O!r&]O#t!PO%g!QO%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO~Od&bOe&aO!u&_O%e&`O%x&^O~P;|Od&eOeyO![&dO!r&]O!uxO!y]O#t!PO%e}O%i!OO%j!OO%k!OO%n!RO%p!SO%s!TO%t!TO%v!UO~Ob&hO#]&kO%g&fO(P!lO~P=RO!i&lO!r&pO~O!i#oO~O![XO~Oa%lO't&xO'u%lO~Oa%lO't&{O'u%lO~Oa%lO't&}O'u%lO~O's]X!V]Xs]X!h]X&W]X![]X%f]X!d]X~P(qO!_'[O!`'TO!a'TO(P!lO(QTO(TUO~Op'RO!P'QO!X'UO(`'PO!Z(dP!Z(sP~P@YOk'_O![']O(O%eO~Oe'dO!i%cO(O%eO~O}&QO!i&PO~Op!nO!P!oO!y;QO#Q!pO#R!pO#T!pO#U!pO(P!lO(QTO(TUO(`!mO(j!sO~O!_'jO!`'iO!a'iO#S!pO#X'kO#Y'kO~PAtOa%lOh%VO!d#vO!i%cO'u%lO(m'mO~O!m'qO#]'oO~PCSOp!nO!P!oO(QTO(TUO(`!mO(j!sO~O![XOp(hX!P(hX!_(hX!`(hX!a(hX!y(hX#Q(hX#R(hX#S(hX#T(hX#U(hX#X(hX#Y(hX(P(hX(Q(hX(T(hX(`(hX(j(hX~O!`'iO!a'iO(P!lO~PCrO'z'uO'{'uO'|'wO~O_!}O(Q'yO(R!}O(S'yO~O_#QO(S'yO(T'yO(U#QO~Ou#SO!R#TO(]#TO(^'}O~O!X(PO!V'SX!V'YX!Y'SX!Y'YX~P+}O!Y(RO!V(cX~OP$[OR#zO[$cOo$aO}#yO!P#{O!Y(RO!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~O!V(cX~PGfO!V(WO~O!V(pX!Y(pX!d(pX!h(pX(m(pX~O#](pX#h#aX!Z(pX~PIiO#](XO!V(rX!Y(rX~O!Y(YO!V(qX~O!V(]O~O#]$eO~PIiO!Z(^O~P`OR#zO}#yO!P#{O!i#xO([VOP!ka[!kao!ka!Y!ka!m!ka#O!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#q!ka#r!ka#s!ka#u!ka#w!ka#y!ka#z!ka(m!ka(t!ka(u!ka~Oa!ka'u!ka's!ka!V!ka!h!kas!ka![!ka%f!ka!d!ka~PKPO!h(_O~O!d#vO#](`O(m'mO!Y(oXa(oX'u(oX~O!h(oX~PMlO!P%fO![%gO!y]O#f(eO#g(dO(O%eO~O!Y(fO!h(nX~O!h(hO~O!P%fO![%gO#g(dO(O%eO~OP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#s(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O!d#vO!h(bX~P! YOR(jO}(iO!i#xO#P$dO!y!xa!P!xa~O!u!xa%e!xa![!xa#f!xa#g!xa(O!xa~P!#ZO!u(nO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![XO!fuO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~O#h(tO~O!X(vO!h(fP~P%[O(`(xO(j[O~O!P(zO!i#xO(`(xO(j[O~OP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![!eO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(O)XO(QTO(TUO([VO(j[O(y<xO~O!Y$_Oa$oa'u$oa's$oa!h$oa!V$oa![$oa%f$oa!d$oa~O#t)`O~P!&_Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{%[O!P${O![$|O!f%aO!i$xO#g%bO$V%_O$r%]O$t%^O$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~Og(kP~P!+hO})eO!d)dO![$]X$Y$]X$[$]X$^$]X$e$]X~O!d)dO![(vX$Y(vX$[(vX$^(vX$e(vX~O})eO~P!-qO})eO![(vX$Y(vX$[(vX$^(vX$e(vX~O![)gO$Y)kO$[)fO$^)fO$e)lO~O!X)oO~P!(oO$[$hO$^$gO$e)sO~Ok$xX}$xX!P$xX#P$xX(t$xX(u$xX~OgjXg$xXkjX!YjX#]jX~P!/gOu)uO(])vO(^)xO~Ok*RO})zO!P){O(t$}O(u%PO~Og)yO~P!0kOg*SO~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P*UO![*VO!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(QTO(TUO([$uO(t$}O(u%PO~O!X*YO(O*TO!h(zP~P!1YO#h*[O~O!i*]O~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(O*_O(QTO(TUO([$uO(t$}O(u%PO~O!X*bO!V({P~P!3XOo*nO!P*fO!_*lO!`*eO!a*eO!i*]O#X*mO%]*hO(P!lO(`!mO~O!Z*kO~P!4|O#P$dOk(ZX}(ZX!P(ZX(t(ZX(u(ZX!Y(ZX#](ZX~Og(ZX#}(ZX~P!5uOk*sO#]*rOg(YX!Y(YX~O!Y*tOg(XX~O(O&WOg(XP~Op*wO~O!i*|O~O(O(rO~Om+QO!P%fO!X#iO![%gO!y]O#f#lO#g#iO(O%eO!h(nP~O!d#vO#h+RO~O!P%fO!X+TO!Y(YO![%gO(O%eO!V(qP~Op'XO!P+VO!X+UO(QTO(TUO(`(xO~O!Z(sP~P!8uO!Y+WOa)PX'u)PX~OP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO#y$WO#z$XO([VO(m$YO(t#|O(u#}O~Oa!ga!Y!ga'u!ga's!ga!V!ga!h!gas!ga![!ga%f!ga!d!ga~P!9mOR#zO}#yO!P#{O!i#xO([VOP!oa[!oao!oa!Y!oa!m!oa#O!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#q!oa#r!oa#s!oa#u!oa#w!oa#y!oa#z!oa(m!oa(t!oa(u!oa~Oa!oa'u!oa's!oa!V!oa!h!oas!oa![!oa%f!oa!d!oa~P!<TOR#zO}#yO!P#{O!i#xO([VOP!qa[!qao!qa!Y!qa!m!qa#O!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#q!qa#r!qa#s!qa#u!qa#w!qa#y!qa#z!qa(m!qa(t!qa(u!qa~Oa!qa'u!qa's!qa!V!qa!h!qas!qa![!qa%f!qa!d!qa~P!>kOh%VOk+aO![']O%f+`O~O!d+cOa(WX![(WX'u(WX!Y(WX~Oa%lO![XO'u%lO~Oh%VO!i%cO~Oh%VO!i%cO(O%eO~O!d#vO#h(tO~Ob+nO%g+oO(O+kO(QTO(TUO!Z)TP~O!Y+pO`)SX~O[+tO~O`+uO~O![%}O(O%eO(P!lO`)SP~Oh%VO#]+zO~Oh%VOk+}O![$|O~O![,PO~O},RO![XO~O%k%tO~O!u,WO~Oe,]O~Ob,^O(O#nO(QTO(TUO!Z)RP~Oe%{O~O%g!QO(O&WO~P=RO[,cO`,bO~OPYOQYOSfOdzOeyOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO!fuO!iZO!lYO!mYO!nYO!pvO!uxO!y]O%e}O(QTO(TUO([VO(j[O(yiO~O![!eO!r!gO$V!kO(O!dO~P!EkO`,bOa%lO'u%lO~OPYOQYOSfOd!jOe!iOmkOoYOpkOqkOwkOyYO{YO!PWO!TkO!UkO![!eO!fuO!iZO!lYO!mYO!nYO!pvO!u!hO$V!kO(O!dO(QTO(TUO([VO(j[O(yiO~Oa,hO!rwO#t!OO%i!OO%j!OO%k!OO~P!HTO!i&lO~O&Y,nO~O![,pO~O&k,rO&m,sOP&haQ&haS&haY&haa&had&hae&ham&hao&hap&haq&haw&hay&ha{&ha!P&ha!T&ha!U&ha![&ha!f&ha!i&ha!l&ha!m&ha!n&ha!p&ha!r&ha!u&ha!y&ha#t&ha$V&ha%e&ha%g&ha%i&ha%j&ha%k&ha%n&ha%p&ha%s&ha%t&ha%v&ha&S&ha&Y&ha&[&ha&^&ha&`&ha&c&ha&i&ha&o&ha&q&ha&s&ha&u&ha&w&ha's&ha(O&ha(Q&ha(T&ha([&ha(j&ha(y&ha!Z&ha&a&hab&ha&f&ha~O(O,xO~Oh!bX!Y!OX!Z!OX!d!OX!d!bX!i!bX#]!OX~O!Y!bX!Z!bX~P# ZO!d,}O#],|Oh(eX!Y#eX!Y(eX!Z#eX!Z(eX!d(eX!i(eX~Oh%VO!d-PO!i%cO!Y!^X!Z!^X~Op!nO!P!oO(QTO(TUO(`!mO~OP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![!eO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(QTO(TUO([VO(j[O(y<xO~O(O;zO~P##_O!Y-TO!Z(dX~O!Z-VO~O!d,}O#],|O!Y#eX!Z#eX~O!Y-WO!Z(sX~O!Z-YO~O!`-ZO!a-ZO(P!lO~P#!|O!Z-^O~P'_Ok-aO![']O~O!V-fO~Op!xa!_!xa!`!xa!a!xa#Q!xa#R!xa#S!xa#T!xa#U!xa#X!xa#Y!xa(P!xa(Q!xa(T!xa(`!xa(j!xa~P!#ZO!m-kO#]-iO~PCSO!`-mO!a-mO(P!lO~PCrOa%lO#]-iO'u%lO~Oa%lO!d#vO#]-iO'u%lO~Oa%lO!d#vO!m-kO#]-iO'u%lO(m'mO~O'z'uO'{'uO'|-rO~Os-sO~O!V'Sa!Y'Sa~P!9mO!X-wO!V'SX!Y'SX~P%[O!Y(RO!V(ca~O!V(ca~PGfO!Y(YO!V(qa~O!P%fO!X-{O![%gO(O%eO!V'YX!Y'YX~O#]-}O!Y(oa!h(oaa(oa'u(oa~O!d#vO~P#+eO!Y(fO!h(na~O!P%fO![%gO#g.RO(O%eO~Om.WO!P%fO!X.TO![%gO!y]O#f.VO#g.TO(O%eO!Y']X!h']X~OR.[O!i#xO~Oh%VOk._O![']O%f.^O~Oa#`i!Y#`i'u#`i's#`i!V#`i!h#`is#`i![#`i%f#`i!d#`i~P!9mOk=UO})zO!P){O(t$}O(u%PO~O#h#[aa#[a#]#[a'u#[a!Y#[a!h#[a![#[a!V#[a~P#.aO#h(ZXP(ZXR(ZX[(ZXa(ZXo(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX'u(ZX([(ZX(m(ZX!h(ZX!V(ZX's(ZXs(ZX![(ZX%f(ZX!d(ZX~P!5uO!Y.lO!h(fX~P!9mO!h.oO~O!V.qO~OP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jia#jio#ji!Y#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#k#ji~P#1|O#k$OO~P#1|OP$[OR#zOo$aO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO[#jia#ji!Y#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#o#ji~P#4kO#o$QO~P#4kOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO([VOa#ji!Y#ji#w#ji#y#ji#z#ji'u#ji(m#ji(t#ji(u#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#u#ji~P#7YOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO([VO(u#}Oa#ji!Y#ji#y#ji#z#ji'u#ji(m#ji(t#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#w$UO~P#9pO#w#ji~P#9pO#u$SO~P#7YOP$[OR#zO[$cOo$aO}#yO!P#{O!i#xO!m$[O#O$RO#k$OO#l$PO#m$PO#n$PO#o$QO#p$RO#q$RO#r$bO#s$RO#u$SO#w$UO([VO(t#|O(u#}Oa#ji!Y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~O#y#ji~P#<fO#y$WO~P#<fOP]XR]X[]Xo]X}]X!P]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X!Y]X!Z]X~O#}]X~P#?TOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O#w;`O#y;bO#z;cO([VO(m$YO(t#|O(u#}O~O#}.sO~P#AbO#P$dO#];iO$P;iO#}(bX!Z(bX~P! YOa'`a!Y'`a'u'`a's'`a!h'`a!V'`as'`a!['`a%f'`a!d'`a~P!9mO[#jia#jio#ji!Y#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji'u#ji(m#ji's#ji!V#ji!h#jis#ji![#ji%f#ji!d#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k$OO#l$PO#m$PO#n$PO([VO(t#ji(u#ji~P#DdOk=UO})zO!P){O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P#DdO!Y.wOg(kX~P!0kOg.yO~Oa$Oi!Y$Oi'u$Oi's$Oi!V$Oi!h$Ois$Oi![$Oi%f$Oi!d$Oi~P!9mO$[.zO$^.zO~O$[.{O$^.{O~O!d)dO#].|O![$bX$Y$bX$[$bX$^$bX$e$bX~O!X.}O~O![)gO$Y/PO$[)fO$^)fO$e/QO~O!Y;dO!Z(aX~P#AbO!Z/RO~O!d)dO$e(vX~O$e/TO~Ou)uO(])vO(^/WO~O!V/[O~P!&_O(t$}Ok%^a}%^a!P%^a(u%^a!Y%^a#]%^a~Og%^a#}%^a~P#K^O(u%POk%`a}%`a!P%`a(t%`a!Y%`a#]%`a~Og%`a#}%`a~P#LPO!YfX!dfX!hfX!h$xX(mfX~P!/gO!X/eO!Y(YO(O/dO!V(qP!V({P~P!1YOo*nO!_*lO!`*eO!a*eO!i*]O#X*mO%]*hO(P!lO~Op'XO!P/fO!X+UO!Z*kO(QTO(TUO(`;wO!Z(sP~P#MjO!h/gO~P#.aO!Y/hO!d#vO(m'mO!h(zX~O!h/mO~O!P%fO!X*YO![%gO(O%eO!h(zP~O#h/oO~O!V$xX!Y$xX!d%PX~P!/gO!Y/pO!V({X~P#.aO!d/rO~O!V/tO~Oh%VOo/xO!d#vO!i%cO(m'mO~O(O/zO~O!d+cO~Oa%lO!Y0OO'u%lO~O!Z0QO~P!4|O!`0RO!a0RO(P!lO(`!mO~O!P0TO(`!mO~O#X0UO~Og%^a!Y%^a#]%^a#}%^a~P!0kOg%`a!Y%`a#]%`a#}%`a~P!0kO(O&WOg'iX!Y'iX~O!Y*tOg(Xa~Og0_O~OR0`O}0`O!P0aO#P$dOkza(tza(uza!Yza#]za~Ogza#}za~P$%]O})zO!P){Ok$qa(t$qa(u$qa!Y$qa#]$qa~Og$qa#}$qa~P$&UO})zO!P){Ok$sa(t$sa(u$sa!Y$sa#]$sa~Og$sa#}$sa~P$&wO#h0dO~Og%Ra!Y%Ra#]%Ra#}%Ra~P!0kO!d#vO~O#h0gO~O!Y+WOa)Pa'u)Pa~OR#zO}#yO!P#{O!i#xO([VOP!oi[!oio!oi!Y!oi!m!oi#O!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#q!oi#r!oi#s!oi#u!oi#w!oi#y!oi#z!oi(m!oi(t!oi(u!oi~Oa!oi'u!oi's!oi!V!oi!h!ois!oi![!oi%f!oi!d!oi~P$(fOh%VOo%XOp$tOq$tOw%YOy%ZO{;nO!P${O![$|O!f=OO!i$xO#g;tO$V%_O$r;pO$t;rO$w%`O(QTO(TUO([$uO(t$}O(u%PO~Om0pO(O0oO~P$*|O!d+cOa(Wa![(Wa'u(Wa!Y(Wa~O#h0vO~O[]X!YfX!ZfX~O!Y0wO!Z)TX~O!Z0yO~O[0zO~Ob0|O(O+kO(QTO(TUO~O![%}O(O%eO`'qX!Y'qX~O!Y+pO`)Sa~O!h1PO~P!9mO[1SO~O`1TO~O#]1WO~Ok1ZO![$|O~O(`(xO!Z)QP~Oh%VOk1dO![1aO%f1cO~O[1nO!Y1lO!Z)RX~O!Z1oO~O`1qOa%lO'u%lO~O(O#nO(QTO(TUO~O#P$dO#]$eO$P$eOP(bXR(bX[(bXo(bX}(bX!P(bX!Y(bX!i(bX!m(bX#O(bX#k(bX#l(bX#m(bX#n(bX#o(bX#p(bX#q(bX#r(bX#u(bX#w(bX#y(bX#z(bX([(bX(m(bX(t(bX(u(bX~O#s1tO&W1uOa(bX~P$0dO#]$eO#s1tO&W1uO~Oa1wO~P%[Oa1yO~O&a1|OP&_iQ&_iS&_iY&_ia&_id&_ie&_im&_io&_ip&_iq&_iw&_iy&_i{&_i!P&_i!T&_i!U&_i![&_i!f&_i!i&_i!l&_i!m&_i!n&_i!p&_i!r&_i!u&_i!y&_i#t&_i$V&_i%e&_i%g&_i%i&_i%j&_i%k&_i%n&_i%p&_i%s&_i%t&_i%v&_i&S&_i&Y&_i&[&_i&^&_i&`&_i&c&_i&i&_i&o&_i&q&_i&s&_i&u&_i&w&_i's&_i(O&_i(Q&_i(T&_i([&_i(j&_i(y&_i!Z&_ib&_i&f&_i~Ob2SO!Z2QO&f2RO~P`O![XO!i2UO~O&m,sOP&hiQ&hiS&hiY&hia&hid&hie&him&hio&hip&hiq&hiw&hiy&hi{&hi!P&hi!T&hi!U&hi![&hi!f&hi!i&hi!l&hi!m&hi!n&hi!p&hi!r&hi!u&hi!y&hi#t&hi$V&hi%e&hi%g&hi%i&hi%j&hi%k&hi%n&hi%p&hi%s&hi%t&hi%v&hi&S&hi&Y&hi&[&hi&^&hi&`&hi&c&hi&i&hi&o&hi&q&hi&s&hi&u&hi&w&hi's&hi(O&hi(Q&hi(T&hi([&hi(j&hi(y&hi!Z&hi&a&hib&hi&f&hi~O!V2[O~O!Y!^a!Z!^a~P#AbOp!nO!P!oO!X2bO(`!mO!Y'TX!Z'TX~P@YO!Y-TO!Z(da~O!Y'ZX!Z'ZX~P!8uO!Y-WO!Z(sa~O!Z2iO~P'_Oa%lO#]2rO'u%lO~Oa%lO!d#vO#]2rO'u%lO~Oa%lO!d#vO!m2vO#]2rO'u%lO(m'mO~Oa%lO'u%lO~P!9mO!Y$_Os$oa~O!V'Si!Y'Si~P!9mO!Y(RO!V(ci~O!Y(YO!V(qi~O!V(ri!Y(ri~P!9mO!Y(oi!h(oia(oi'u(oi~P!9mO#]2xO!Y(oi!h(oia(oi'u(oi~O!Y(fO!h(ni~O!P%fO![%gO!y]O#f2}O#g2|O(O%eO~O!P%fO![%gO#g2|O(O%eO~Ok3UO![']O%f3TO~Oh%VOk3UO![']O%f3TO~O#h%^aP%^aR%^a[%^aa%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^as%^a![%^a%f%^a!d%^a~P#K^O#h%`aP%`aR%`a[%`aa%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`as%`a![%`a%f%`a!d%`a~P#LPO#h%^aP%^aR%^a[%^aa%^ao%^a!Y%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a'u%^a([%^a(m%^a!h%^a!V%^a's%^a#]%^as%^a![%^a%f%^a!d%^a~P#.aO#h%`aP%`aR%`a[%`aa%`ao%`a!Y%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a'u%`a([%`a(m%`a!h%`a!V%`a's%`a#]%`as%`a![%`a%f%`a!d%`a~P#.aO#hzaPza[zaazaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza'uza([za(mza!hza!Vza'szasza![za%fza!dza~P$%]O#h$qaP$qaR$qa[$qaa$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa'u$qa([$qa(m$qa!h$qa!V$qa's$qas$qa![$qa%f$qa!d$qa~P$&UO#h$saP$saR$sa[$saa$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa'u$sa([$sa(m$sa!h$sa!V$sa's$sas$sa![$sa%f$sa!d$sa~P$&wO#h%RaP%RaR%Ra[%Raa%Rao%Ra!Y%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra'u%Ra([%Ra(m%Ra!h%Ra!V%Ra's%Ra#]%Ras%Ra![%Ra%f%Ra!d%Ra~P#.aOa#`q!Y#`q'u#`q's#`q!V#`q!h#`qs#`q![#`q%f#`q!d#`q~P!9mO!X3^O!Y'UX!h'UX~P%[O!Y.lO!h(fa~O!Y.lO!h(fa~P!9mO!V3aO~O#}!ka!Z!ka~PKPO#}!ga!Y!ga!Z!ga~P#AbO#}!oa!Z!oa~P!<TO#}!qa!Z!qa~P!>kOg'XX!Y'XX~P!+hO!Y.wOg(ka~OSfO![3uO$c3vO~O!Z3zO~Os3{O~P#.aOa$lq!Y$lq'u$lq's$lq!V$lq!h$lqs$lq![$lq%f$lq!d$lq~P!9mO!V3|O~P#.aO})zO!P){O(u%POk'ea(t'ea!Y'ea#]'ea~Og'ea#}'ea~P%)nO})zO!P){Ok'ga(t'ga(u'ga!Y'ga#]'ga~Og'ga#}'ga~P%*aO(m$YO~P#.aO!VfX!V$xX!YfX!Y$xX!d%PX#]fX~P!/gO(O<QO~P!1YOmkO(O4OO~P.iO!P%fO!X4QO![%gO(O%eO!Y'aX!h'aX~O!Y/hO!h(za~O!Y/hO!d#vO!h(za~O!Y/hO!d#vO(m'mO!h(za~Og$zi!Y$zi#]$zi#}$zi~P!0kO!X4YO!V'cX!Y'cX~P!3XO!Y/pO!V({a~O!Y/pO!V({a~P#.aO!d#vO#s4bO~Oo4eO!d#vO(m'mO~O!P4hO(`!mO~O(t$}Ok%^i}%^i!P%^i(u%^i!Y%^i#]%^i~Og%^i#}%^i~P%.wO(u%POk%`i}%`i!P%`i(t%`i!Y%`i#]%`i~Og%`i#}%`i~P%/jOg(Yi!Y(Yi~P!0kO#]4mOg(Yi!Y(Yi~P!0kO!h4pO~Oa$mq!Y$mq'u$mq's$mq!V$mq!h$mqs$mq![$mq%f$mq!d$mq~P!9mO!V4tO~O!Y4uO![(|X~P#.aOa$xX![$xX%Z]X'u$xX!Y$xX~P!/gO%Z4xOalXklX}lX!PlX![lX'ulX(tlX(ulX!YlX~O%Z4xO~Ob5OO%g5PO(O+kO(QTO(TUO!Y'pX!Z'pX~O!Y0wO!Z)Ta~O[5TO~O`5UO~Oa%lO'u%lO~P#.aO![$|O~P#.aO!Y5^O#]5`O!Z)QX~O!Z5aO~Oo5hOp!nO!P5bO!_!yO!`!vO!a!vO!y;QO#Q!pO#R!pO#S!pO#T!pO#U!pO#X5gO#Y!zO(P!lO(QTO(TUO(`!mO(j!sO~O!Z5fO~P%4tOk5mO![1aO%f5lO~Oh%VOk5mO![1aO%f5lO~Ob5tO(O#nO(QTO(TUO!Y'oX!Z'oX~O!Y1lO!Z)Ra~O(QTO(TUO(`5vO~O`5zO~O#s5}O&W6OO~PMlO!h6PO~P%[Oa6RO~Oa6RO~P%[Ob2SO!Z6WO&f2RO~P`O!d6YO~O!d6[Oh(ei!Y(ei!Z(ei!d(ei!i(ei~O!Y#ei!Z#ei~P#AbO#]6]O!Y#ei!Z#ei~O!Y!^i!Z!^i~P#AbOa%lO#]6fO'u%lO~Oa%lO!d#vO#]6fO'u%lO~O!Y(oq!h(oqa(oq'u(oq~P!9mO!Y(fO!h(nq~O!P%fO![%gO#g6mO(O%eO~O![']O%f6pO~Ok6tO![']O%f6pO~O#h'eaP'eaR'ea['eaa'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea'u'ea(['ea(m'ea!h'ea!V'ea's'eas'ea!['ea%f'ea!d'ea~P%)nO#h'gaP'gaR'ga['gaa'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga'u'ga(['ga(m'ga!h'ga!V'ga's'gas'ga!['ga%f'ga!d'ga~P%*aO#h$ziP$ziR$zi[$zia$zio$zi!Y$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi'u$zi([$zi(m$zi!h$zi!V$zi's$zi#]$zis$zi![$zi%f$zi!d$zi~P#.aO#h%^iP%^iR%^i[%^ia%^io%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i'u%^i([%^i(m%^i!h%^i!V%^i's%^is%^i![%^i%f%^i!d%^i~P%.wO#h%`iP%`iR%`i[%`ia%`io%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i'u%`i([%`i(m%`i!h%`i!V%`i's%`is%`i![%`i%f%`i!d%`i~P%/jO!Y'Ua!h'Ua~P!9mO!Y.lO!h(fi~O#}#`i!Y#`i!Z#`i~P#AbOP$[OR#zO}#yO!P#{O!i#xO!m$[O([VO[#jio#ji#O#ji#l#ji#m#ji#n#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#k#ji~P%G^O#k;YO~P%G^OP$[OR#zOo;fO}#yO!P#{O!i#xO!m$[O#k;YO#l;ZO#m;ZO#n;ZO([VO[#ji#O#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#o#ji~P%IfO#o;[O~P%IfOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O([VO#w#ji#y#ji#z#ji#}#ji(m#ji(t#ji(u#ji!Y#ji!Z#ji~O#u#ji~P%KnOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O([VO(u#}O#y#ji#z#ji#}#ji(m#ji(t#ji!Y#ji!Z#ji~O#w;`O~P%MoO#w#ji~P%MoO#u;^O~P%KnOP$[OR#zO[;hOo;fO}#yO!P#{O!i#xO!m$[O#O;]O#k;YO#l;ZO#m;ZO#n;ZO#o;[O#p;]O#q;]O#r;gO#s;]O#u;^O#w;`O([VO(t#|O(u#}O#z#ji#}#ji(m#ji!Y#ji!Z#ji~O#y#ji~P&!OO#y;bO~P&!OOa#{y!Y#{y'u#{y's#{y!V#{y!h#{ys#{y![#{y%f#{y!d#{y~P!9mO[#jio#ji#O#ji#o#ji#p#ji#q#ji#r#ji#s#ji#u#ji#w#ji#y#ji#z#ji#}#ji(m#ji!Y#ji!Z#ji~OP$[OR#zO}#yO!P#{O!i#xO!m$[O#k;YO#l;ZO#m;ZO#n;ZO([VO(t#ji(u#ji~P&$zOk=VO})zO!P){O(t$}O(u%POP#jiR#ji!i#ji!m#ji#k#ji#l#ji#m#ji#n#ji([#ji~P&$zO#P$dOP(ZXR(ZX[(ZXk(ZXo(ZX}(ZX!P(ZX!i(ZX!m(ZX#O(ZX#k(ZX#l(ZX#m(ZX#n(ZX#o(ZX#p(ZX#q(ZX#r(ZX#s(ZX#u(ZX#w(ZX#y(ZX#z(ZX#}(ZX([(ZX(m(ZX(t(ZX(u(ZX!Y(ZX!Z(ZX~O#}$Oi!Y$Oi!Z$Oi~P#AbO#}!oi!Z!oi~P$(fOg'Xa!Y'Xa~P!0kO!Z7WO~O!Y'`a!Z'`a~P#AbOP]XR]X[]Xo]X}]X!P]X!V]X!Y]X!i]X!m]X#O]X#P]X#]]X#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!d%WX#s%WX~P&+QO!d#vO(m'mO!Y'aa!h'aa~O!Y/hO!h(zi~O!Y/hO!d#vO!h(zi~Og$zq!Y$zq#]$zq#}$zq~P!0kO!V'ca!Y'ca~P#.aO!d7_O~O!Y/pO!V({i~P#.aO!Y/pO!V({i~O!V7cO~O!d#vO#s7hO~Oo7iO!d#vO(m'mO~O})zO!P){O(u%POk'fa(t'fa!Y'fa#]'fa~Og'fa#}'fa~P&/pO})zO!P){Ok'ha(t'ha(u'ha!Y'ha#]'ha~Og'ha#}'ha~P&0cO!V7lO~Og$|q!Y$|q#]$|q#}$|q~P!0kOa$my!Y$my'u$my's$my!V$my!h$mys$my![$my%f$my!d$my~P!9mO!d6[O~O!Y4uO![(|a~O![']OP$SaR$Sa[$Sao$Sa}$Sa!P$Sa!Y$Sa!i$Sa!m$Sa#O$Sa#k$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#u$Sa#w$Sa#y$Sa#z$Sa([$Sa(m$Sa(t$Sa(u$Sa~O%f6pO~P&2lOa#`y!Y#`y'u#`y's#`y!V#`y!h#`ys#`y![#`y%f#`y!d#`y~P!9mO[7qO~Ob7sO(O+kO(QTO(TUO~O!Y0wO!Z)Ti~O`7wO~O(`(xO!Y'lX!Z'lX~O!Y5^O!Z)Qa~O!Z8QO~P%4tOp!nO!P8RO(QTO(TUO(`!mO(j!sO~O#X8SO~O![1aO~O![1aO%f8UO~Ok8XO![1aO%f8UO~O[8^O!Y'oa!Z'oa~O!Y1lO!Z)Ri~O!h8bO~O!h8cO~O!h8fO~O!h8fO~P%[Oa8hO~O!d8iO~O!h8jO~O!Y(ri!Z(ri~P#AbOa%lO#]8rO'u%lO~O!Y(oy!h(oya(oy'u(oy~P!9mO!Y(fO!h(ny~O%f8uO~P&2lO![']O%f8uO~O#h$zqP$zqR$zq[$zqa$zqo$zq!Y$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq'u$zq([$zq(m$zq!h$zq!V$zq's$zq#]$zqs$zq![$zq%f$zq!d$zq~P#.aO#h'faP'faR'fa['faa'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa'u'fa(['fa(m'fa!h'fa!V'fa's'fas'fa!['fa%f'fa!d'fa~P&/pO#h'haP'haR'ha['haa'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha'u'ha(['ha(m'ha!h'ha!V'ha's'has'ha!['ha%f'ha!d'ha~P&0cO#h$|qP$|qR$|q[$|qa$|qo$|q!Y$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q'u$|q([$|q(m$|q!h$|q!V$|q's$|q#]$|qs$|q![$|q%f$|q!d$|q~P#.aO!Y'Ui!h'Ui~P!9mO#}#`q!Y#`q!Z#`q~P#AbO(t$}OP%^aR%^a[%^ao%^a!i%^a!m%^a#O%^a#k%^a#l%^a#m%^a#n%^a#o%^a#p%^a#q%^a#r%^a#s%^a#u%^a#w%^a#y%^a#z%^a#}%^a([%^a(m%^a!Y%^a!Z%^a~Ok%^a}%^a!P%^a(u%^a~P&CoO(u%POP%`aR%`a[%`ao%`a!i%`a!m%`a#O%`a#k%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#u%`a#w%`a#y%`a#z%`a#}%`a([%`a(m%`a!Y%`a!Z%`a~Ok%`a}%`a!P%`a(t%`a~P&EsOk=VO})zO!P){O(u%PO~P&CoOk=VO})zO!P){O(t$}O~P&EsOR0`O}0`O!P0aO#P$dOPza[zakzaoza!iza!mza#Oza#kza#lza#mza#nza#oza#pza#qza#rza#sza#uza#wza#yza#zza#}za([za(mza(tza(uza!Yza!Zza~O})zO!P){OP$qaR$qa[$qak$qao$qa!i$qa!m$qa#O$qa#k$qa#l$qa#m$qa#n$qa#o$qa#p$qa#q$qa#r$qa#s$qa#u$qa#w$qa#y$qa#z$qa#}$qa([$qa(m$qa(t$qa(u$qa!Y$qa!Z$qa~O})zO!P){OP$saR$sa[$sak$sao$sa!i$sa!m$sa#O$sa#k$sa#l$sa#m$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#u$sa#w$sa#y$sa#z$sa#}$sa([$sa(m$sa(t$sa(u$sa!Y$sa!Z$sa~Ok=VO})zO!P){O(t$}O(u%PO~OP%RaR%Ra[%Rao%Ra!i%Ra!m%Ra#O%Ra#k%Ra#l%Ra#m%Ra#n%Ra#o%Ra#p%Ra#q%Ra#r%Ra#s%Ra#u%Ra#w%Ra#y%Ra#z%Ra#}%Ra([%Ra(m%Ra!Y%Ra!Z%Ra~P&NlO#}$lq!Y$lq!Z$lq~P#AbO#}$mq!Y$mq!Z$mq~P#AbO!Z9SO~O#}9TO~P!0kO!d#vO!Y'ai!h'ai~O!d#vO(m'mO!Y'ai!h'ai~O!Y/hO!h(zq~O!V'ci!Y'ci~P#.aO!Y/pO!V({q~Oo9[O!d#vO(m'mO~O!V9]O~P#.aO!V9]O~O!d#vO#s9bO~Og(Yy!Y(Yy~P!0kO!Y'ja!['ja~P#.aOa%Yq![%Yq'u%Yq!Y%Yq~P#.aO[9dO~O!Y0wO!Z)Tq~O#]9hO!Y'la!Z'la~O!Y5^O!Z)Qi~P#AbO!P4hO~O![1aO%f9lO~O(QTO(TUO(`9qO~O!Y1lO!Z)Rq~O!h9tO~O!h9uO~O!h9vO~O!h9vO~P%[O#]9yO!Y#ey!Z#ey~O!Y#ey!Z#ey~P#AbO%f:OO~P&2lO![']O%f:OO~O#}#{y!Y#{y!Z#{y~P#AbOP$ziR$zi[$zio$zi!i$zi!m$zi#O$zi#k$zi#l$zi#m$zi#n$zi#o$zi#p$zi#q$zi#r$zi#s$zi#u$zi#w$zi#y$zi#z$zi#}$zi([$zi(m$zi!Y$zi!Z$zi~P&NlO})zO!P){O(u%POP'eaR'ea['eak'eao'ea!i'ea!m'ea#O'ea#k'ea#l'ea#m'ea#n'ea#o'ea#p'ea#q'ea#r'ea#s'ea#u'ea#w'ea#y'ea#z'ea#}'ea(['ea(m'ea(t'ea!Y'ea!Z'ea~O})zO!P){OP'gaR'ga['gak'gao'ga!i'ga!m'ga#O'ga#k'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#u'ga#w'ga#y'ga#z'ga#}'ga(['ga(m'ga(t'ga(u'ga!Y'ga!Z'ga~O(t$}OP%^iR%^i[%^ik%^io%^i}%^i!P%^i!i%^i!m%^i#O%^i#k%^i#l%^i#m%^i#n%^i#o%^i#p%^i#q%^i#r%^i#s%^i#u%^i#w%^i#y%^i#z%^i#}%^i([%^i(m%^i(u%^i!Y%^i!Z%^i~O(u%POP%`iR%`i[%`ik%`io%`i}%`i!P%`i!i%`i!m%`i#O%`i#k%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#u%`i#w%`i#y%`i#z%`i#}%`i([%`i(m%`i(t%`i!Y%`i!Z%`i~O#}$my!Y$my!Z$my~P#AbO#}#`y!Y#`y!Z#`y~P#AbO!d#vO!Y'aq!h'aq~O!Y/hO!h(zy~O!V'cq!Y'cq~P#.aOo:YO!d#vO(m'mO~O!V:ZO~P#.aO!V:ZO~O!Y0wO!Z)Ty~O!Y5^O!Z)Qq~O![1aO%f:cO~O!h:fO~O%f:kO~P&2lOP$zqR$zq[$zqo$zq!i$zq!m$zq#O$zq#k$zq#l$zq#m$zq#n$zq#o$zq#p$zq#q$zq#r$zq#s$zq#u$zq#w$zq#y$zq#z$zq#}$zq([$zq(m$zq!Y$zq!Z$zq~P&NlO})zO!P){O(u%POP'faR'fa['fak'fao'fa!i'fa!m'fa#O'fa#k'fa#l'fa#m'fa#n'fa#o'fa#p'fa#q'fa#r'fa#s'fa#u'fa#w'fa#y'fa#z'fa#}'fa(['fa(m'fa(t'fa!Y'fa!Z'fa~O})zO!P){OP'haR'ha['hak'hao'ha!i'ha!m'ha#O'ha#k'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#u'ha#w'ha#y'ha#z'ha#}'ha(['ha(m'ha(t'ha(u'ha!Y'ha!Z'ha~OP$|qR$|q[$|qo$|q!i$|q!m$|q#O$|q#k$|q#l$|q#m$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#u$|q#w$|q#y$|q#z$|q#}$|q([$|q(m$|q!Y$|q!Z$|q~P&NlOg%b!Z!Y%b!Z#]%b!Z#}%b!Z~P!0kOo:oO!d#vO(m'mO~O!V:pO~P#.aO!Y'lq!Z'lq~P#AbO!Y#e!Z!Z#e!Z~P#AbO#h%b!ZP%b!ZR%b!Z[%b!Za%b!Zo%b!Z!Y%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z'u%b!Z([%b!Z(m%b!Z!h%b!Z!V%b!Z's%b!Z#]%b!Zs%b!Z![%b!Z%f%b!Z!d%b!Z~P#.aOo:xO!d#vO(m'mO~OP%b!ZR%b!Z[%b!Zo%b!Z!i%b!Z!m%b!Z#O%b!Z#k%b!Z#l%b!Z#m%b!Z#n%b!Z#o%b!Z#p%b!Z#q%b!Z#r%b!Z#s%b!Z#u%b!Z#w%b!Z#y%b!Z#z%b!Z#}%b!Z([%b!Z(m%b!Z!Y%b!Z!Z%b!Z~P&NlOs(aX~P1qO}%pO~P!(oO(P!lO~P!(oO!VfX!YfX#]fX~P&+QOP]XR]X[]Xo]X}]X!P]X!Y]X!YfX!i]X!m]X#O]X#P]X#]]X#]fX#hfX#k]X#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#u]X#w]X#y]X#z]X$P]X([]X(m]X(t]X(u]X~O!dfX!h]X!hfX(mfX~P'BxOP;POQ;POSfOd<zOe!iOmkOo;POpkOqkOwkOy;PO{;PO!PWO!TkO!UkO![XO!f;SO!iZO!l;PO!m;PO!n;PO!p;TO!r;WO!u!hO$V!kO(O)XO(QTO(TUO([VO(j[O(y<xO~O!Y;dO!Z$oa~Oh%VOm%WOo%XOp$tOq$tOw%YOy%ZO{;oO!P${O![$|O!f=PO!i$xO#g;uO$V%_O$r;qO$t;sO$w%`O(O(rO(QTO(TUO([$uO(t$}O(u%PO~O#t)`O~P'GnOo!bX(m!bX~P# ZO!Z]X!ZfX~P'BxO!VfX!V$xX!YfX!Y$xX#]fX~P!/gO#h;XO~O!d#vO#h;XO~O#];iO~O#s;]O~O#];xO!Y(rX!Z(rX~O#];iO!Y(pX!Z(pX~O#h;yO~Og;{O~P!0kO#h<RO~O#h<SO~O!d#vO#h<TO~O!d#vO#h;yO~O#}<UO~P#AbO#h<VO~O#h<WO~O#h<]O~O#h<^O~O#h<_O~O#h<`O~O#}<aO~P!0kO#}<bO~P!0kO#P#Q#R#T#U#X#f#g#r(y$r$t$w%Z%e%f%g%n%p%s%t%v%x~'yT#l!U'w(P#mp#k#no}'x$['x(O$^(`~",goto:"$4Q)XPPPPPP)YPP)]P)nP+O/PPPPP5xPP6`PP<V?mP@QP@QPPP@QPBRP@QP@QP@QPBVPB[PByPGrPPPGvPPPPGvJxPPPKOKzPGvPGvPPNYGvPPPGvPGvP!!aGvP!%v!&{!'UP!'x!'|!'x!+YPPPPPPP!+y!&{PP!,Z!-gP!0jGvGv!0o!3z!8b!8b!<`PPP!<hGvPPPPPPPPPPP!?vP!ATPPGv!BfPGvPGvGvGvGvGvPGv!CxP!GRP!JWP!J[!Jf!Jj!JjP!GOP!Jn!JnP!MsP!MwGvGv!M}##RBV@QP@QP@Q@QP#$_@Q@Q#&j@Q#)Z@Q#+`@Q@Q#,O#.]#.]#.b#.k#.]#.wP#.]P@Q#/a@Q#3S@Q@Q5xPPP#6{PPP#7f#7fP#7fP#7|#7fPP#8SP#7yP#7y#8g#7y#9R#9X5u)]#9[)]P#9c#9c#9cP)]P)]P)]P)]PP)]P#9i#9lP#9l)]P#9pP#9sP)]P)]P)]P)]P)]P)])]PP#9y#:P#:[#:b#:h#:n#:t#;S#;Y#;d#;j#;t#;z#<[#<b#=S#=f#=l#=r#>Q#>g#@V#@e#@l#BR#Ba#C|#D[#Db#Dh#Dn#Dx#EO#EU#E`#Er#ExPPPPPPPPPP#FOPPPPPPP#Fs#Iz#KZ#Kb#KjPPP$!sP$!|$%t$,^$,a$,d$-P$-S$-Z$-cP$-i$-lP$.Y$.^$/U$0d$0i$1PPP$1U$1[$1`P$1c$1g$1k$2a$2x$3a$3e$3h$3k$3q$3t$3x$3|R!|RoqOXst!Z#d%k&o&q&r&t,k,p1|2PY!vQ']-]1a5eQ%rvQ%zyQ&R|Q&g!VS'T!e-TQ'c!iS'i!r!yU*e$|*V*jQ+i%{Q+v&TQ,[&aQ-Z'[Q-e'dQ-m'jQ0R*lQ1k,]R;v;T%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5b5m5}6O6R6f8R8X8h8rS#q];Q!r)Z$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{U*y%[;n;oQ+n%}Q,^&dQ,e&lQ0m+aQ0q+cQ0|+oQ1s,cQ3Q._Q5O0wQ5t1lQ6r3UQ7s5PR8x6t'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{t!nQ!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5e5g$|$ti#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VQ&U|Q'R!eU'X%g*V-WQ+n%}Q,^&dQ0c*|Q0|+oQ1R+uQ1r,bQ1s,cQ5O0wQ5X1TQ5t1lQ5w1nQ5x1qQ7s5PQ7v5UQ8a5zQ9g7wR9r8^rnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR,`&h&x^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<z<{[#]WZ#W#Z'U(P!b%hm#h#i#l$x%c%f(Y(d(e(f*U*Y*]+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6[6mQ%uxQ%yyS&O|&TQ&[!TQ'`!hQ'b!iQ(m#sS+h%z%{Q+l%}Q,V&_Q,Z&aS-d'c'dQ.a(nQ0u+iQ0{+oQ0}+pQ1Q+tQ1f,WS1j,[,]Q2n-eQ4}0wQ5R0zQ5W1SQ5s1kQ7r5PQ7u5TQ9c7qR:^9d!O$zi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R!S%wy!i!u%y%z%{'S'b'c'd'h'r*d+h+i-Q-d-e-l/y0u2g2n2u4dQ+b%uQ+{&XQ,O&YQ,Y&aQ.`(mQ1e,VU1i,Z,[,]Q3V.aQ5n1fS5r1j1kQ8]5s#^<|#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vo<};g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bW%Ti%V*t<xS&X!Q&fQ&Y!RQ&Z!SR+y&V$}%Si#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VT)v$u)wV*y%[;n;oW'X!e%g*V-WS(y#y#zQ+]%pQ+s&QS.Y(i(jQ1[,PQ4n0`R7{5^'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{$i$^c#Y#e%o%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)Y)[)^)c)m+^+r-R-p-u-z-|.k.n.r.t.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4r4{6_6e6j6y6z7T7U7}8l8p8z9Q9R9{:`:g;R<oT#TV#U'PkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q'V!eR2c-Tv!nQ!e!r!v!y!z'T'[']'i'j'k-T-Z-]-m1a5e5gU*d$|*V*jS/y*e*lQ0S*mQ1^,RQ4d0RR4g0UnqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&v!^Q's!xS(o#u;XQ+f%xQ,T&[Q,U&^Q-b'aQ-o'lS.j(t;yS0f+R<TQ0s+gQ1`,SQ2T,rQ2V,sQ2_-OQ2l-cQ2o-gS4s0g<_Q4y0tS4|0v<`Q6^2aQ6b2mQ6g2tQ7p4zQ8m6`Q8n6cQ8q6hR9x8j$d$]c#Y#e%q%s(O(U(p(u(})O)P)Q)R)S)T)U)V)W)Y)[)^)c)m+^+r-R-p-u-z-|.k.n.r.u.v/X0e2]2`2p2w3]3b3c3d3e3f3g3h3i3j3k3l3m3n3q3r3y4r4{6_6e6j6y6z7T7U7}8l8p8z9Q9R9{:`:g;R<oS(k#p'fQ({#zS+[%o.tS.Z(j(lR3O.['OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{S#q];QQ&q!XQ&r!YQ&t![Q&u!]R1{,nQ'^!hQ+_%uQ-`'`S.](m+bQ2j-_W3S.`.a0l0nQ6a2kW6n3P3R3V4wU8t6o6q6sU9}8v8w8yS:i9|:PQ:t:jR:z:uU!wQ']-]T5c1a5e!Q_OXZ`st!V!Z#d#h%c%k&f&h&o&q&r&t(f,k,p.S1|2P]!pQ!r']-]1a5eT#q];Q%[{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rS(y#y#zS.Y(i(j!s<f$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{U$fd)Z,eS(l#p'fU*q%R(s3pU0b*x.f7PQ4w0mQ6o3QQ8w6rR:P8xm!tQ!r!v!y!z']'i'j'k-]-m1a5e5gQ'q!uS(b#g1vS-k'h'tQ/k*XQ/w*dQ2v-nQ4U/lS4_/x0SQ7Z4PS7f4e4gQ9V7[Q9Z7cQ9`7iS:X9[9]S:n:Y:ZS:w:o:pR:}:xQ#wbQ'p!uS(a#g1vS(c#m+QQ+S%dQ+d%vQ+j%|U-j'h'q'tQ.O(bQ/j*XQ/v*dQ/|*gQ0r+eQ1g,XS2s-k-nQ2{.WS4T/k/lS4^/w0SQ4a/{Q4c/}Q5p1hQ6i2vQ7Y4PQ7^4US7b4_4gQ7g4fQ8Z5qS9U7Z7[Q9Y7cQ9^7fQ9a7jQ9o8[Q:V9VS:W9Z9]Q:[9`Q:e9pS:m:X:ZS:v:n:pQ:|:wQ;O:}Q<i<dQ<t<mR<u<nV!wQ']-]%[aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rS#wz!j!r<c$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{R<i<z%[bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rQ%dj!S%vy!i!u%y%z%{'S'b'c'd'h'r*d+h+i-Q-d-e-l/y0u2g2n2u4dS%|z!jQ+e%wQ,X&aW1h,Y,Z,[,]U5q1i1j1kS8[5r5sQ9p8]!r<d$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q<m<yR<n<z%OeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8rY#bWZ#W#Z(P!b%hm#h#i#l$x%c%f(Y(d(e(f*U*Y*]+T+U+W,g,}-{.R.S.T.V/e/h2U2|2}4Q6[6mQ,f&l!p<e$Z$n)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{R<h'UU'Y!e%g*VR2e-W%QdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V,h,k,p-a-i-w-}.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3^5b5m5}6O6R6f8R8X8h8r!r)Z$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{Q,e&lQ0m+aQ3Q._Q6r3UR8x6t!b$Tc#Y%o(O(U(p(u)V)W)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;R!P;_)Y)m-R.t2]2`3b3k3l3q3y6_6z7T7U7}8l8z9Q9R:`:g<o!f$Vc#Y%o(O(U(p(u)S)T)V)W)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;R!T;a)Y)m-R.t2]2`3b3h3i3k3l3q3y6_6z7T7U7}8l8z9Q9R:`:g<o!^$Zc#Y%o(O(U(p(u)[)c+r-p-u-z-|.k.n/X0e2p2w3]3m4r4{6e6j6y8p9{;RQ3}/cz<{)Y)m-R.t2]2`3b3q3y6_6z7T7U7}8l8z9Q9R:`:g<oQ=Q=SR=R=T'OkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{S$oh$pR3v.|'VgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{T$kf$qQ$ifS)f$l)jR)r$qT$jf$qT)h$l)j'VhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%k%r&P&h&k&l&o&q&r&t&x'Q'U'_'o(P(R(X(`(t(v(z)o)y+R+V+a,h,k,p,|-P-a-i-w-}._.l.s.|.}/f0a0g0v1d1t1u1w1y1|2P2R2b2r2x3U3^3u5`5b5m5}6O6R6]6f6t8R8X8h8r9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{T$oh$pQ$rhR)q$p%[jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%k%r&P&h&k&l&o&q&r&t&x'Q'_'o(P(R(X(`(t(v(z)y+R+V+a,h,k,p-a-i-w-}._.l.s/f0a0g0v1d1t1u1w1y1|2P2R2r2x3U3^5b5m5}6O6R6f6t8R8X8h8r!s<y$Z$n'U)o,|-P.}2b3u5`6]9h9y;P;S;T;W;X;Y;Z;[;];^;_;`;a;b;c;d;f;i;v;x;y;{<T<U<_<`<{#elOPXZst!Z!`!o#S#d#o#{$n%k&h&k&l&o&q&r&t&x'Q'_(z)o+V+a,h,k,p-a._.}/f0a1d1t1u1w1y1|2P2R3U3u5b5m5}6O6R6t8R8X8h!O%Ri$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R#^(s#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=VQ*}%`Q/Y)zo3p;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!O$yi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=RQ*^$zU*g$|*V*jQ+O%aQ/}*h#^<k#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn<l;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bQ<p<|Q<q<}Q<r=OR<s=P!O%Ri$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=R#^(s#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vo3p;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<bnoOXst!Z#d%k&o&q&r&t,k,p1|2PS*a${*UQ,y&{Q,z&}R4X/p$|%Si#v$b$c$d$x${%O%Q%]%^%b)u){)}*P*R*U*[*b*r*s+`+c+z+}.^.w/]/e/o/p/r0V0X0d1W1Z1c3T3}4Y4b4m4u4x5l6p7_7h8U8u9T9b9l:O:c:k;g;h;j;k;l;m;p;q;r;s;t;u;|;}<O<P<R<S<V<W<X<Y<Z<[<]<^<a<b<x=Q=R=U=VQ+|&YQ1Y,OQ5[1XR7z5]V*i$|*V*jU*i$|*V*jT5d1a5eU/{*f/f5bS4f0T8RR7j4hQ+d%vQ/|*gQ0r+eQ1g,XQ5p1hQ8Z5qQ9o8[R:e9p!O%Oi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=Rr)}$v)a*O*p+P/n0Z0[3s4V4q7X7k:U<j<v<wS0V*o0W#^;j#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn;k;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!`;|(q)_*W*`.b.e.i/U/Z/c/s0k1V1X3Y4W4[5Z5]6u6x7`7d7m7o9X9_:]:l=S=T`;}3o6{7O7S8{:Q:T:{S<X.d3ZT<Y6}9O!O%Qi$d%O%Q%]%^%b)}*P*[*r*s.w/o0V0X0d3}4m9T<x=Q=Rv*P$v)a*Q*o+P/_/n0Z0[3s4V4i4q7X7k:U<j<v<wS0X*p0Y#^;l#v$b$c$x${)u){*R*U*b+`+c+z+}.^/]/e/p/r1W1Z1c3T4Y4b4u4x5l6p7_7h8U8u9b9l:O:c:k;j;l;p;r;t;|<O<R<V<X<Z<]<a=U=Vn;m;g;h;k;m;q;s;u;}<P<S<W<Y<[<^<b!d<O(q)_*W*`.c.d.i/U/Z/c/s0k1V1X3W3Y4W4[5Z5]6u6v6x7`7d7m7o9X9_:]:l=S=Td<P3o6|6}7S8{8|:Q:R:T:{S<Z.e3[T<[7O9PrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ&c!UR,h&lrnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PR&c!UQ,Q&ZR1U+ysnOXst!V!Z#d%k&f&o&q&r&t,k,p1|2PQ1b,VS5k1e1fU8T5i5j5nS9k8V8WS:a9j9mQ:q:bR:y:rQ&j!VR,a&fR5w1nS&O|&TR0}+pQ&o!WR,k&pR,q&uT1},p2PR,u&vQ,t&vR2W,uQ'v!{R-q'vSsOtQ#dXT%ns#dQ#OTR'x#OQ#RUR'z#RQ)w$uR/V)wQ#UVR'|#UQ#XWU(S#X(T-xQ(T#YR-x(UQ-U'VR2d-UQ.m(uS3_.m3`R3`.nQ-]']R2h-]Y!rQ']-]1a5eR'g!rQ.x)aR3t.xU#_W%f*UU(Z#_([-yQ([#`R-y(VQ-X'YR2f-Xt`OXst!V!Z#d%k&f&h&o&q&r&t,k,p1|2PS#hZ%cU#r`#h.SR.S(fQ(g#jQ.P(cW.X(g.P2y6kQ2y.QR6k2zQ)j$lR/O)jQ$phR)p$pQ$`cU)]$`-t;eQ-t;RR;e)mQ/i*XW4R/i4S7]9WU4S/j/k/lS7]4T4UR9W7^$Z)|$v(q)_)a*W*`*o*p*z*{+P.d.e.g.h.i/U/Z/_/a/c/n/s0Z0[0k1V1X3W3X3Y3o3s4V4W4[4i4k4q5Z5]6u6v6w6x6}7O7Q7R7S7X7`7d7k7m7o8{8|8}9X9_:Q:R:S:T:U:]:l:{<j<v<w=S=TQ/q*`U4Z/q4]7aQ4]/sR7a4[S*j$|*VR0P*jr*O$v)a*o*p+P/n0Z0[3s4V4q7X7k:U<j<v<w!`.b(q)_*W*`.d.e.i/U/Z/c/s0k1V1X3Y4W4[5Z5]6u6x7`7d7m7o9X9_:]:l=S=TU/`*O.b6{a6{3o6}7O7S8{:Q:T:{Q0W*oQ3Z.dU4j0W3Z9OR9O6}v*Q$v)a*o*p+P/_/n0Z0[3s4V4i4q7X7k:U<j<v<w!d.c(q)_*W*`.d.e.i/U/Z/c/s0k1V1X3W3Y4W4[5Z5]6u6v6x7`7d7m7o9X9_:]:l=S=TU/b*Q.c6|e6|3o6}7O7S8{8|:Q:R:T:{Q0Y*pQ3[.eU4l0Y3[9PR9P7OQ*u%UR0^*uQ4v0kR7n4vQ+X%iR0j+XQ5_1[S7|5_9iR9i7}Q,S&[R1_,SQ5e1aR8P5eQ1m,^S5u1m8_R8_5wQ0x+lW5Q0x5S7t9eQ5S0{Q7t5RR9e7uQ+q&OR1O+qQ2P,pR6V2PYrOXst#dQ&s!ZQ+Z%kQ,j&oQ,l&qQ,m&rQ,o&tQ1z,kS1},p2PR6U1|Q%mpQ&w!_Q&z!aQ&|!bQ'O!cQ'n!uQ+Y%jQ+f%xQ+x&UQ,`&jQ,w&yW-h'h'p'q'tQ-o'lQ0O*iQ0s+gS1p,a,dQ2X,vQ2Y,yQ2Z,zQ2o-gW2q-j-k-n-pQ4y0tQ5V1RQ5Y1VQ5o1gQ5y1rQ6T1{U6d2p2s2vQ6g2tQ7p4zQ7x5XQ7y5ZQ8O5dQ8Y5pQ8`5xS8o6e6iQ8q6hQ9f7vQ9n8ZQ9s8aQ9z8pQ:_9gQ:d9oQ:h9{R:s:eQ%xyQ'a!iQ'l!uU+g%y%z%{Q-O'SU-c'b'c'dS-g'h'rQ/u*dS0t+h+iQ2a-QS2m-d-eQ2t-lQ4`/yQ4z0uQ6`2gQ6c2nQ6h2uR7e4dS$wi<xR*v%VU%Ui%V<xR0]*tQ$viS(q#v+cS)_$b$cQ)a$dQ*W$xS*`${*UQ*o%OQ*p%QQ*z%]Q*{%^Q+P%bQ.d;jQ.e;lQ.g;pQ.h;rQ.i;tQ/U)uS/Z){/]Q/_)}Q/a*PQ/c*RQ/n*[S/s*b/eQ0Z*rQ0[*sh0k+`.^1c3T5l6p8U8u9l:O:c:kQ1V+zQ1X+}Q3W;|Q3X<OQ3Y<RS3o;g;hQ3s.wQ4V/oQ4W/pQ4[/rQ4i0VQ4k0XQ4q0dQ5Z1WQ5]1ZQ6u<VQ6v<XQ6w<ZQ6x<]Q6};kQ7O;mQ7Q;qQ7R;sQ7S;uQ7X3}Q7`4YQ7d4bQ7k4mQ7m4uQ7o4xQ8{<SQ8|;}Q8}<PQ9X7_Q9_7hQ:Q<WQ:R<YQ:S<[Q:T<^Q:U9TQ:]9bQ:l<aQ:{<bQ<j<xQ<v=QQ<w=RQ=S=UR=T=VQ*x%[Q.f;nR7P;onpOXst!Z#d%k&o&q&r&t,k,p1|2PQ!fPS#fZ#oQ&y!`U'e!o5b8RQ'{#SQ(|#{Q)n$nS,d&h&kQ,i&lQ,v&xQ,{'QQ-_'_Q.p(zQ/S)oS0h+V/fQ0n+aQ1x,hQ2k-aQ3R._Q3x.}Q4o0aQ5j1dQ5{1tQ5|1uQ6Q1wQ6S1yQ6X2RQ6s3UQ7V3uQ8W5mQ8d5}Q8e6OQ8g6RQ8y6tQ9m8XR9w8h#YcOPXZst!Z!`!o#d#o#{%k&h&k&l&o&q&r&t&x'Q'_(z+V+a,h,k,p-a._/f0a1d1t1u1w1y1|2P2R3U5b5m5}6O6R6t8R8X8hQ#YWQ#eYQ%ouQ%qvS%sw!gS(O#W(RQ(U#ZQ(p#uQ(u#xQ(}$OQ)O$PQ)P$QQ)Q$RQ)R$SQ)S$TQ)T$UQ)U$VQ)V$WQ)W$XQ)Y$ZQ)[$_Q)^$aQ)c$eW)m$n)o.}3uQ+^%rQ+r&PS-R'U2bQ-p'oS-u(P-wQ-z(XQ-|(`Q.k(tQ.n(vQ.r;PQ.t;SQ.u;TQ.v;WQ/X)yQ0e+RQ2],|Q2`-PQ2p-iQ2w-}Q3].lQ3b;XQ3c;YQ3d;ZQ3e;[Q3f;]Q3g;^Q3h;_Q3i;`Q3j;aQ3k;bQ3l;cQ3m.sQ3n;fQ3q;iQ3r;vQ3y;dQ4r0gQ4{0vQ6_;xQ6e2rQ6j2xQ6y3^Q6z;yQ7T;{Q7U<TQ7}5`Q8l6]Q8p6fQ8z<UQ9Q<_Q9R<`Q9{8rQ:`9hQ:g9yQ;R#SR<o<{R#[WR'W!el!tQ!r!v!y!z']'i'j'k-]-m1a5e5gS'S!e-TS-Q'T'[R2g-ZR(w#xQ!fQT-[']-]]!qQ!r']-]1a5eQ#p]R'f;QR)b$dY!uQ']-]1a5eQ'h!rS'r!v!yS't!z5gS-l'i'jQ-n'kR2u-mT#kZ%cS#jZ%cS%im,gU(c#h#i#lS.Q(d(eQ.U(fQ0i+WQ2z.RU2{.S.T.VS6l2|2}R8s6md#^W#W#Z%f(P(Y*U+T-{/er#gZm#h#i#l%c(d(e(f+W.R.S.T.V2|2}6mS*X$x*]Q/l*YQ1v,gQ2^,}Q4P/hQ6Z2UQ7[4QQ8k6[T<g'U+UV#aW%f*UU#`W%f*US(Q#W(YU(V#Z+T/eS-S'U+UT-v(P-{V'Z!e%g*VQ$lfR)t$qT)i$l)jR3w.|T*Z$x*]T*c${*UQ0l+`Q3P.^Q5i1cQ6q3TQ8V5lQ8v6pQ9j8UQ9|8uQ:b9lQ:j:OQ:r:cR:u:knqOXst!Z#d%k&o&q&r&t,k,p1|2PQ&i!VR,`&ftmOXst!U!V!Z#d%k&f&o&q&r&t,k,p1|2PR,g&lT%jm,gR1],PR,_&dQ&S|R+w&TR+m%}T&m!W&pT&n!W&pT2O,p2P",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:376,context:Hte,nodeProps:[["isolate",-8,5,6,14,34,36,48,50,52,""],["group",-26,9,17,19,65,204,208,212,213,215,218,221,231,233,239,241,243,245,248,254,260,262,264,266,268,270,271,"Statement",-34,13,14,29,32,33,39,48,51,52,54,59,67,69,73,77,79,81,82,107,108,117,118,135,138,140,141,142,143,144,146,147,166,167,169,"Expression",-23,28,30,34,38,40,42,171,173,175,176,178,179,180,182,183,184,186,187,188,198,200,202,203,"Type",-3,85,100,106,"ClassItem"],["openedBy",23,"<",35,"InterpolationStart",53,"[",57,"{",70,"(",159,"JSXStartCloseTag"],["closedBy",24,">",37,"InterpolationEnd",47,"]",58,"}",71,")",164,"JSXEndTag"]],propSources:[nne],skippedNodes:[0,5,6,274],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Rp(U!b'w0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(S#S$h&j'x0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Rp(U!b'x0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!m),Q(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(Q':f$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(U!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(U!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(U!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(U!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Rp(U!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Rp(U!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(U!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(U!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(RpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(RpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Rp(U!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(j%1l(Rp(U!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Rp(U!b$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Rp(U!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Rp(U!b#m(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(u+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(T';W$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(RpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(RpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(RpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(RpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!i/.^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!h!Lf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Rp(U!b(P%&f#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Rp(U!b#k(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Rp(U!bo+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Y+Jf$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Rp(U!b}.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!X!L^$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Rp(U!b#l(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(U!b!U7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!U7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!U7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!U7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!U7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(U!b!U7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(U!b!U7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(U!b!U7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(U!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(U!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Rp!U7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Rp!U7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Rp!U7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Rp!U7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(RpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(RpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Rp(U!b!U7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Rp(U!b!U7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Rp(U!b!U7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Rp(U!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Rp(U!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Rp(U!b'y0/l!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Rp(U!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(U!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(U!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(RpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(RpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Rp(U!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Rp(U!b!U7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Rp(U!bp'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!d$b$h&j#})Lv(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#O-<U(Rp(U!b(y7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#o(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#p(Ch(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#]*!Y$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#h(Cl$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#p(Ch$e#|$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#p(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#o(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(m(Ct$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!y$Ip$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!P0,v$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!V#)l$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Rp(U!b([+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Rp(U!b(O,2j$^#t(`$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Rp(U!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X![#Hb(Rp(U!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(t+JY$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z(Kd$?V_!Z(Cds`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!n7`$h&j(Rp(U!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Rp(U!b'w0/l$[#t(O,2j(`$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Rp(U!b'x0/l$[#t(O,2j(`$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Jte,ene,tne,2,3,4,5,6,7,8,9,10,11,12,13,14,Kte,new Ef("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOu~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!R~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(^~~",141,335),new Ef("j~RQYZXz{^~^O'{~~aP!P!Qd~iO'|~~",25,318)],topRules:{Script:[0,7],SingleExpression:[1,272],SingleClassItem:[2,273]},dialects:{jsx:0,ts:14725},dynamicPrecedences:{77:1,79:1,91:1,167:1,196:1},specialized:[{term:322,get:t=>ine[t]||-1},{term:338,get:t=>rne[t]||-1},{term:92,get:t=>sne[t]||-1}],tokenPrec:14749});class FT{constructor(e,n,i,r){this.state=e,this.pos=n,this.explicit=i,this.view=r,this.abortListeners=[]}tokenBefore(e){let n=bt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),s=r.search(HT(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function I1(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function one(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)n[r[s]]=!0}let i=I1(e)+I1(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function GT(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:one(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:n}:null}}function ane(t,e){return n=>{for(let i=bt(n.state).resolveInner(n.pos,-1);i;i=i.parent){if(t.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(n)}}class X1{constructor(e,n,i,r){this.completion=e,this.source=n,this.match=i,this.score=r}}function ms(t){return t.selection.main.from}function HT(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const Yv=Fr.define();function lne(t,e,n,i){let{main:r}=t.selection,s=n-r.from,o=i-r.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=r&&n!=i&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,i)?{range:a}:{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:e},range:fe.cursor(a.from+s+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const U1=new WeakMap;function une(t){if(!Array.isArray(t))return t;let e=U1.get(t);return e||U1.set(t,e=GT(t)),e}const Xf=qe.define(),fu=qe.define();class cne{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let i=en(e,n),r=di(i);this.chars.push(i);let s=e.slice(n,n+r),o=s.toUpperCase();this.folded.push(en(o==s?s.toLowerCase():o,0)),n+=r}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:r,precise:s,byWord:o}=this;if(n.length==1){let b=en(e,0),S=di(b),y=S==e.length?0:-100;if(b!=n[0])if(b==i[0])y+=-200;else return null;return this.ret(y,[0,S])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let b=0,S=Math.min(e.length,200);b<S&&c<l;){let y=en(e,b);(y==n[c]||y==i[c])&&(r[c++]=b),b+=di(y)}if(c<l)return null}let u=0,f=0,h=!1,d=0,p=-1,m=-1,O=/[a-z]/.test(e),v=!0;for(let b=0,S=Math.min(e.length,200),y=0;b<S&&f<l;){let w=en(e,b);a<0&&(u<l&&w==n[u]&&(s[u++]=b),d<l&&(w==n[d]||w==i[d]?(d==0&&(p=b),m=b+1,d++):d=0));let P,x=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(P=xv(w))!=P.toLowerCase()?1:P!=P.toUpperCase()?2:0;(!b||x==1&&O||y==0&&x!=0)&&(n[f]==w||i[f]==w&&(h=!0)?o[f++]=b:o.length&&(v=!1)),y=x,b+=di(w)}return f==l&&o[0]==0&&v?this.result(-100+(h?-200:0),o,e):d==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[p,m]):f==l?this.result(-100+(h?-200:0)+-700+(v?0:-1100),o,e):n.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[],s=0;for(let o of n){let a=o+(this.astral?di(en(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}class fne{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),i=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,n.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const rn=_e.define({combine(t){return br(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:hne,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>V1(e(i),n(i)),optionClass:(e,n)=>i=>V1(e(i),n(i)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function V1(t,e){return t?e?t+" "+e:t:e}function hne(t,e,n,i,r,s){let o=t.textDirection==Tt.RTL,a=o,l=!1,c="top",u,f,h=e.left-r.left,d=r.right-e.right,p=i.right-i.left,m=i.bottom-i.top;if(a&&h<Math.min(p,d)?a=!1:!a&&d<Math.min(p,h)&&(a=!0),p<=(a?h:d))u=Math.max(r.top,Math.min(n.top,r.bottom-m))-e.top,f=Math.min(400,a?h:d);else{l=!0,f=Math.min(400,(o?e.right:r.right-e.left)-30);let b=r.bottom-e.bottom;b>=m||b>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let O=(e.bottom-e.top)/s.offsetHeight,v=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/O}px; max-width: ${f/v}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function dne(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let u=s[c++],f=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(u,f))),h.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function Wp(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class pne{constructor(e,n,i){this.view=e,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:s,selected:o}=r.open,a=e.state.facet(rn);this.optionContent=dne(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Wp(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,f;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length){this.applyCompletion(e,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(rn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:fu.of(null)})}),this.showOptions(s,r.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:s,selected:o,disabled:a}=i.open;(!r.open||r.open.options!=s)&&(this.range=Wp(s.length,o,e.state.facet(rn).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),a!=((n=r.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Wp(n.options.length,n.selected,this.view.state.facet(rn).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Wn(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,n){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&mne(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,n.bottom)-10||r.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(rn).positionInfo(this.view,n,r,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let h=typeof c=="string"?c:c.name;if(h!=s&&(o>i.from||i.from==0))if(s=h,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let d=r.appendChild(document.createElement("completion-section"));d.textContent=h}}const u=r.appendChild(document.createElement("li"));u.id=n+"-"+o,u.setAttribute("role","option");let f=this.optionClass(a);f&&(u.className=f);for(let h of this.optionContent){let d=h(a,this.view.state,this.view,l);d&&u.appendChild(d)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function gne(t,e){return n=>new pne(n,t,e)}function mne(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.height/t.offsetHeight;i.top<n.top?t.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(t.scrollTop+=(i.bottom-n.bottom)/r)}function L1(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function One(t,e){let n=[],i=null,r=c=>{n.push(c);let{section:u}=c.completion;if(u){i||(i=[]);let f=typeof u=="string"?u:u.name;i.some(h=>h.name==f)||i.push(typeof u=="string"?{name:f}:u)}},s=e.facet(rn);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let f of c.result.options)r(new X1(f,c.source,u?u(f):[],1e9-n.length));else{let f=e.sliceDoc(c.from,c.to),h,d=s.filterStrict?new fne(f):new cne(f);for(let p of c.result.options)if(h=d.match(p.label)){let m=p.displayLabel?u?u(p,h.matched):[]:h.matched;r(new X1(p,c.source,m,h.score+(p.boost||0)))}}}if(i){let c=Object.create(null),u=0,f=(h,d)=>{var p,m;return((p=h.rank)!==null&&p!==void 0?p:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(h.name<d.name?-1:1)};for(let h of i.sort(f))u-=1e5,c[h.name]=u;for(let h of n){let{section:d}=h.completion;d&&(h.score+=c[typeof d=="string"?d:d.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of n.sort((u,f)=>f.score-u.score||l(u.completion,f.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):L1(c.completion)>L1(a)&&(o[o.length-1]=c),a=c.completion}return o}class Vo{constructor(e,n,i,r,s,o){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Vo(this.options,z1(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,s){let o=One(e,n);if(!o.length)return r&&e.some(l=>l.state==1)?new Vo(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=n.facet(rn).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==l){a=c;break}}return new Vo(o,z1(i,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:xne,above:s.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Vo(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Uf{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Uf(_ne,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(rn),s=(i.override||n.languageDataAt("autocomplete",ms(n)).map(une)).map(a=>(this.active.find(c=>c.source==a)||new ii(a,this.active.some(c=>c.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!vne(s,this.active)?o=Vo.build(s,n,this.id,o,i):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new ii(a.source,0):a));for(let a of e.effects)a.is(e4)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new Uf(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?bne:yne}}function vne(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,s=i==e.length;if(r||s)return r==s;if(t[n++].result!=e[i++].result)return!1}}const bne={"aria-autocomplete":"list"},yne={};function z1(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const _ne=[];function KT(t,e){if(t.isUserEvent("input.complete")){let i=t.annotation(Yv);if(i&&e.activateOnCompletion(i))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ii{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=KT(e,n),r=this;(i&8||i&16&&this.touches(e))&&(r=new ii(r.source,0)),i&4&&r.state==0&&(r=new ii(this.source,1)),r=r.updateFor(e,i);for(let s of e.effects)if(s.is(Xf))r=new ii(r.source,1,s.value?ms(e.state):-1);else if(s.is(fu))r=new ii(r.source,0);else if(s.is(JT))for(let o of s.value)o.source==r.source&&(r=o);return r}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ii(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(ms(e.state))}}class ea extends ii{constructor(e,n,i,r,s){super(e,2,n),this.result=i,this.from=r,this.to=s}hasResult(){return!0}updateFor(e,n){var i;if(!(n&3))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=ms(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||!r||n&2&&ms(e.startState)==this.from)return new ii(this.source,n&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return wne(r.validFor,e.state,s,o)?new ea(this.source,l,r,s,o):r.update&&(r=r.update(r,s,o,new FT(e.state,a,l>=0)))?new ea(this.source,l,r,r.from,(i=r.to)!==null&&i!==void 0?i:ms(e.state)):new ii(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ea(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ii(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function wne(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):HT(t,!0).test(r)}const JT=qe.define({map(t,e){return t.map(n=>n.map(e))}}),e4=qe.define(),Dn=Xt.define({create(){return Uf.start()},update(t,e){return t.update(e)},provide:t=>[Mv.from(t,e=>e.tooltip),ve.contentAttributes.from(t,e=>e.attrs)]});function Nv(t,e){const n=e.completion.apply||e.completion.label;let i=t.state.field(Dn).active.find(r=>r.source==e.source);return i instanceof ea?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},lne(t.state,n,i.from,i.to)),{annotations:Yv.of(e.completion)})):n(t,e.completion,i.from,i.to),!0):!1}const xne=gne(Dn,Nv);function Rc(t,e="option"){return n=>{let i=n.state.field(Dn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(rn).interactionDelay)return!1;let r=1,s;e=="page"&&(s=tT(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:e4.of(a)}),!0}}const Sne=t=>{let e=t.state.field(Dn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(rn).interactionDelay?!1:Nv(t,e.open.options[e.open.selected])},$ne=t=>t.state.field(Dn,!1)?(t.dispatch({effects:Xf.of(!0)}),!0):!1,kne=t=>{let e=t.state.field(Dn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:fu.of(null)}),!0)};class Pne{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const Qne=50,Tne=1e3,Ane=Dt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Dn).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Dn),n=t.state.facet(rn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Dn)==e)return;let i=t.transactions.some(s=>{let o=KT(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(i||o.updates.length+t.transactions.length>Qne&&Date.now()-o.time>Tne){for(let a of o.context.abortListeners)try{a()}catch(l){Wn(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(Xf)))&&(this.pendingStart=!0);let r=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.state==1&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Dn);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=ms(e),i=new FT(e,n,t.explicitPos==n,this.view),r=new Pne(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:fu.of(null)}),Wn(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(rn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(rn);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new ea(r.active.source,r.active.explicitPos,r.done,r.done.from,(t=r.done.to)!==null&&t!==void 0?t:ms(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,n);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Dn).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new ii(r.active.source,0);for(let a of r.updates)o=o.update(a,n);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:JT.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Dn,!1);if(e&&e.tooltip&&this.view.state.facet(rn).closeOnBlur){let n=e.open&&tT(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:fu.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Xf.of(!1)}),20),this.composing=0}}}),Cne=typeof navigator=="object"&&/Win/.test(navigator.platform),Rne=Ms.highest(ve.domEventHandlers({keydown(t,e){let n=e.state.field(Dn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(Cne&&t.altKey)||t.metaKey)return!1;let i=n.open.options[n.open.selected],r=n.active.find(o=>o.source==i.source),s=i.completion.commitCharacters||r.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&Nv(e,i),!1}})),t4=ve.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Ene{constructor(e,n,i,r){this.field=e,this.line=n,this.from=i,this.to=r}}class Fv{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,nn.TrackDel),i=e.mapPos(this.to,1,nn.TrackDel);return n==null||i==null?null:new Fv(this.field,n,i)}}class Gv{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],r=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(id);r.push(n+c.length-u),l=c+l.slice(u)}i.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new Fv(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let n=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(a!=null?n[f].seq==a:u&&n[f].name==u)&&(c=f);if(c<0){let f=0;for(;f<n.length&&(a==null||n[f].seq!=null&&n[f].seq<a);)f++;n.splice(f,0,{seq:a,name:u}),c=f;for(let h of r)h.field>=c&&h.field++}r.push(new Ene(c,i.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of r)u.line==i.length&&u.from>c&&(u.from--,u.to--);return l}),i.push(o)}return new Gv(i,r)}}let qne=Pe.widget({widget:new class extends yr{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),Mne=Pe.mark({class:"cm-snippetField"});class La{constructor(e,n){this.ranges=e,this.active=n,this.deco=Pe.set(e.map(i=>(i.from==i.to?qne:Mne).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;n.push(r)}return new La(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}}const ec=qe.define({map(t,e){return t&&t.map(e)}}),Zne=qe.define(),hu=Xt.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(ec))return n.value;if(n.is(Zne)&&t)return new La(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>ve.decorations.from(t,e=>e?e.deco:Pe.none)});function Hv(t,e){return fe.create(t.filter(n=>n.field==e).map(n=>fe.range(n.from,n.to)))}function n4(t){let e=Gv.parse(t);return(n,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,r),l={changes:{from:r,to:s,insert:rt.of(o)},scrollIntoView:!0,annotations:i?[Yv.of(i),Vt.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=Hv(a,0)),a.some(c=>c.field>0)){let c=new La(a,0),u=l.effects=[ec.of(c)];n.state.field(hu,!1)===void 0&&u.push(qe.appendConfig.of([hu,Ine,Xne,t4]))}n.dispatch(n.state.update(l))}}function i4(t){return({state:e,dispatch:n})=>{let i=e.field(hu,!1);if(!i||t<0&&i.active==0)return!1;let r=i.active+t,s=t>0&&!i.ranges.some(o=>o.field==r+t);return n(e.update({selection:Hv(i.ranges,r),effects:ec.of(s?null:new La(i.ranges,r)),scrollIntoView:!0})),!0}}const Dne=({state:t,dispatch:e})=>t.field(hu,!1)?(e(t.update({effects:ec.of(null)})),!0):!1,jne=i4(1),Wne=i4(-1),Bne=[{key:"Tab",run:jne,shift:Wne},{key:"Escape",run:Dne}],Y1=_e.define({combine(t){return t.length?t[0]:Bne}}),Ine=Ms.highest(Va.compute([Y1],t=>t.facet(Y1)));function Wt(t,e){return Object.assign(Object.assign({},e),{apply:n4(t)})}const Xne=ve.domEventHandlers({mousedown(t,e){let n=e.state.field(hu,!1),i;if(!n||(i=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let r=n.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==n.active?!1:(e.dispatch({selection:Hv(n.ranges,r.field),effects:ec.of(n.ranges.some(s=>s.field>r.field)?new La(n.ranges,r.field):null),scrollIntoView:!0}),!0)}}),du={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ks=qe.define({map(t,e){let n=e.mapPos(t,-1,nn.TrackAfter);return n??void 0}}),Kv=new class extends uo{};Kv.startSide=1;Kv.endSide=-1;const r4=Xt.define({create(){return it.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:i=>i>=n.from&&i<=n.to})}for(let n of e.effects)n.is(Ks)&&(t=t.update({add:[Kv.range(n.value,n.value+1)]}));return t}});function Une(){return[Lne,r4]}const Bp="()[]{}<>";function s4(t){for(let e=0;e<Bp.length;e+=2)if(Bp.charCodeAt(e)==t)return Bp.charAt(e+1);return xv(t<128?t:t+1)}function o4(t,e){return t.languageDataAt("closeBrackets",e)[0]||du}const Vne=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Lne=ve.inputHandler.of((t,e,n,i)=>{if((Vne?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(i.length>2||i.length==2&&di(en(i,0))==1||e!=r.from||n!=r.to)return!1;let s=Nne(t.state,i);return s?(t.dispatch(s),!0):!1}),zne=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=o4(t,t.selection.main.head).brackets||du.brackets,r=null,s=t.changeByRange(o=>{if(o.empty){let a=Fne(t.doc,o.head);for(let l of i)if(l==a&&od(t.doc,o.head)==s4(en(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:fe.cursor(o.head-l.length)}}return{range:r=o}});return r||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},Yne=[{key:"Backspace",run:zne}];function Nne(t,e){let n=o4(t,t.selection.main.head),i=n.brackets||du.brackets;for(let r of i){let s=s4(en(r,0));if(e==r)return s==r?Kne(t,r,i.indexOf(r+r+r)>-1,n):Gne(t,r,s,n.before||du.before);if(e==s&&a4(t,t.selection.main.from))return Hne(t,r,s)}return null}function a4(t,e){let n=!1;return t.field(r4).between(0,t.doc.length,i=>{i==e&&(n=!0)}),n}function od(t,e){let n=t.sliceString(e,e+2);return n.slice(0,di(en(n,0)))}function Fne(t,e){let n=t.sliceString(e-2,e);return di(en(n,0))==n.length?n:n.slice(1)}function Gne(t,e,n,i){let r=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Ks.of(o.to+e.length),range:fe.range(o.anchor+e.length,o.head+e.length)};let a=od(t.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Ks.of(o.head+e.length),range:fe.cursor(o.head+e.length)}:{range:r=o}});return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Hne(t,e,n){let i=null,r=t.changeByRange(s=>s.empty&&od(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:fe.cursor(s.head+n.length)}:i={range:s});return i?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Kne(t,e,n,i){let r=i.stringPrefixes||du.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Ks.of(a.to+e.length),range:fe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=od(t.doc,l),u;if(c==e){if(N1(t,l))return{changes:{insert:e+e,from:l},effects:Ks.of(l+e.length),range:fe.cursor(l+e.length)};if(a4(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:fe.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=F1(t,l-2*e.length,r))>-1&&N1(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Ks.of(l+e.length),range:fe.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Ct.Word&&F1(t,l,r)>-1&&!Jne(t,l,e,r))return{changes:{insert:e+e,from:l},effects:Ks.of(l+e.length),range:fe.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function N1(t,e){let n=bt(t).resolveInner(e+1);return n.parent&&n.from==e}function Jne(t,e,n,i){let r=bt(t).resolveInner(e,-1),s=i.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(r.from,Math.min(r.to,r.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function F1(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=Ct.Word)return e;for(let r of n){let s=e-r.length;if(t.sliceDoc(s,e)==r&&i(t.sliceDoc(s-1,s))!=Ct.Word)return s}return-1}function eie(t={}){return[Rne,Dn,rn.of(t),Ane,tie,t4]}const l4=[{key:"Ctrl-Space",run:$ne},{key:"Escape",run:kne},{key:"ArrowDown",run:Rc(!0)},{key:"ArrowUp",run:Rc(!1)},{key:"PageDown",run:Rc(!0,"page")},{key:"PageUp",run:Rc(!1,"page")},{key:"Enter",run:Sne}],tie=Ms.highest(Va.computeN([rn],t=>t.facet(rn).defaultKeymap?[l4]:[])),u4=[Wt("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Wt("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Wt("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Wt("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Wt("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Wt(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Wt("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Wt(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Wt(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Wt('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Wt('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],nie=u4.concat([Wt("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Wt("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Wt("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),G1=new uT,c4=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function fl(t){return(e,n)=>{let i=e.node.getChild("VariableDefinition");return i&&n(i,t),!0}}const iie=["FunctionDeclaration"],rie={FunctionDeclaration:fl("function"),ClassDeclaration:fl("class"),ClassExpression:()=>!0,EnumDeclaration:fl("constant"),TypeAliasDeclaration:fl("type"),NamespaceDeclaration:fl("namespace"),VariableDefinition(t,e){t.matchContext(iie)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function f4(t,e){let n=G1.get(e);if(n)return n;let i=[],r=!0;function s(o,a){let l=t.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(xt.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=rie[o.name];if(a&&a(o,s)||c4.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of f4(t,o.node))i.push(a);return!1}}),G1.set(e,i),i}const H1=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,h4=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function sie(t){let e=bt(t.state).resolveInner(t.pos,-1);if(h4.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&H1.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let i=[];for(let r=e;r;r=r.parent)c4.has(r.name)&&(i=i.concat(f4(t.state.doc,r)));return{options:i,from:n?e.from:t.pos,validFor:H1}}const ji=go.define({name:"javascript",parser:NT.configure({props:[Gu.add({IfStatement:nf({except:/^\s*({|else\b)/}),TryStatement:nf({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Nee,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:i?1:2)*t.unit},Block:Yee({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":nf({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Hu.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":ET,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),d4={test:t=>/^JSX/.test(t.name),facet:TT({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Jv=ji.configure({dialect:"ts"},"typescript"),p4=ji.configure({dialect:"jsx",props:[Uv.add(t=>t.isTop?[d4]:void 0)]}),g4=ji.configure({dialect:"jsx ts",props:[Uv.add(t=>t.isTop?[d4]:void 0)]},"typescript");let m4=t=>({label:t,type:"keyword"});const O4="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(m4),oie=O4.concat(["declare","implements","private","protected","public"].map(m4));function e0(t={}){let e=t.jsx?t.typescript?g4:p4:t.typescript?Jv:ji,n=t.typescript?nie.concat(oie):u4.concat(O4);return new nd(e,[ji.data.of({autocomplete:ane(h4,GT(n))}),ji.data.of({autocomplete:sie}),t.jsx?uie:[]])}function aie(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function K1(t,e,n=t.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return t.sliceString(i.from,Math.min(i.to,n));return""}const lie=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),uie=ve.inputHandler.of((t,e,n,i,r)=>{if((lie?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||i!=">"&&i!="/"||!ji.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,f=bt(o).resolveInner(u-1,-1),h;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(u-1,u)!=i||f.name=="JSXAttributeValue"&&f.to>u)){if(i==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(i=="/"&&f.name=="JSXStartCloseTag"){let d=f.parent,p=d.parent;if(p&&d.from==u-2&&((h=K1(o.doc,p.firstChild,u))||((c=p.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let m=`${h}>`;return{range:fe.cursor(u+m.length,-1),changes:{from:u,insert:m}}}}else if(i==">"){let d=aie(f);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(h=K1(o.doc,d,u)))return{range:l,changes:{from:u,insert:`</${h}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),hl=["_blank","_self","_top","_parent"],Ip=["ascii","utf-8","utf-16","latin1","latin1"],Xp=["get","post","put","delete"],Up=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Hn=["true","false"],Te={},cie={a:{attrs:{href:null,ping:null,type:null,media:null,target:hl,hreflang:null}},abbr:Te,address:Te,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Te,aside:Te,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Te,base:{attrs:{href:null,target:hl}},bdi:Te,bdo:Te,blockquote:{attrs:{cite:null}},body:Te,br:Te,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Up,formmethod:Xp,formnovalidate:["novalidate"],formtarget:hl,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Te,center:Te,cite:Te,code:Te,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Te,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Te,div:Te,dl:Te,dt:Te,em:Te,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Te,figure:Te,footer:Te,form:{attrs:{action:null,name:null,"accept-charset":Ip,autocomplete:["on","off"],enctype:Up,method:Xp,novalidate:["novalidate"],target:hl}},h1:Te,h2:Te,h3:Te,h4:Te,h5:Te,h6:Te,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Te,hgroup:Te,hr:Te,html:{attrs:{manifest:null}},i:Te,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Up,formmethod:Xp,formnovalidate:["novalidate"],formtarget:hl,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Te,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Te,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Te,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Ip,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Te,noscript:Te,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Te,param:{attrs:{name:null,value:null}},pre:Te,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Te,rt:Te,ruby:Te,samp:Te,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Ip}},section:Te,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Te,source:{attrs:{src:null,type:null,media:null}},span:Te,strong:Te,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Te,summary:Te,sup:Te,table:Te,tbody:Te,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Te,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Te,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Te,time:{attrs:{datetime:null}},title:Te,tr:Te,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Te,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Te},v4={accesskey:null,class:null,contenteditable:Hn,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Hn,autocorrect:Hn,autocapitalize:Hn,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Hn,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Hn,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Hn,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Hn,"aria-hidden":Hn,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Hn,"aria-multiselectable":Hn,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Hn,"aria-relevant":null,"aria-required":Hn,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},b4="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of b4)v4[t]=null;class pu{constructor(e,n){this.tags=Object.assign(Object.assign({},cie),e),this.globalAttrs=Object.assign(Object.assign({},v4),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}pu.default=new pu;function xa(t,e,n=t.length){if(!e)return"";let i=e.firstChild,r=i&&i.getChild("TagName");return r?t.sliceString(r.from,Math.min(r.to,n)):""}function Sa(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function y4(t,e,n){let i=n.tags[xa(t,Sa(e))];return(i==null?void 0:i.children)||n.allTags}function t0(t,e){let n=[];for(let i=Sa(e);i&&!i.type.isTop;i=Sa(i.parent)){let r=xa(t,i);if(r&&i.lastChild.name=="CloseTag")break;r&&n.indexOf(r)<0&&(e.name=="EndTag"||e.from>=i.firstChild.to)&&n.push(r)}return n}const _4=/^[:\-\.\w\u00b7-\uffff]*$/;function J1(t,e,n,i,r){let s=/\s*>/.test(t.sliceDoc(r,r+5))?"":">",o=Sa(n,!0);return{from:i,to:r,options:y4(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(t0(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function ew(t,e,n,i){let r=/\s*>/.test(t.sliceDoc(i,i+5))?"":">";return{from:n,to:i,options:t0(t.doc,e).map((s,o)=>({label:s,apply:s+r,type:"type",boost:99-o})),validFor:_4}}function fie(t,e,n,i){let r=[],s=0;for(let o of y4(t.doc,n,e))r.push({label:"<"+o,type:"type"});for(let o of t0(t.doc,n))r.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function hie(t,e,n,i,r){let s=Sa(n),o=s?e.tags[xa(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:i,to:r,options:l.map(c=>({label:c,type:"property"})),validFor:_4}}function die(t,e,n,i,r){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=t.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let f=Sa(n),h=f?e.tags[xa(t.doc,f)]:null;u=(h==null?void 0:h.attrs)&&h.attrs[c]}if(u){let f=t.sliceDoc(i,r).toLowerCase(),h='"',d='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,h="",d=t.sliceDoc(r,r+1)==f[0]?"":f[0],f=f.slice(1),i++):l=/^[^\s<>='"]*$/;for(let p of u)a.push({label:p,apply:h+p+d,type:"constant"})}}return{from:i,to:r,options:a,validFor:l}}function w4(t,e){let{state:n,pos:i}=e,r=bt(n).resolveInner(i,-1),s=r.resolve(i);for(let o=i,a;s==r&&(a=r.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=r=a,o=l.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?ew(n,r,r.from,i):J1(n,t,r,r.from,i):r.name=="StartTag"?J1(n,t,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?ew(n,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?hie(n,t,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?die(n,t,r,r.name=="Is"?i:r.from,i):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?fie(n,t,r,i):null}function pie(t){return w4(pu.default,t)}function gie(t){let{extraTags:e,extraGlobalAttributes:n}=t,i=n||e?new pu(e,n):pu.default;return r=>w4(i,r)}const mie=ji.parser.configure({top:"SingleExpression"}),x4=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:Jv.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:p4.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:g4.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:mie},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:ji.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Zr.parser}],S4=[{name:"style",parser:Zr.parser.configure({top:"Styles"})}].concat(b4.map(t=>({name:t,parser:ji.parser}))),$4=go.define({name:"html",parser:Oee.configure({props:[Gu.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let i=t.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Hu.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),LT.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),ta=$4.configure({wrap:$T(x4,S4)});function tw(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=$T((t.nestedLanguages||[]).concat(x4),(t.nestedAttributes||[]).concat(S4)));let i=n?$4.configure({wrap:n,dialect:e}):e?ta.configure({dialect:e}):ta;return new nd(i,[ta.data.of({autocomplete:gie(t)}),t.autoCloseTags!==!1?Oie:[],e0().support,cu().support])}const nw=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Oie=ve.inputHandler.of((t,e,n,i,r)=>{if(t.composing||t.state.readOnly||e!=n||i!=">"&&i!="/"||!ta.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var c,u,f;let h=o.doc.sliceString(l.from-1,l.to)==i,{head:d}=l,p=bt(o).resolveInner(d,-1),m;if(h&&i==">"&&p.name=="EndTag"){let O=p.parent;if(((u=(c=O.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(m=xa(o.doc,O.parent,d))&&!nw.has(m)){let v=d+(o.doc.sliceString(d,d+1)===">"?1:0),b=`</${m}>`;return{range:l,changes:{from:d,to:v,insert:b}}}}else if(h&&i=="/"&&p.name=="IncompleteCloseTag"){let O=p.parent;if(p.from==d-2&&((f=O.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(m=xa(o.doc,O,d))&&!nw.has(m)){let v=d+(o.doc.sliceString(d,d+1)===">"?1:0),b=`${m}>`;return{range:fe.cursor(d+b.length,-1),changes:{from:d,to:v,insert:b}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var vie=Object.defineProperty,bie=Object.defineProperties,yie=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,_ie=Object.prototype.hasOwnProperty,wie=Object.prototype.propertyIsEnumerable,Am=(t,e,n)=>e in t?vie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dr=(t,e)=>{for(var n in e||(e={}))_ie.call(e,n)&&Am(t,n,e[n]);if(iw)for(var n of iw(e))wie.call(e,n)&&Am(t,n,e[n]);return t},Oo=(t,e)=>bie(t,yie(e)),Cm=(t,e,n)=>(Am(t,typeof e!="symbol"?e+"":e,n),n);function jr(t){return t>47&&t<58}function ad(t,e,n){return e=e||65,n=n||90,t&=-33,t>=e&&t<=n}function k4(t){return jr(t)||ld(t)}function ld(t){return t===95||ad(t)}function xie(t){return t===32||t===9||t===160}function n0(t){return xie(t)||t===10||t===13}function i0(t){return t===39||t===34}class ud{constructor(e,n,i){i==null&&typeof e=="string"&&(i=e.length),this.string=e,this.pos=this.start=n||0,this.end=i||0}eof(){return this.pos>=this.end}limit(e,n){return new ud(this.string,e,n)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(e){const n=this.peek(),i=typeof e=="function"?e(n):n===e;return i&&this.next(),i}eatWhile(e){const n=this.pos;for(;!this.eof()&&this.eat(e););return this.pos!==n}backUp(e){this.pos-=e||1}current(){return this.substring(this.start,this.pos)}substring(e,n){return this.string.slice(e,n)}error(e,n=this.pos){return new r0(`${e} at ${n+1}`,n,this.string)}}class r0 extends Error{constructor(e,n,i){super(e),this.pos=n,this.string=i}}function Sie(t){return{tokens:t,start:0,pos:0,size:t.length}}function xo(t){return t.tokens[t.pos]}function s0(t){return t.tokens[t.pos++]}function na(t,e=t.start,n=t.pos){return t.tokens.slice(e,n)}function Wr(t){return t.pos<t.size}function an(t,e){const n=xo(t);return n&&e(n)?(t.pos++,!0):!1}function o0(t,e,n=xo(t)){n&&n.start!=null&&(e+=` at ${n.start}`);const i=new Error(e);return i.pos=n&&n.start,i}function $ie(t,e={}){const n=Sie(t),i=P4(n,e);if(Wr(n))throw o0(n,"Unexpected character");return i}function P4(t,e){const n={type:"TokenGroup",elements:[]};let i=n,r;const s=[];for(;Wr(t)&&(r=Pie(t,e)||kie(t,e));)if(i.elements.push(r),an(t,Iie))s.push(i),i=r;else{if(an(t,Xie))continue;if(an(t,aw))do s.length&&(i=s.pop());while(an(t,aw))}return n}function kie(t,e){if(an(t,Wie)){const n=P4(t,e),i=s0(t);return Qi(i,"group",!1)&&(n.repeat=Aie(t)),n}}function Pie(t,e){let n;const i={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};for(Cie(t,e)&&(i.name=na(t));Wr(t);)if(t.start=t.pos,!i.repeat&&!Vp(i)&&an(t,Lf))i.repeat=t.tokens[t.pos-1];else if(!i.value&&Q4(t))i.value=T4(t);else if(n=rw(t,"id",e)||rw(t,"class",e)||Qie(t))i.attributes?i.attributes=i.attributes.concat(n):i.attributes=Array.isArray(n)?n.slice():[n];else{!Vp(i)&&an(t,Uie)&&(i.selfClose=!0,!i.repeat&&an(t,Lf)&&(i.repeat=t.tokens[t.pos-1]));break}return Vp(i)?void 0:i}function Qie(t){if(an(t,Zie)){const e=[];let n;for(;Wr(t);)if(n=Tie(t))e.push(n);else{if(an(t,Die))break;if(!an(t,A4))throw o0(t,`Unexpected "${xo(t).type}" token`)}return e}}function rw(t,e,n){if(Zs(xo(t),e)){t.pos++;const i={name:[Bie(e)]};return n.jsx&&Q4(t)?(i.value=T4(t),i.expression=!0):i.value=Rm(t)?na(t):void 0,i}}function Tie(t){if(sw(t))return{value:na(t)};if(Rm(t,!0))return{name:na(t),value:an(t,Rie)&&(sw(t)||Rm(t,!0))?na(t):void 0}}function Aie(t){return Lf(xo(t))?t.tokens[t.pos++]:void 0}function sw(t){const e=t.pos,n=xo(t);if(Vf(n)){for(t.pos++;Wr(t);)if(Vf(s0(t),n.single))return t.start=e,!0;throw o0(t,"Unclosed quote",n)}return!1}function Rm(t,e){const n=t.pos,i={attribute:0,expression:0,group:0};for(;Wr(t);){const r=xo(t);if(i.expression)Qi(r,"expression")&&(i[r.context]+=r.open?1:-1);else{if(Vf(r)||Zs(r)||A4(r)||Lf(r))break;if(Qi(r)){if(!e)break;if(r.open)i[r.context]++;else if(i[r.context])i[r.context]--;else break}}t.pos++}return n!==t.pos?(t.start=n,!0):!1}function Cie(t,e){const n=t.pos;if(e.jsx&&an(t,ow))for(;Wr(t);){const{pos:i}=t;if(!an(t,Mie)||!an(t,ow)){t.pos=i;break}}for(;Wr(t)&&an(t,qie););return t.pos!==n?(t.start=n,!0):!1}function Q4(t){const e=t.pos;if(an(t,jie)){let n=0;for(;Wr(t);){const i=s0(t);if(Qi(i,"expression"))if(i.open)n++;else if(n)n--;else break}return t.start=e,!0}return!1}function T4(t){let e=t.start,n=t.pos;return Qi(t.tokens[e],"expression",!0)&&e++,Qi(t.tokens[n-1],"expression",!1)&&n--,na(t,e,n)}function Qi(t,e,n){return!!(t&&t.type==="Bracket"&&(!e||t.context===e)&&(n==null||t.open===n))}function Zs(t,e){return!!(t&&t.type==="Operator"&&(!e||t.operator===e))}function Vf(t,e){return!!(t&&t.type==="Quote"&&(e==null||t.single===e))}function A4(t){return!!(t&&t.type==="WhiteSpace")}function Rie(t){return Zs(t,"equal")}function Lf(t){return!!(t&&t.type==="Repeater")}function Eie(t){return t.type==="Literal"}function ow(t){if(Eie(t)){const e=t.value.charCodeAt(0);return e>=65&&e<=90}return!1}function qie(t){return t.type==="Literal"||t.type==="RepeaterNumber"||t.type==="RepeaterPlaceholder"}function Mie(t){return Zs(t,"class")}function Zie(t){return Qi(t,"attribute",!0)}function Die(t){return Qi(t,"attribute",!1)}function jie(t){return Qi(t,"expression",!0)}function Wie(t){return Qi(t,"group",!0)}function Bie(t){return{type:"Literal",value:t}}function Vp(t){return!t.name&&!t.value&&!t.attributes}function Iie(t){return Zs(t,"child")}function Xie(t){return Zs(t,"sibling")}function aw(t){return Zs(t,"climb")}function Uie(t){return Zs(t,"close")}function Vie(t){return t.eat(92)?(t.start=t.pos,t.eof()||t.pos++,!0):!1}function Lie(t){const e=new ud(t),n=[],i={group:0,attribute:0,expression:0,quote:0};let r=0,s;for(;!e.eof();)if(r=e.peek(),s=zie(e,i),s)n.push(s),s.type==="Quote"?i.quote=r===i.quote?0:r:s.type==="Bracket"&&(i[s.context]+=s.open?1:-1);else throw e.error("Unexpected character");return n}function zie(t,e){return tre(t,e)||Jie(t)||ere(t)||Kie(t)||Nie(t)||Yie(t,e)||Hie(t)||Fie(t)||Gie(t)}function Yie(t,e){const n=t.pos;let i="";for(;!t.eof();){if(Vie(t)){i+=t.current();continue}const r=t.peek();if(r===e.quote||r===36||nre(r,e)||e.expression&&r===125||!e.quote&&!e.expression&&(!e.attribute&&!ore(r)||ire(r,e)||rre(r,e)||i0(r)||C4(r)))break;i+=t.string[t.pos++]}if(n!==t.pos)return t.start=n,{type:"Literal",value:i,start:n,end:t.pos}}function Nie(t){const e=t.pos;if(t.eatWhile(n0))return{type:"WhiteSpace",start:e,end:t.pos,value:t.substring(e,t.pos)}}function Fie(t){const e=t.peek();if(i0(e))return{type:"Quote",single:e===39,start:t.pos++,end:t.pos}}function Gie(t){const e=t.peek(),n=C4(e);if(n)return{type:"Bracket",open:sre(e),context:n,start:t.pos++,end:t.pos}}function Hie(t){const e=R4(t.peek());if(e)return{type:"Operator",operator:e,start:t.pos++,end:t.pos}}function Kie(t){const e=t.pos;if(t.eat(42)){t.start=t.pos;let n=1,i=!1;return t.eatWhile(jr)?n=Number(t.current()):i=!0,{type:"Repeater",count:n,value:0,implicit:i,start:e,end:t.pos}}}function Jie(t){const e=t.pos;if(t.eat(36)&&t.eat(35))return{type:"RepeaterPlaceholder",value:void 0,start:e,end:t.pos};t.pos=e}function ere(t){const e=t.pos;if(t.eatWhile(36)){const n=t.pos-e;let i=!1,r=1,s=0;if(t.eat(64)){for(;t.eat(94);)s++;i=t.eat(45),t.start=t.pos,t.eatWhile(jr)&&(r=Number(t.current()))}return t.start=e,{type:"RepeaterNumber",size:n,reverse:i,base:r,parent:s,start:e,end:t.pos}}}function tre(t,e){const n=t.pos;if((e.expression||e.attribute)&&t.eat(36)&&t.eat(123)){t.start=t.pos;let i,r="";if(t.eatWhile(jr)?(i=Number(t.current()),r=t.eat(58)?lw(t):""):ad(t.peek())&&(r=lw(t)),t.eat(125))return{type:"Field",index:i,name:r,start:n,end:t.pos};throw t.error("Expecting }")}t.pos=n}function lw(t){const e=[];for(t.start=t.pos;!t.eof();)if(t.eat(123))e.push(t.pos);else if(t.eat(125)){if(!e.length){t.pos--;break}e.pop()}else t.pos++;if(e.length)throw t.pos=e.pop(),t.error("Expecting }");return t.current()}function nre(t,e){const n=R4(t);return!n||e.quote||e.expression?!1:!e.attribute||n==="equal"}function ire(t,e){return n0(t)&&!e.expression}function rre(t,e){return t===42&&!e.attribute&&!e.expression}function C4(t){if(t===40||t===41)return"group";if(t===91||t===93)return"attribute";if(t===123||t===125)return"expression"}function R4(t){return t===62&&"child"||t===43&&"sibling"||t===94&&"climb"||t===46&&"class"||t===35&&"id"||t===47&&"close"||t===61&&"equal"||void 0}function sre(t){return t===123||t===91||t===40}function ore(t){return k4(t)||t===45||t===58||t===33}const are={child:">",class:".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},uw={Literal(t){return t.value},Quote(t){return t.single?"'":'"'},Bracket(t){return t.context==="attribute"?t.open?"[":"]":t.context==="expression"?t.open?"{":"}":t.open?"(":"}"},Operator(t){return are[t.operator]},Field(t,e){return t.index!=null?t.name?`\${${t.index}:${t.name}}`:`\${${t.index}`:t.name?e.getVariable(t.name):""},RepeaterPlaceholder(t,e){let n;for(let i=e.repeaters.length-1;i>=0;i--)if(e.repeaters[i].implicit){n=e.repeaters[i];break}return e.inserted=!0,e.getText(n&&n.value)},RepeaterNumber(t,e){let n=1;const i=e.repeaters.length-1,r=e.repeaters[i];if(r&&(n=t.reverse?t.base+r.count-r.value-1:t.base+r.value,t.parent)){const o=Math.max(0,i-t.parent);if(o!==i){const a=e.repeaters[o];n+=r.count*a.value}}let s=String(n);for(;s.length<t.size;)s="0"+s;return s},WhiteSpace(t){return t.value}};function E4(t,e){if(!uw[t.type])throw new Error(`Unknown token ${t.type}`);return uw[t.type](t,e)}const lre=/^((https?:|ftp:|file:)?\/\/|(www|ftp)\.)[^ ]*$/,ure=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,5}$/;function cre(t,e={}){let n=!1,i;e.text&&(Array.isArray(e.text)?i=e.text.filter(s=>s.trim()):i=e.text);const r={type:"Abbreviation",children:Em(t,{inserted:!1,repeaters:[],text:e.text,cleanText:i,repeatGuard:e.maxRepeat||Number.POSITIVE_INFINITY,getText(s){var o;n=!0;let a;if(Array.isArray(e.text)){if(s!==void 0&&s>=0&&s<i.length)return i[s];a=s!==void 0?e.text[s]:e.text.join(`
`)}else a=(o=e.text)!==null&&o!==void 0?o:"";return a},getVariable(s){const o=e.variables&&e.variables[s];return o??s}})};if(e.text!=null&&!n){const s=a0($a(r.children));if(s){const o=Array.isArray(e.text)?e.text.join(`
`):e.text;j4(s,o),s.name==="a"&&e.href&&hre(s,o)}}return r}function q4(t,e){let n=[];if(t.repeat){const i=t.repeat,r=Object.assign({},i);r.count=r.implicit&&Array.isArray(e.text)?e.cleanText.length:r.count||1;let s;e.repeaters.push(r);for(let o=0;o<r.count;o++){if(r.value=o,t.repeat=r,s=fw(t)?Em(t,e):cw(t,e),r.implicit&&!e.inserted){const a=$a(s),l=a&&a0(a);l&&j4(l,e.getText(r.value))}if(n=n.concat(s),--e.repeatGuard<=0)break}e.repeaters.pop(),t.repeat=i,r.implicit&&(e.inserted=!0)}else n=n.concat(fw(t)?Em(t,e):cw(t,e));return n}function cw(t,e){let n=[];const i={type:"AbbreviationNode",name:t.name&&M4(t.name,e),value:t.value&&Z4(t.value,e),attributes:void 0,children:n,repeat:t.repeat&&Object.assign({},t.repeat),selfClosing:t.selfClose};let r=[i];for(const s of t.elements)n=n.concat(q4(s,e));if(t.attributes){i.attributes=[];for(const s of t.attributes)i.attributes.push(fre(s,e))}return!i.name&&!i.attributes&&i.value&&!i.value.some(D4)?r=r.concat(n):i.children=n,r}function Em(t,e){let n=[];for(const i of t.elements)n=n.concat(q4(i,e));return t.repeat&&(n=dre(n,t.repeat)),n}function fre(t,e){let n=!1,i=!1,r=t.expression?"expression":"raw",s;const o=t.name&&M4(t.name,e);if(o&&o[0]==="!"&&(n=!0),o&&o[o.length-1]==="."&&(i=!0),t.value){const a=t.value.slice();if(Vf(a[0])){const l=a.shift();a.length&&$a(a).type===l.type&&a.pop(),r=l.single?"singleQuote":"doubleQuote"}else Qi(a[0],"expression",!0)&&(r="expression",a.shift(),Qi($a(a),"expression",!1)&&a.pop());s=Z4(a,e)}return{name:i||n?o.slice(n?1:0,i?-1:void 0):o,value:s,boolean:i,implied:n,valueType:r}}function M4(t,e){let n="";for(let i=0;i<t.length;i++)n+=E4(t[i],e);return n}function Z4(t,e){const n=[];let i="";for(let r=0,s;r<t.length;r++)s=t[r],D4(s)?(i&&(n.push(i),i=""),n.push(s)):i+=E4(s,e);return i&&n.push(i),n}function fw(t){return t.type==="TokenGroup"}function D4(t){return typeof t=="object"&&t.type==="Field"&&t.index!=null}function $a(t){return t[t.length-1]}function a0(t){return t.children.length?a0($a(t.children)):t}function j4(t,e){t.value?typeof $a(t.value)=="string"?t.value[t.value.length-1]+=e:t.value.push(e):t.value=[e]}function hre(t,e){var n;let i="";lre.test(e)?(i=e,!/\w+:/.test(i)&&!i.startsWith("//")&&(i=`http://${i}`)):ure.test(e)&&(i=`mailto:${e}`);const r=(n=t.attributes)===null||n===void 0?void 0:n.find(s=>s.name==="href");r?r.value||(r.value=[i]):(t.attributes||(t.attributes=[]),t.attributes.push({name:"href",value:[i],valueType:"doubleQuote"}))}function dre(t,e){for(const n of t)n.repeat||(n.repeat=Object.assign({},e));return t}function l0(t,e){try{const n=typeof t=="string"?Lie(t):t;return cre($ie(n,e),e)}catch(n){throw n instanceof r0&&typeof t=="string"&&(n.message+=`
${t}
${"-".repeat(n.pos)}^`),n}}function pre(t,e){let n=0,i;const r=new ud(t),s=[];for(;!r.eof();){if(i=gre(r,n===0&&!e),!i)throw r.error("Unexpected character");if(i.type==="Bracket"&&(!n&&i.open&&Are(r,s),n+=i.open?1:-1,n<0))throw r.error("Unexpected bracket",i.start);s.push(i),Tre(i)&&(i=W4(r))&&s.push(i)}return s}function gre(t,e){return mre(t)||vre(t)||yre(t)||bre(t)||wre(t)||W4(t)||_re(t)||Ore(t,e)}function mre(t){const e=t.pos;if(t.eat(36)&&t.eat(123)){t.start=t.pos;let n,i="";if(t.eatWhile(jr)?(n=Number(t.current()),i=t.eat(58)?hw(t):""):ad(t.peek())&&(i=hw(t)),t.eat(125))return{type:"Field",index:n,name:i,start:e,end:t.pos};throw t.error("Expecting }")}t.pos=e}function hw(t){const e=[];for(t.start=t.pos;!t.eof();)if(t.eat(123))e.push(t.pos);else if(t.eat(125)){if(!e.length){t.pos--;break}e.pop()}else t.pos++;if(e.length)throw t.pos=e.pop(),t.error("Expecting }");return t.current()}function Ore(t,e){const n=t.pos;if(t.eat(Sre)?t.eatWhile(n?dw:zp):t.eat(ld)?t.eatWhile(e?zp:dw):(t.eat(46),t.eatWhile(zp)),n!==t.pos)return t.start=n,u0(t,t.start=n)}function u0(t,e=t.start,n=t.pos){return{type:"Literal",value:t.substring(e,n),start:e,end:n}}function vre(t){const e=t.pos;if(xre(t)){t.start=e;const n=t.current();return t.start=t.pos,t.eat(37)||t.eatWhile(ld),{type:"NumberValue",value:Number(n),rawValue:n,unit:t.current(),start:e,end:t.pos}}}function bre(t){const e=t.peek(),n=t.pos;let i=!1;if(i0(e)){for(t.pos++;!t.eof();)if(t.eat(e)){i=!0;break}else t.pos++;return t.start=n,{type:"StringValue",value:t.substring(n+1,t.pos-(i?1:0)),quote:e===39?"single":"double",start:n,end:t.pos}}}function yre(t){const e=t.pos;if(t.eat(35)){const n=t.pos;let i="",r="";if(t.eatWhile(kre)?(i=t.substring(n,t.pos),r=Lp(t)):t.eat(116)?(i="0",r=Lp(t)||"0"):r=Lp(t),i||r||t.eof()){const{r:s,g:o,b:a,a:l}=Qre(i,r);return{type:"ColorValue",r:s,g:o,b:a,a:l,raw:t.substring(e+1,t.pos),start:e,end:t.pos}}else return u0(t,e)}t.pos=e}function Lp(t){const e=t.pos;return t.eat(46)?(t.start=e,t.eatWhile(jr)?t.current():"1"):""}function _re(t){const e=t.pos;if(t.eatWhile(n0))return{type:"WhiteSpace",start:e,end:t.pos}}function wre(t){const e=t.peek();if(Pre(e))return{type:"Bracket",open:e===40,start:t.pos++,end:t.pos}}function W4(t){const e=$re(t.peek());if(e)return{type:"Operator",operator:e,start:t.pos++,end:t.pos}}function xre(t){const e=t.pos;t.eat(45);const n=t.pos,i=t.eatWhile(jr),r=t.pos;if(t.eat(46)){const s=t.eatWhile(jr);!i&&!s&&(t.pos=r)}return t.pos===n&&(t.pos=e),t.pos!==e}function Sre(t){return t===64||t===36}function $re(t){return t===43&&"+"||t===33&&"!"||t===44&&","||t===58&&":"||t===45&&"-"||void 0}function kre(t){return jr(t)||ad(t,65,70)}function dw(t){return k4(t)||t===45}function Pre(t){return t===40||t===41}function zp(t){return ld(t)||t===37||t===47}function Qre(t,e){let n="0",i="0",r="0",s=Number(e!=null&&e!==""?e:1);if(t==="t")s=0;else switch(t.length){case 0:break;case 1:n=i=r=t+t;break;case 2:n=i=r=t;break;case 3:n=t[0]+t[0],i=t[1]+t[1],r=t[2]+t[2];break;default:t+=t,n=t.slice(0,2),i=t.slice(2,4),r=t.slice(4,6)}return{r:parseInt(n,16),g:parseInt(i,16),b:parseInt(r,16),a:s}}function Tre(t){return t.type==="ColorValue"||t.type==="NumberValue"&&!t.unit}function Are(t,e){let n=0,i=0;for(;e.length;){const r=Cre(e);if(r.type==="Literal"||r.type==="NumberValue")n=r.start,i||(i=r.end),e.pop();else break}n!==i&&e.push(u0(t,n,i))}function Cre(t){return t[t.length-1]}function Rre(t){return{tokens:t,start:0,pos:0,size:t.length}}function cd(t){return t.tokens[t.pos]}function fd(t){return t.pos<t.size}function Sr(t,e){return e(cd(t))?(t.pos++,!0):!1}function B4(t,e,n=cd(t)){n&&n.start!=null&&(e+=` at ${n.start}`);const i=new Error(e);return i.pos=n&&n.start,i}function Ere(t,e={}){const n=Rre(t),i=[];let r;for(;fd(n);)if(r=qre(n,e))i.push(r);else if(!Sr(n,jre))throw B4(n,"Unexpected token");return i}function qre(t,e){let n,i=!1,r;const s=[],o=cd(t),a=!!e.value;for(!a&&c0(o)&&!Xre(t)&&(t.pos++,n=o.value,Sr(t,V4)),a&&Sr(t,f0);fd(t);)if(Sr(t,Bre))i=!0;else if(r=I4(t,a))s.push(r);else if(!Sr(t,Wre))break;if(n||s.length||i)return{name:n,value:s,important:i}}function I4(t,e){const n=[];let i,r;for(;fd(t);)if(i=cd(t),Ire(i))t.pos++,c0(i)&&(r=Mre(t))?n.push({type:"FunctionCall",name:i.value,arguments:r}):n.push(i);else if(V4(i)||e&&f0(i))t.pos++;else break;return n.length?{type:"CSSValue",value:n}:void 0}function Mre(t){const e=t.pos;if(Sr(t,Zre)){const n=[];let i;for(;fd(t)&&!Sr(t,Dre);)if(i=I4(t,!0))n.push(i);else if(!Sr(t,f0)&&!Sr(t,U4))throw B4(t,"Unexpected token");return t.start=e,n}}function c0(t){return t&&t.type==="Literal"}function X4(t,e){return t&&t.type==="Bracket"&&(e==null||t.open===e)}function Zre(t){return X4(t,!0)}function Dre(t){return X4(t,!1)}function f0(t){return t&&t.type==="WhiteSpace"}function gu(t,e){return t&&t.type==="Operator"&&(!e||t.operator===e)}function jre(t){return gu(t,"+")}function U4(t){return gu(t,",")}function Wre(t){return U4(t)}function Bre(t){return gu(t,"!")}function Ire(t){return t.type==="StringValue"||t.type==="ColorValue"||t.type==="NumberValue"||t.type==="Literal"||t.type==="Field"}function V4(t){return gu(t,":")||gu(t,"-")}function Xre(t){const e=t.tokens[t.pos],n=t.tokens[t.pos+1];return e&&n&&c0(e)&&n.type==="Bracket"}function h0(t,e){try{const n=typeof t=="string"?pre(t,e&&e.value):t;return Ere(n,e)}catch(n){throw n instanceof r0&&typeof t=="string"&&(n.message+=`
${t}
${"-".repeat(n.pos)}^`),n}}function Ure(t,e){if(!t.attributes)return;const n=[],i={};for(const r of t.attributes)if(r.name){const s=r.name;if(s in i){const o=i[s];s==="class"?o.value=Vre(o.value,r.value," "):Lre(o,r,e)}else n.push(i[s]=Object.assign({},r))}else n.push(r);t.attributes=n}function Vre(t,e,n){if(t&&e){t.length&&n&&pw(t,n);for(const r of e)pw(t,r);return t}const i=t||e;return i&&i.slice()}function Lre(t,e,n){return t.name=e.name,n.options["output.reverseAttributes"]||(t.value=e.value),t.implied||(t.implied=e.implied),t.boolean||(t.boolean=e.boolean),t.valueType!=="expression"&&(t.valueType=e.valueType),t}function pw(t,e){const n=t.length-1;typeof t[n]=="string"&&typeof e=="string"?t[n]+=e:t.push(e)}function zre(t,e,n){const i=[t],r=s=>{e(s,i,n),i.push(s),s.children.forEach(r),i.pop()};t.children.forEach(r)}function Yre(t){let e;for(;t.children.length;)e=t,t=t.children[t.children.length-1];return{parent:e,node:t}}function L4(t){return t.type==="AbbreviationNode"}function Nre(t,e){const n=[],i=e.options["output.reverseAttributes"],r=s=>{const o=s.name&&e.snippets[s.name];if(!o||n.includes(o))return null;const a=l0(o,e);n.push(o),zf(a,r),n.pop();for(const l of a.children){if(s.attributes){const c=l.attributes||[],u=s.attributes||[];l.attributes=i?u.concat(c):c.concat(u)}Fre(s,l)}return a};return zf(t,r),t}function zf(t,e,n){let i=[];for(const r of t.children){const s=e(r);if(s){i=i.concat(s.children);const o=Yre(s);L4(o.node)&&(o.node.children=o.node.children.concat(zf(r,e)))}else i.push(r),r.children=zf(r,e)}return t.children=i}function Fre(t,e){t.selfClosing&&(e.selfClosing=!0),t.value!=null&&(e.value=t.value),t.repeat&&(e.repeat=t.repeat)}function z4(t,e=0){return{options:t,value:"",level:e,offset:0,line:0,column:0}}function Lt(t,e){const n=t.options["output.text"];F4(t,n(e,t.offset,t.line,t.column))}function dt(t,e){const n=Jre(e);for(let i=0,r=n.length-1;i<=r;i++)Lt(t,n[i]),i!==r&&er(t,!0)}function er(t,e){const n=t.options["output.baseIndent"],i=t.options["output.newline"];Lt(t,i+n),t.line++,t.column=n.length,e&&Gre(t,e===!0?t.level:e)}function Gre(t,e=t.level){const n=t.options["output.indent"];Lt(t,n.repeat(Math.max(e,0)))}function d0(t,e,n){const i=t.options["output.field"];F4(t,i(e,n,t.offset,t.line,t.column))}function Hre(t,e){return G4(t,e.options["output.tagCase"])}function Y4(t,e){return G4(t,e.options["output.attributeCase"])}function Yf(t,e,n){return t.valueType==="expression"?n?"{":"}":e.options["output.attributeQuotes"]==="single"?"'":'"'}function N4(t,e){return t.boolean||e.options["output.booleanAttributes"].includes((t.name||"").toLowerCase())}function Kre(t){switch(t.options["output.selfClosingStyle"]){case"xhtml":return" /";case"xml":return"/";default:return""}}function ia(t,e){return typeof t=="string"?e.options.inlineElements.includes(t.toLowerCase()):t.name?ia(t.name,e):!!(t.value&&!t.attributes)}function Jre(t){return t.split(/\r\n|\r|\n/g)}function F4(t,e){t.value+=e,t.offset+=e.length,t.column+=e.length}function G4(t,e){return e?e==="upper"?t.toUpperCase():t.toLowerCase():t}const ese={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};function tse(t,e,n){!t.name&&t.attributes&&H4(t,e,n)}function H4(t,e,n){const i=ise(e),r=n.context?n.context.name:"",s=nse(i?i.name:r);t.name=ese[s]||(ia(s,n)?"span":"div")}function nse(t){return(t||"").toLowerCase()}function ise(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(L4(n))return n}}var rse={common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},sse={common:["-","","",""," ",""," ","","",""],words:[""," ","","",""," ","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","lorem","ipsum","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ose={common:["mujer","uno","dolor","ms","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pao","suntuoso","molde","namibia","planeador","mirar","dems","oficinista","excepcin","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","curum","dignsimo","facilismo","letra","nihilista","expedicin","alma","alveolar","aparte","len","animal","como","paria","belleza","modo","natividad","justo","ataque","squito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asuncin","incidente","marejada","placenta","amanecer","fuga","previsor","presentacin","lejos","necesariamente","sospechoso","adiposidad","quindo","pcima","voluble","dbito","sinti","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mnima","mayores","repugnante","dulce","obcecado","montaa","enigma","total","deletreo","dcima","cbala","fotografa","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnfico","distincin","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abada","analfabeto","remo","fugacidad","oficio","en","almcigo","vos","pan","represin","nmeros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrn","explcito","paloma","sndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apndice","arquitecto","columna","yugo","computador","mula","a","propsito","fantasa","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]};const gw={ru:sse,sp:ose,latin:rse},ase=/^lorem([a-z]*)(\d*)(-\d*)?$/i;function lse(t,e,n){let i;if(t.name&&(i=t.name.match(ase))){const r=gw[i[1]]||gw.latin,s=i[2]?Math.max(1,Number(i[2])):30,o=i[3]?Math.max(s,Number(i[3].slice(1))):s,a=hs(s,o),l=t.repeat||dse(e);t.name=t.attributes=void 0,t.value=[hse(r,a,!l||l.value===0)],t.repeat&&e.length>1&&H4(t,e,n)}}function hs(t,e){return Math.floor(Math.random()*(e-t)+t)}function use(t,e){const n=t.length,i=Math.min(n,e),r=[];for(;r.length<i;){const s=t[hs(0,n)];r.includes(s)||r.push(s)}return r}function cse(t){return t[hs(0,t.length-1)]}function mw(t,e){return t.length&&(t=[fse(t[0])].concat(t.slice(1))),t.join(" ")+(e||cse("?!..."))}function fse(t){return t[0].toUpperCase()+t.slice(1)}function Ow(t){if(t.length<2)return t;t=t.slice();const e=t.length,n=/,$/;let i=0;e>3&&e<=6?i=hs(0,1):e>6&&e<=12?i=hs(0,2):i=hs(1,4);for(let r=0,s;r<i;r++)s=hs(0,e-2),n.test(t[s])||(t[s]+=",");return t}function hse(t,e,n){const i=[];let r=0,s;for(n&&t.common&&(s=t.common.slice(0,e),r+=s.length,i.push(mw(Ow(s),".")));r<e;)s=use(t.words,Math.min(hs(2,30),e-r)),r+=s.length,i.push(mw(Ow(s)));return i.join(" ")}function dse(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.type==="AbbreviationNode"&&n.repeat)return n.repeat}}function pse(t){t.attributes&&t.attributes.forEach(gse)}function gse(t){t.name==="class"?t.name="className":t.name==="for"&&(t.name="htmlFor")}function mse(t){vse(t.name)&&t.attributes&&(t.children.length||t.value)&&(t.attributes=t.attributes.filter(Ose))}function Ose(t){return t.name!=="select"}function vse(t){return t==="xsl:variable"||t==="xsl:with-param"}const K4=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,J4=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,bse=t=>/^[a-z]\-/i.test(t),yse=t=>/^[a-z]/i.test(t);function _se(t,e,n){wse(t),xse(t,e,n)}function wse(t){const e=p0(t),n=[];for(const i of e.classNames){const r=i.indexOf("_");r>0&&!i.startsWith("-")?(n.push(i.slice(0,r)),n.push(i.slice(r))):n.push(i)}n.length&&(e.classNames=n.filter(iA),e.block=tA(e.classNames),nA(t,e.classNames.join(" ")))}function xse(t,e,n){const i=p0(t),r=[],{options:s}=n,o=e.slice(1).concat(t);for(let l of i.classNames){let c="",u;const f=l;(u=l.match(K4))&&(c=vw(o,u[1].length,n.context)+s["bem.element"]+u[2],r.push(c),l=l.slice(u[0].length)),(u=l.match(J4))&&(c||(c=vw(o,u[1].length),r.push(c)),r.push(`${c}${s["bem.modifier"]}${u[2]}`),l=l.slice(u[0].length)),l===f&&r.push(f)}const a=r.filter(iA);a.length&&nA(t,a.join(" "))}function p0(t){if(!t._bem){let e="";if(t.attributes){for(const n of t.attributes)if(n.name==="class"&&n.value){e=$se(n.value);break}}t._bem=eA(e)}return t._bem}function Sse(t){return t._bem||(t._bem=eA(t.attributes&&t.attributes.class||"")),t._bem}function eA(t){const e=t?t.split(/\s+/):[];return{classNames:e,block:tA(e)}}function vw(t,e=0,n){let r=Math.max(t.length-e,0);do{const s=t[r];if(s){const o=p0(s);if(o.block)return o.block}}while(0<r--);if(n){const s=Sse(n);if(s.block)return s.block}return""}function tA(t){return bw(t,bse)||bw(t,yse)||void 0}function bw(t,e){for(const n of t){if(K4.test(n)||J4.test(n))break;if(e(n))return n}}function nA(t,e){for(const n of t.attributes)if(n.name==="class"){n.value=[e];break}}function $se(t){let e="";for(const n of t)e+=typeof n=="string"?n:n.name;return e}function iA(t,e,n){return!!t&&n.indexOf(t)===e}function rA(t,e,n){const i=(s,o,a)=>{const{parent:l,current:c}=n;n.parent=c,n.current=s,e(s,o,a,n,r),n.current=c,n.parent=l},r=(s,o,a)=>{n.ancestors.push(n.current),i(s,o,a),n.ancestors.pop()};t.children.forEach(i)}function sA(t){return{current:null,parent:void 0,ancestors:[],config:t,field:1,out:z4(t.options)}}const hd=[{type:"Field",index:0,name:""}];function Js(t){return t?!t.name&&!t.attributes:!1}function yw(t,e){return t?ia(t,e):!1}function oA(t){return typeof t=="object"&&t.type==="Field"}function yi(t,e){const{out:n}=e;let i=-1;for(const r of t)typeof r=="string"?dt(n,r):(d0(n,e.field+r.index,r.name),r.index>i&&(i=r.index));i!==-1&&(e.field+=i+1)}function kse(t){const e=[];let n=[];for(const i of t)if(typeof i=="string"){const r=i.split(/\r\n?|\n/g);for(n.push(r.shift()||"");r.length;)e.push(n),n=[r.shift()||""]}else n.push(i);return n.length&&e.push(n),e}function aA(t){return!t.implied||t.valueType!=="raw"||!!t.value&&t.value.length>0}function _w(t){const e=[],n={pos:0,text:t};let i,r=n.pos,s=n.pos;for(;n.pos<n.text.length;)s=n.pos,(i=Pse(n))?(r!==n.pos&&e.push(t.slice(r,s)),e.push(i),r=n.pos):n.pos++;return r!==n.pos&&e.push(t.slice(r)),e}function Pse(t){if(Yp(t)===91){const e=++t.pos;let n=e,i=e,r=1;for(;t.pos<t.text.length;){const s=Yp(t);if(lA(s)){for(n=t.pos;Qse(Yp(t));)t.pos++;i=t.pos}else{if(s===91)r++;else if(s===93&&--r===0)return{before:t.text.slice(e,n),after:t.text.slice(i,t.pos++),name:t.text.slice(n,i)};t.pos++}}}}function Yp(t,e=t.pos){return t.text.charCodeAt(e)}function lA(t){return t>=65&&t<=90}function Qse(t){return lA(t)||t>47&&t<58||t===95||t===45}function Tse(t){const{options:e}=t;return{enabled:e["comment.enabled"],trigger:e["comment.trigger"],before:e["comment.before"]?_w(e["comment.before"]):void 0,after:e["comment.after"]?_w(e["comment.after"]):void 0}}function Ase(t,e){uA(t,e)&&e.comment.before&&cA(t,e.comment.before,e)}function Cse(t,e){uA(t,e)&&e.comment.after&&cA(t,e.comment.after,e)}function uA(t,e){const{comment:n}=e;if(!n.enabled||!n.trigger||!t.name||!t.attributes)return!1;for(const i of t.attributes)if(i.name&&n.trigger.includes(i.name))return!0;return!1}function cA(t,e,n){const i={},{out:r}=n;for(const s of t.attributes)s.name&&s.value&&(i[s.name.toUpperCase()]=s.value);for(const s of e)typeof s=="string"?dt(r,s):i[s.name]&&(dt(r,s.before),yi(i[s.name],n),dt(r,s.after))}const Rse=/^<([\w\-:]+)[\s>]/;function fA(t,e){const n=sA(e);return n.comment=Tse(e),rA(t,Ese,n),n.out.value}function Ese(t,e,n,i,r){const{out:s,config:o}=i,a=hA(t,e,n,i),l=Mse(i);if(s.level+=l,a&&er(s,!0),t.name){const c=Hre(t.name,o);if(Ase(t,i),dt(s,`<${c}`),t.attributes)for(const u of t.attributes)aA(u)&&qse(u,i);if(t.selfClosing&&!t.children.length&&!t.value)dt(s,`${Kre(o)}>`);else{if(dt(s,">"),!ww(t,i,r)){if(t.value){const u=t.value.some(dA)||Zse(t.value,o);u&&er(i.out,++s.level),yi(t.value,i),u&&er(i.out,--s.level)}if(t.children.forEach(r),!t.value&&!t.children.length){const u=o.options["output.formatLeafNode"]||o.options["output.formatForce"].includes(t.name);u&&er(i.out,++s.level),yi(hd,i),u&&er(i.out,--s.level)}}dt(s,`</${c}>`),Cse(t,i)}}else!ww(t,i,r)&&t.value&&(yi(t.value,i),t.children.forEach(r));if(a&&e===n.length-1&&i.parent){const c=Js(i.parent)?0:1;er(s,s.level-c)}s.level-=l}function qse(t,e){const{out:n,config:i}=e;if(t.name){const r=Y4(t.name,i),s=Yf(t,i,!0),o=Yf(t,i);let a=t.value;N4(t,i)&&!a?i.options["output.compactBoolean"]||(a=[r]):a||(a=hd),dt(n," "+r),a?(dt(n,"="+s),yi(a,e),dt(n,o)):i.options["output.selfClosingStyle"]!=="html"&&dt(n,"="+s+o)}}function ww(t,e,n){if(t.value&&t.children.length){const i=t.value.findIndex(oA);if(i!==-1){yi(t.value.slice(0,i),e);const r=e.out.line;let s=i+1;return t.children.forEach(n),e.out.line!==r&&typeof t.value[s]=="string"&&dt(e.out,t.value[s++].trimLeft()),yi(t.value.slice(s),e),!0}}return!1}function hA(t,e,n,i){const{config:r,parent:s}=i;if(!r.options["output.format"]||e===0&&!s||s&&Js(s)&&n.length===1)return!1;if(Js(t)&&(Js(n[e-1])||Js(n[e+1])||t.value.some(dA)||t.value.some(oA)&&t.children.length))return!0;if(ia(t,r)){if(e===0){for(let o=0;o<n.length;o++)if(!ia(n[o],r))return!0}else if(!ia(n[e-1],r))return!0;if(r.options["output.inlineBreak"]){let o=1,a=e,l=e;for(;yw(n[--a],r);)o++;for(;yw(n[++l],r);)o++;if(o>=r.options["output.inlineBreak"])return!0}for(let o=0,a=t.children.length;o<a;o++)if(hA(t.children[o],o,t.children,i))return!0;return!1}return!0}function Mse(t){const{config:e,parent:n}=t;return!n||Js(n)||n.name&&e.options["output.formatSkip"].includes(n.name)?0:1}function dA(t){return typeof t=="string"&&/\r|\n/.test(t)}function Zse(t,e){if(t.length&&typeof t[0]=="string"){const n=Rse.exec(t[0]);if(n!=null&&n.length&&!e.options.inlineElements.includes(n[1].toLowerCase()))return!0}return!1}function g0(t,e,n){const i=sA(e);return i.options=n||{},rA(t,Dse,i),i.out.value}function Dse(t,e,n,i,r){const{out:s,options:o}=i,{primary:a,secondary:l}=jse(t),c=i.parent?1:0;s.level+=c,Vse(t,e,n,i)&&er(s,!0),t.name&&(t.name!=="div"||!a.length)&&dt(s,(o.beforeName||"")+t.name+(o.afterName||"")),Wse(a,i),Bse(l.filter(aA),i),t.selfClosing&&!t.value&&!t.children.length?i.options.selfClose&&dt(s,i.options.selfClose):(Ise(t,i),t.children.forEach(r)),s.level-=c}function jse(t){const e=[],n=[];if(t.attributes)for(const i of t.attributes)Xse(i)?e.push(i):n.push(i);return{primary:e,secondary:n}}function Wse(t,e){for(const n of t)if(n.value)if(n.name==="class"){dt(e.out,".");const i=n.value.map(r=>typeof r=="string"?r.replace(/\s+/g,"."):r);yi(i,e)}else dt(e.out,"#"),yi(n.value,e)}function Bse(t,e){if(t.length){const{out:n,config:i,options:r}=e;r.beforeAttribute&&dt(n,r.beforeAttribute);for(let s=0;s<t.length;s++){const o=t[s];dt(n,Y4(o.name||"",i)),N4(o,i)&&!o.value?!i.options["output.compactBoolean"]&&r.booleanValue&&dt(n,"="+r.booleanValue):(dt(n,"="+Yf(o,i,!0)),yi(o.value||hd,e),dt(n,Yf(o,i))),s!==t.length-1&&r.glueAttribute&&dt(n,r.glueAttribute)}r.afterAttribute&&dt(n,r.afterAttribute)}}function Ise(t,e){if(!t.value&&t.children.length)return;const n=t.value||hd,i=kse(n),{out:r,options:s}=e;if(i.length===1)(t.name||t.attributes)&&Lt(r," "),yi(n,e);else{const o=[];let a=0;for(const l of i){const c=Use(l);o.push(c),c>a&&(a=c)}r.level++;for(let l=0;l<i.length;l++)er(r,!0),s.beforeTextLine&&Lt(r,s.beforeTextLine),yi(i[l],e),s.afterTextLine&&(Lt(r," ".repeat(a-o[l])),Lt(r,s.afterTextLine));r.level--}}function Xse(t){return t.name==="class"||t.name==="id"}function Use(t){let e=0;for(const n of t)e+=typeof n=="string"?n.length:n.name.length;return e}function Vse(t,e,n,i){return!i.parent&&e===0?!1:!Js(t)}function Lse(t,e){return g0(t,e,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})}function zse(t,e){return g0(t,e,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})}function Yse(t,e){return g0(t,e,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:e.options["output.selfClosingStyle"]==="xml"?"/":""})}const Nse={html:fA,haml:Lse,slim:zse,pug:Yse};function Fse(t,e){let n;if(typeof t=="string"){let i=e;e.options["jsx.enabled"]&&(i=Object.assign(Object.assign({},i),{jsx:!0})),e.options["markup.href"]&&(i=Object.assign(Object.assign({},i),{href:!0})),t=l0(t,i),n=e.text,e.text=void 0}return t=Nre(t,e),zre(t,Hse,e),e.text=n??e.text,t}function Gse(t,e){return(Nse[e.syntax]||fA)(t,e)}function Hse(t,e,n){tse(t,e,n),Ure(t,n),lse(t,e,n),n.syntax==="xsl"&&mse(t),n.options["jsx.enabled"]&&pse(t),n.options["bem.enabled"]&&_se(t,e,n)}const Kse=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,Jse={value:!0};function eoe(t,e){const n=e.match(Kse);if(n){const i={},r=n[2]?n[2].split("|").map(ioe):[];for(const s of r)for(const o of s)soe(o,i);return{type:"Property",key:t,property:n[1],value:r,keywords:i,dependencies:[]}}return{type:"Raw",key:t,value:e}}function toe(t){t=t.slice().sort(noe);const e=[];let n;for(const i of t.filter(roe)){for(;e.length;){if(n=e[e.length-1],i.property.startsWith(n.property)&&i.property.charCodeAt(n.property.length)===45){n.dependencies.push(i),e.push(i);break}e.pop()}e.length||e.push(i)}return t}function noe(t,e){return t.key===e.key?0:t.key<e.key?-1:1}function ioe(t){return h0(t.trim(),Jse)[0].value}function roe(t){return t.type==="Property"}function soe(t,e){for(const n of t.value)if(n.type==="Literal")e[n.value]=n;else if(n.type==="FunctionCall")e[n.name]=n;else if(n.type==="Field"){const i=n.name.trim();i&&(e[i]={type:"Literal",value:i})}}function ooe(t,e,n=!1){if(t=t.toLowerCase(),e=e.toLowerCase(),t===e)return 1;if(!t||!e||t.charCodeAt(0)!==e.charCodeAt(0))return 0;const i=t.length,r=e.length;if(!n&&i>r)return 0;const s=Math.min(i,r),o=Math.max(i,r);let a=1,l=1,c=o,u=0,f=0,h=!1,d=!1;for(;a<i;){for(u=t.charCodeAt(a),h=!1,d=!1;l<r;){if(f=e.charCodeAt(l),u===f){h=!0,c+=o-(d?a:l);break}d=f===45,l++}if(!h){if(!n)return 0;break}a++}const p=a/o,m=o-s,O=xw(o)-xw(m);return c*p/O}function xw(t){return t*(t+1)/2}function pA(t,e){return!t.r&&!t.g&&!t.b&&!t.a?"transparent":t.a===1?aoe(t,e):loe(t)}function aoe(t,e){const n=e&&Np(t.r)&&Np(t.g)&&Np(t.b)?uoe:coe;return"#"+n(t.r)+n(t.g)+n(t.b)}function loe(t){const e=[t.r,t.g,t.b];return t.a!==1&&e.push(gA(t.a,8)),`${e.length===3?"rgb":"rgba"}(${e.join(", ")})`}function gA(t,e=4){return t.toFixed(e).replace(/\.?0+$/,"")}function Np(t){return!(t%17)}function uoe(t){return(t>>4).toString(16)}function coe(t){return foe(t.toString(16),2)}function foe(t,e){for(;t.length<e;)t="0"+t;return t}function hoe(t,e){var n;const i=z4(e.options),r=e.options["output.format"];((n=e.context)===null||n===void 0?void 0:n.name)==="@@section"&&(t=t.filter(s=>s.snippet));for(let s=0;s<t.length;s++)r&&s!==0&&er(i,!0),doe(t[s],i,e);return i.value}function doe(t,e,n){const i=n.options["stylesheet.json"];if(t.name){const r=i?moe(t.name):t.name;dt(e,r+n.options["stylesheet.between"]),t.value.length?poe(t,e,n):d0(e,0,""),i?Lt(e,","):(Sw(t,e,!0),Lt(e,n.options["stylesheet.after"]))}else{for(const r of t.value)for(const s of r.value)OA(s,e,n);Sw(t,e,t.value.length>0)}}function poe(t,e,n){const i=n.options["stylesheet.json"],r=i?goe(t):null;if(r&&(!r.unit||r.unit==="px"))Lt(e,String(r.value));else{const s=Ooe(n);i&&Lt(e,s);for(let o=0;o<t.value.length;o++)o!==0&&Lt(e,", "),mA(t.value[o],e,n);i&&Lt(e,s)}}function Sw(t,e,n){t.important&&(n&&Lt(e," "),Lt(e,"!important"))}function mA(t,e,n){for(let i=0,r=-1;i<t.value.length;i++){const s=t.value[i];i!==0&&(s.type!=="Field"||s.start!==r)&&Lt(e," "),OA(s,e,n),r=s.end}}function OA(t,e,n){if(t.type==="ColorValue")Lt(e,pA(t,n.options["stylesheet.shortHex"]));else if(t.type==="Literal")dt(e,t.value);else if(t.type==="NumberValue")dt(e,gA(t.value,4)+t.unit);else if(t.type==="StringValue"){const i=t.quote==="double"?'"':"'";dt(e,i+t.value+i)}else if(t.type==="Field")d0(e,t.index,t.name);else if(t.type==="FunctionCall"){Lt(e,t.name+"(");for(let i=0;i<t.arguments.length;i++)i&&Lt(e,", "),mA(t.arguments[i],e,n);Lt(e,")")}}function goe(t){if(t.value.length===1){const e=t.value[0];if(e.value.length===1&&e.value[0].type==="NumberValue")return e.value[0]}}function moe(t){return t.replace(/\-(\w)/g,(e,n)=>n.toUpperCase())}function Ooe(t){return t.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}const $w="lg";function voe(t,e){var n;const i=((n=e.cache)===null||n===void 0?void 0:n.stylesheetSnippets)||boe(e.snippets);e.cache&&(e.cache.stylesheetSnippets=i),typeof t=="string"&&(t=h0(t,{value:_A(e)}));const r=Poe(i,e);for(const s of t)yoe(s,r,e);return t}function boe(t){const e=[];for(const n of Object.keys(t))e.push(eoe(n,t[n]));return toe(e)}function yoe(t,e,n){if(!_oe(t,n)){const i=n.options["stylesheet.fuzzySearchMinScore"];if(_A(n)){const r=n.context.name,s=e.find(o=>o.type==="Property"&&o.property===r);vA(t,n,s,i),t.snippet=s}else if(t.name){const r=rf(t.name,e,i,!0);t.snippet=r,r&&(r.type==="Property"?woe(t,r,n):xoe(t,r))}}return(t.name||n.context)&&koe(t,n),t}function _oe(t,e){let n=null;const i=t.value.length===1?t.value[0]:null;if(i&&i.value.length===1){const r=i.value[0];r.type==="FunctionCall"&&r.name===$w&&(n=r)}return n||t.name===$w?(n?n=Object.assign(Object.assign({},n),{name:"linear-gradient"}):n={type:"FunctionCall",name:"linear-gradient",arguments:[Nf(Ns(0,""))]},e.context||(t.name="background-image"),t.value=[Nf(n)],!0):!1}function woe(t,e,n){const i=t.name,r=$oe(i,e.key);if(r){if(t.value.length)return t;const s=qm(r,n,e);if(!s)return t;t.value.push(Nf(s))}if(t.name=e.property,t.value.length)vA(t,n,e);else if(e.value.length){const s=e.value[0];t.value=e.value.length===1||s.some(bA)?s:s.map(o=>yA(o,n))}return t}function vA(t,e,n,i){for(const r of t.value){const s=[];for(const o of r.value)if(o.type==="Literal")s.push(qm(o.value,e,n,i)||o);else if(o.type==="FunctionCall"){const a=qm(o.name,e,n,i);a&&a.type==="FunctionCall"?s.push(Object.assign(Object.assign({},a),{arguments:o.arguments.concat(a.arguments.slice(o.arguments.length))})):s.push(o)}else s.push(o);r.value=s}}function xoe(t,e){let n=0,i;const r=/\$\{(\d+)(:[^}]+)?\}/g,s=t.value[0],o=[];for(;i=r.exec(e.value);)n!==i.index&&o.push(ra(e.value.slice(n,i.index))),n=i.index+i[0].length,s&&s.value.length?o.push(s.value.shift()):o.push(Ns(Number(i[1]),i[2]?i[2].slice(1):""));const a=e.value.slice(n);return a&&o.push(ra(a)),t.name=void 0,t.value=[Nf(...o)],t}function rf(t,e,n=0,i=!1){let r=null,s=0;for(const o of e){const a=ooe(t,Soe(o),i);if(a===1)return o;a&&a>=s&&(s=a,r=o)}return s>=n?r:null}function Soe(t){return typeof t=="string"?t:t.key}function $oe(t,e){for(let n=0,i=0;n<t.length;n++){if(i=e.indexOf(t[n],i),i===-1)return t.slice(n);i++}return""}function qm(t,e,n,i){let r;if(n){if(r=rf(t,Object.keys(n.keywords),i))return n.keywords[r];for(const s of n.dependencies)if(r=rf(t,Object.keys(s.keywords),i))return s.keywords[r]}return(r=rf(t,e.options["stylesheet.keywords"],i))?ra(r):null}function koe(t,e){const n=e.options["stylesheet.unitAliases"],i=e.options["stylesheet.unitless"];for(const r of t.value)for(const s of r.value)s.type==="NumberValue"&&(s.unit?s.unit=n[s.unit]||s.unit:s.value!==0&&!i.includes(t.name)&&(s.unit=s.rawValue.includes(".")?e.options["stylesheet.floatUnit"]:e.options["stylesheet.intUnit"]))}function Nf(...t){return{type:"CSSValue",value:t}}function ra(t){return{type:"Literal",value:t}}function Ns(t,e){return{type:"Field",index:t,name:e}}function bA(t){for(const e of t.value)if(e.type==="Field"||e.type==="FunctionCall"&&e.arguments.some(bA))return!0;return!1}function yA(t,e,n={index:1}){let i=[];for(const r of t.value)switch(r.type){case"ColorValue":i.push(Ns(n.index++,pA(r,e.options["stylesheet.shortHex"])));break;case"Literal":i.push(Ns(n.index++,r.value));break;case"NumberValue":i.push(Ns(n.index++,`${r.value}${r.unit}`));break;case"StringValue":const s=r.quote==="single"?"'":'"';i.push(Ns(n.index++,s+r.value+s));break;case"FunctionCall":i.push(Ns(n.index++,r.name),ra("("));for(let o=0,a=r.arguments.length;o<a;o++)i=i.concat(yA(r.arguments[o],e,n).value),o!==a-1&&i.push(ra(", "));i.push(ra(")"));break;default:i.push(r)}return Object.assign(Object.assign({},t),{value:i})}function _A(t){return t.context?t.context.name==="@@value"||!t.context.name.startsWith("@@"):!1}function Poe(t,e){if(e.context){if(e.context.name==="@@section")return t.filter(n=>n.type==="Raw");if(e.context.name==="@@property")return t.filter(n=>n.type==="Property")}return t}var Qoe={a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:btn|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta[http-equiv='X-UA-Compatible'][content='IE=edge']+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{<!-- ${0} -->}","cc:ie":"{<!--[if IE]>${0}<![endif]-->}","cc:noie":"{<!--[if !IE]><!-->${0}<!--<![endif]-->}"},Toe={"@f":`@font-face {
	font-family: \${1};
	src: url(\${2});
}`,"@ff":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n	${2}\n}","@m|@media":"@media ${1:screen} {\n	${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:#${1:fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cr:"color:rgb(${1:0}, ${2:0}, ${3:0})",cra:"color:rgba(${1:0}, ${2:0}, ${3:0}, ${4:.5})",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|grid|inline-grid|subgrid|list-item|run-in|compact|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",gtc:"grid-template-columns:repeat(${0})|minmax()",gtr:"grid-template-rows:repeat(${0})|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick","op|opa":"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},Aoe={"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise",if:"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]",var:"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:`!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{
|}`,"!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'},Coe={"!!!":"{doctype html}"},Roe={lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:`
`};const Eoe={markup:"html",stylesheet:"css"},qoe={inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"	","output.baseIndent":"","output.newline":`
`,"output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(t,e)=>e,"output.text":t=>t,"markup.href":!0,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":`
<!-- /[#ID][.CLASS] -->`,"bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset","none"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0},wA={type:"markup",syntax:"html",variables:Roe,snippets:{},options:qoe},kw={markup:{snippets:Ec(Qoe)},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:Ec(Aoe),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0}},pug:{snippets:Ec(Coe)},stylesheet:{snippets:Ec(Toe)},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}};function Ec(t){const e={};return Object.keys(t).forEach(n=>{for(const i of n.split("|"))e[i]=t[n]}),e}function xA(t={},e={}){const n=t.type||"markup",i=t.syntax||Eoe[n];return Object.assign(Object.assign(Object.assign({},wA),t),{type:n,syntax:i,variables:Fp(n,i,"variables",t,e),snippets:Fp(n,i,"snippets",t,e),options:Fp(n,i,"options",t,e)})}function Fp(t,e,n,i,r={}){const s=kw[t],o=r[t],a=kw[e],l=r[e];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wA[n]),s&&s[n]),a&&a[n]),o&&o[n]),l&&l[n]),i[n])}const Moe=t=>t.charCodeAt(0);"#.*:$-_!@%^+>/".split("").map(Moe);function Zoe(t,e){const n=xA(e);return n.type==="stylesheet"?joe(t,n):Doe(t,n)}function Doe(t,e){return Gse(Fse(t,e),e)}function joe(t,e){return hoe(voe(t,e),e)}const Pw=String.fromCodePoint(65520),Woe=String.fromCodePoint(65521);function SA(t){return t.selection.main.from}function ur(t,e){return t.doc.sliceString(e.from,e.to)}function fr(t,e){return e>=t.from&&e<=t.to}function Qw(t){return t==='"'||t==="'"}function $A(t,e){let{from:n,to:i}=e;const r=ur(t,e);return Qw(r[0])&&n++,Qw(r[r.length-1])&&i--,{from:n,to:i}}function Boe(t,e){const n={};for(const i of e.getChildren("Attribute")){const r=i.getChild("AttributeName");if(r){const s=ur(t,r),o=i.getChild("AttributeValue");n[s]=o?ur(t,$A(t,o)):null}}return n}function Ioe(t){return t.from===t.to}function kA(t){return t.length>0?t[t.length-1]:void 0}function Xoe(t,e=0){const n=[];let i="",r=null,s=0,o=0,a;for(;o<t.length;)a=t.charAt(o++),(a===Pw||a===Woe)&&(i+=t.slice(s,o-1),s=o,a===Pw?(r={from:e+i.length,to:e+i.length},n.push(r)):r&&(r=null));return n.length||n.push({from:t.length+e,to:t.length+e}),{ranges:n,snippet:i+t.slice(s)}}const Tw={OpenTag:"open",CloseTag:"close",SelfClosingTag:"selfClose"};function Uoe(t,e,n){const i={type:"css",ancestors:[],current:null,inline:!1,embedded:n},r=bt(t).resolveInner(e,-1),s=[];for(let a=r;a;a=a.parent)if(a.name==="RuleSet"){const l=zoe(a);s.push({name:ur(t,l),type:"selector",range:a})}else if(a.name==="Declaration"){const{name:l,value:c}=Yoe(a);c&&fr(c,e)&&s.push({name:ur(t,c),type:"propertyValue",range:c}),l&&s.push({name:ur(t,l),type:"propertyName",range:l})}const o=s.shift();if(o){const a=o.type==="selector"?{from:o.range.from,to:o.range.from+o.name.length}:o.range;fr(a,e)?(i.current=o,o.range=a):s.unshift(o)}return i.ancestors=s.reverse(),i}function Voe(t,e){const n={type:"html",ancestors:[],current:null},i=bt(t).resolveInner(e);for(let r=i;r;r=r?r.parent:null)if(r.name in Tw){const s=Aw(t,r);s&&(n.current=Oo(Dr({},s),{type:Tw[r.name]}),r=r.parent)}else if(r.name==="Element"){const s=r.getChild("OpenTag");if(s){const o=Aw(t,s);o&&n.ancestors.push(o)}}return n.ancestors.reverse(),Loe(t,e,n),n}function Loe(t,e,n){var i;if(((i=n.current)==null?void 0:i.type)==="open"){let r=bt(t).resolve(n.current.range.from,1);for(;r&&r.name!=="OpenTag";)r=r.parent;if(r)for(const s of r.getChildren("Attribute")){if(s.from>e)break;if(fr(s,e)&&Noe(t,s)){const o=s.getChild("AttributeValue");if(o){const a=$A(t,o);fr(a,e)&&(n.css=Foe(ur(t,a),e-a.from,a.from))}}}}}function Aw(t,e){const n=e.getChild("TagName");if(n)return{name:ur(t,n).toLowerCase(),range:e}}function zoe(t){let e=t.from,n=e;for(let i=t.firstChild;i&&i.name!=="Block";i=i.nextSibling)n=i.to;return{from:e,to:n}}function Yoe(t){let e,n,i=t.firstChild;return(i==null?void 0:i.name)==="PropertyName"&&(e=i,i=i.nextSibling,(i==null?void 0:i.name)===":"&&(i=i.nextSibling),i&&(n={from:i.from,to:t.lastChild.to})),{name:e,value:n}}function Noe(t,e){const n=e.getChild("AttributeName");return n?ur(t,n).toLowerCase():""}function Foe(t,e,n=0){const i={type:"css",ancestors:[],current:null,inline:!0,embedded:{from:e+n,to:e+n+t.length}},r=Goe(t,e);for(const s of r)if(s.value&&fr(s.value,e)){i.current={name:t.substring(s.value.from,s.value.to).trim(),type:"propertyValue",range:{from:n+s.value.from,to:n+s.value.to}},i.ancestors.push({name:t.substring(s.name.from,s.name.to).trim(),type:"propertyName",range:{from:n+s.name.from,to:n+s.value.to}});break}else if(fr(s.name,e)){const o=s.value?s.value.to:s.name.to;i.current={name:t.substring(s.name.from,s.name.to).trim(),type:"propertyName",range:{from:n+s.name.from,to:n+o}};break}return i}function Goe(t,e=t.length){var n;const i=` 	
\r`,r=[];let s;for(let o=0;o<t.length;o++){const a=t[o];if(s&&(s.value?s.value.from!==-1&&(s.value.to=o):s.name.to=o),a===";"){if(s=void 0,o>e)break}else a===":"?s&&!s.value&&(s.value={from:-1,to:-1}):s?((n=s.value)==null?void 0:n.from)===-1&&!i.includes(a)&&(s.value.from=s.value.to=o):i.includes(a)||(s={name:{from:o,to:o}},r.push(s))}return s&&(s.value?s.value.to++:s.name.to++),r}const Hoe=["xml","xsl","jsx"],Koe=["html","htmlmixed","vue"],PA=["css","scss","less"],Joe=["jsx","tsx"],eae=["sass","sss","stylus","postcss"].concat(PA);function QA(t){const e=t.facet(Mr);return e===Zr?"css":e===ta?"html":""}function tae(t){return t&&eae.includes(t)?"stylesheet":"markup"}function nae(t){return t?Hoe.includes(t):!1}function TA(t){return t?Koe.includes(t)||nae(t):!1}function AA(t){return t?PA.includes(t):!1}function m0(t){return t?Joe.includes(t):!1}function iae(t,e){const n=kA(e.ancestors);if(n){let i=bt(t).resolve(n.range.from,1);for(;i&&i.name!=="OpenTag";)i=i.parent;return{name:n.name,attributes:i?Boe(t,i):{}}}}function rae(t){if(t.inline)return{name:"@@property"};const e=kA(t.ancestors);let n="@@global";return t.current&&(t.current.type==="propertyValue"&&e?n=e.name:(t.current.type==="selector"||t.current.type==="propertyName")&&!e&&(n="@@section")),{name:n}}const sae={mark:!0,preview:!0,autoRenameTags:!0,markTagPairs:!0,previewOpenTag:!1,attributeQuotes:"double",markupStyle:"html",comments:!1,commentsTemplate:"<!-- /[#ID][.CLASS] -->",bem:!1};function CA(t){return Dr(Dr({},sae),t)}function Mm(t,e){const n=QA(t)||"html",i=CA(),r={"output.field":RA,"output.indent":"	","output.format":!e,"output.attributeQuotes":i.attributeQuotes,"stylesheet.shortHex":i.shortHex};return n==="html"&&(r["output.selfClosingStyle"]=i.markupStyle,r["output.compactBoolean"]=i.markupStyle==="html"),TA(n)&&(i.comments&&(r["comment.enabled"]=!0,i.commentsTemplate&&(r["comment.after"]=i.commentsTemplate)),r["bem.enabled"]=i.bem),r}function RA(t,e){return e?`\${${t}:${e}}`:`\${${t}}`}let oae={};function O0(t,e){let n={cache:oae};const i={"output.field":RA};e&&(Object.assign(n,e),e.options&&Object.assign(i,e.options)),n.options=i;const r=CA();return r.config&&(n=xA(n,r.config)),Zoe(t,n)}class Cw extends yr{constructor(e,n,i){super(),this.value=e,this.syntax=n,this.options=i}eq(e){return e.value===this.value&&e.syntax===this.syntax}updateDOM(e){if(e.view){const n=e.view.state.update({changes:{from:0,to:e.view.state.doc.length,insert:this.value}});return e.view.dispatch(n),!0}return!1}toDOM(){const e=document.createElement("div");return e.className="emmet-preview",this.syntax==="error"&&e.classList.add("emmet-preview_error"),e.view=new ve({state:tt.create({doc:this.value,extensions:[this.syntax==="css"?cu():tw(),this.getExtensions()]}),parent:e}),e}getExtensions(){let e=this.syntax==="css"?cu:tw;return this.options&&this.syntax in this.options&&(e=this.options[this.syntax]),e()}}const EA=_e.define({combine(t){const e={preview:{}},{preview:n}=e;for(const i of t)Object.assign(e,i),i.preview&&(Object.assign(n,i.preview),e.preview=n);return e}}),Zm="<",aae=Pe.mark({class:"emmet-tracker"}),qA=qe.define(),lae=qe.define(),dd=Xt.define({create:()=>null,update(t,e){for(const n of e.effects){if(n.is(qA))return null;if(n.is(lae)){const i=e.newSelection.main,r=MA(e.state,i.from);if(r)return v0(e.state,i,{forced:!0,config:r})}}return e.docChanged?_ae(e.state,t,e):t}}),uae=Dt.fromClass(class{constructor(){Cm(this,"decorations"),this.decorations=Pe.none}update(t){const{state:e}=t,n=e.field(dd),i=[];if(n){const{range:r}=n,s=e.facet(EA);if(!Ioe(r)&&!n.inactive&&i.push(aae.range(r.from,r.to)),n.type==="abbreviation"&&(!n.simple||n.forced)&&n.abbreviation&&fr(r,SA(e))){const o=Pe.widget({widget:new Cw(n.preview,n.config.syntax||"html",s.preview),side:1});i.push(o.range(r.from))}else if(n.type==="error"&&n.forced){const o=`
${n.error.message}`,a=Pe.widget({widget:new Cw(o,"error",s.preview),side:1});i.push(a.range(r.from+n.error.pos))}this.decorations=Pe.set(i,!0)}else this.decorations=Pe.none}},{decorations:t=>t.decorations}),cae=({state:t,dispatch:e})=>{const n=t.field(dd,!1);if(n&&!n.inactive&&fr(n.range,SA(t))){const{from:i,to:r}=n.range,s=O0(n.abbreviation,n.config);return n4(s)({state:t,dispatch:e},{label:"expand"},i,r),!0}return!1},fae=({state:t,dispatch:e})=>t.field(dd,!1)?(e({effects:qA.of(null)}),!0):!1,hae=ve.baseTheme({".emmet-tracker":{textDecoration:"underline 1px green"},".emmet-preview":{position:"absolute",boxShadow:"2px 2px 10px rgba(0, 0, 0, 0.3)",borderRadius:"3px",background:"#fff",display:"inline-block",marginLeft:"-5px",marginTop:"1.6em",fontSize:"0.8em"},".emmet-preview_error":{color:"red"}});function dae(t){return[dd,uae,hae,t?EA.of(t):[],Va.of([{key:"Tab",run:cae},{key:"Escape",run:fae}])]}function pae(t,e,n){if(n.length!==1)return null;const i=t.doc.lineAt(e),r=i.text.substring(Math.max(0,e-i.from-1),e-i.from);if(!Ew(r,n,wae(t,e)))return null;const s=MA(t,e);if(!s||s.type==="stylesheet"&&!Ew(r,n,"css"))return null;const o=s.syntax||"html";let a=e,l=e+n.length,c=0;return m0(o)&&r===Zm&&(c=Zm.length,a-=c),v0(t,{from:a,to:l},{config:s})}function MA(t,e){if(Zr.isActiveAt(t,e))return Rw(t,e,"css",Uoe(t,e));const n=QA(t);if(TA(n)){const i=Voe(t,e);if(i.css)return Rw(t,e,"css",i.css);if(!i.current)return{syntax:n,type:"markup",context:iae(t,i),options:Mm(t)}}else return{syntax:n,type:tae(n),options:Mm(t)}}function Rw(t,e,n,i){if(!i.current||i.current.type==="propertyName"||i.current.type==="propertyValue"||gae(t,e,i))return{syntax:n,type:"stylesheet",context:rae(i),options:Mm(t,i.inline)}}function gae(t,e,{current:n}){return(n==null?void 0:n.type)==="selector"&&n.range.from===e-1?t.doc.lineAt(n.range.from).text.trim().length===1:!1}function mae(t,e){return m0(e)?t===Zm:AA(e)?t===""||/^[\s>;"\']$/.test(t):t===""||/^[\s>;"\']$/.test(t)}function Oae(t,e){return m0(e)?/^[a-zA-Z.#\[\(]$/.test(t):AA(e)?/^[a-zA-Z!@]$/.test(t):/^[a-zA-Z.#!@\[\(]$/.test(t)}function v0(t,e,n){if(e.from>e.to)return null;let i=ur(t,e);const{config:r,forced:s}=n;if(n.offset&&(i=i.slice(n.offset)),!i&&!s||ZA(i))return null;const o={abbreviation:i,range:e,config:r,forced:!!s,inactive:!1,offset:n.offset||0};try{let a,l=!1;r.type==="stylesheet"?a=h0(i):(a=l0(i,{jsx:r.syntax==="jsx"}),l=vae(a));const c=bae(r);return Oo(Dr({},o),{type:"abbreviation",simple:l,preview:O0(a,c)})}catch(a){return o.forced?Oo(Dr({},o),{type:"error",error:a}):null}}function ZA(t){return/[\r\n]/.test(t)}function vae(t){if(t.children.length===1&&!t.children[0].children.length){const e=t.children[0];return!e.name||/^[a-z]/i.test(e.name)}return!t.children.length}function bae(t){return Oo(Dr({},t),{options:Oo(Dr({},t.options),{"output.field":yae,"output.indent":"  ","output.baseIndent":""})})}function yae(t,e){return e}function _ae(t,e,n){return xae(t)?null:((!e||e.inactive)&&(n.changes.iterChanges((i,r,s,o,a)=>{a.length&&(e=pae(t,s,a.toString())||e)}),!e||!e.inactive)||n.changes.iterChanges((i,r,s,o,a)=>{if(!e)return;const{range:l}=e;if(!fr(l,i))e.inactive||(e=null);else if(fr(l,s)){const c=r-i,u=o-i,f=l.to+u-c;if(f<=l.from||ZA(a.toString()))e=null;else{const h=e.inactive?l:{from:l.from,to:f},d=v0(t,h,{config:e.config,forced:e.forced});d?e=d:e=Oo(Dr({},e),{inactive:!0})}}}),e)}function wae(t,e){return Zr.isActiveAt(t,e)?"css":ta.isActiveAt(t,e)?"html":""}function Ew(t,e,n){return mae(t,n)&&Oae(e,n)}function xae(t){return Array.isArray(t.values)?t.values.some(e=>{var n;return e&&((n=e.constructor)==null?void 0:n.name)==="ActiveSnippet"}):!1}const sf=qe.define(),qw=Xt.define({create:()=>null,update(t,e){for(const n of e.effects)n.is(sf)&&(t=n.value);return t}});ve.baseTheme({".emmet-wrap-with-abbreviation":{position:"absolute",top:0,zIndex:2,width:"100%"},".emmet-wrap-with-abbreviation__content":{background:"#fff",margin:"0 auto",padding:"5px",boxSizing:"border-box",width:"100%",maxWidth:"30em",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.3)"},".emmet-wrap-with-abbreviation__content input":{width:"100%",boxSizing:"border-box"}});Dt.fromClass(class{constructor(){Cm(this,"widget",null),Cm(this,"input",null)}update(e){const{state:n,view:i}=e,r=n.field(qw);r?(this.widget||this.createInputPanel(i),this.updateAbbreviation(r.abbreviation)):this.widget&&(this.disposeWidget(),i.focus())}createInputPanel(e){const n=document.createElement("div");n.className="emmet-wrap-with-abbreviation";const i=document.createElement("div");i.className="emmet-wrap-with-abbreviation__content";const r=document.createElement("input");r.placeholder="Enter abbreviation",r.addEventListener("input",()=>{const s=e.state.field(qw);if(s){const o=r.value,a=Oo(Dr({},s),{abbreviation:o});if(a.abbreviation){const{from:l,to:c}=a.range,u=O0(a.abbreviation,a.options),{ranges:f,snippet:h}=Xoe(u,l),d=f[0];e.dispatch({effects:[sf.of(a)],changes:[{from:l,to:c,insert:h}],selection:{head:d.from,anchor:d.to}})}else e.dispatch({effects:[sf.of(a)]})}}),r.addEventListener("keydown",s=>{(s.key==="Escape"||s.key==="Enter")&&(s.key,s.preventDefault(),e.dispatch({effects:[sf.of(null)]}))}),i.append(r),n.append(i),e.dom.append(n),this.widget=n,this.input=r,r.focus()}updateAbbreviation(e){this.input&&this.input.value!==e&&(this.input.value=e)}disposeWidget(){this.widget&&(this.widget.remove(),this.widget=this.input=null)}});const Sae=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=y0(t.state,n.from);return i.line?$ae(t):i.block?Pae(t):!1};function b0(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const $ae=b0(Aae,0),kae=b0(DA,0),Pae=b0((t,e)=>DA(t,e,Tae(e)),0);function y0(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const dl=50;function Qae(t,{open:e,close:n},i,r){let s=t.sliceDoc(i-dl,i),o=t.sliceDoc(r,r+dl),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let u,f;r-i<=2*dl?u=f=t.sliceDoc(i,r):(u=t.sliceDoc(i,i+dl),f=t.sliceDoc(r-dl,r));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(f)[0].length,p=f.length-d-n.length;return u.slice(h,h+e.length)==e&&f.slice(p,p+n.length)==n?{open:{pos:i+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:r-d-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function Tae(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function DA(t,e,n=e.selection.ranges){let i=n.map(s=>y0(e,s.from).block);if(!i.every(s=>s))return null;let r=n.map((s,o)=>Qae(e,i[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(n.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Aae(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of n){let a=i.length,l=1e9,c=y0(e,s).line;if(c){for(let u=s;u<=o;){let f=e.doc.lineAt(u);if(f.from>r&&(s==o||o>f.from)){r=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,p=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<l&&(l=h),i.push({line:f,comment:p,token:c,indent:h,empty:d,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=l);i.length==a+1&&(i[a].single=!0)}}if(t!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of i)(f||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const Dm=Fr.define(),Cae=Fr.define(),Rae=_e.define(),jA=_e.define({combine(t){return br(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}}),WA=Xt.define({create(){return or.empty},update(t,e){let n=e.state.facet(jA),i=e.annotation(Dm);if(i){let l=Bn.fromTransaction(e,i.selection),c=i.side,u=c==0?t.undone:t.done;return l?u=Ff(u,u.length,n.minDepth,l):u=XA(u,e.startState.selection),new or(c==0?i.rest:u,c==0?u:i.rest)}let r=e.annotation(Cae);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(Vt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Bn.fromTransaction(e),o=e.annotation(Vt.time),a=e.annotation(Vt.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new or(t.done.map(Bn.fromJSON),t.undone.map(Bn.fromJSON))}});function Eae(t={}){return[WA,jA.of(t),ve.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?BA:e.inputType=="historyRedo"?jm:null;return i?(e.preventDefault(),i(n)):!1}})]}function pd(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(WA,!1);if(!r)return!1;let s=r.pop(t,n,e);return s?(i(s),!0):!1}}const BA=pd(0,!1),jm=pd(1,!1),qae=pd(0,!0),Mae=pd(1,!0);class Bn{constructor(e,n,i,r,s){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Bn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Bn(e.changes&&Yt.fromJSON(e.changes),[],e.mapped&&lr.fromJSON(e.mapped),e.startSelection&&fe.fromJSON(e.startSelection),e.selectionsAfter.map(fe.fromJSON))}static fromTransaction(e,n){let i=gi;for(let r of e.startState.facet(Rae)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Bn(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,gi)}static selection(e){return new Bn(void 0,gi,void 0,void 0,e)}}function Ff(t,e,n,i){let r=e+1>n+20?e-n-1:0,s=t.slice(r,e);return s.push(i),s}function Zae(t,e){let n=[],i=!1;return t.iterChangedRanges((r,s)=>n.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&o<=u&&(i=!0)}}),i}function Dae(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function IA(t,e){return t.length?e.length?t.concat(e):t:e}const gi=[],jae=200;function XA(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-jae));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),Ff(t,t.length-1,1e9,n.setSelAfter(i)))}else return[Bn.selection([e])]}function Wae(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Gp(t,e){if(!t.length)return t;let n=t.length,i=gi;for(;n;){let r=Bae(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,n);return s[n-1]=r,s}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[Bn.selection(i)]:gi}function Bae(t,e,n){let i=IA(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):gi,n);if(!t.changes)return Bn.selection(i);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Bn(r,qe.mapEffects(t.effects,e),o,t.startSelection.map(s),i)}const Iae=/^(input\.type|delete)($|\.)/;class or{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new or(this.done,this.undone):this}addChanges(e,n,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||Iae.test(i))&&(!a.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,Zae(a.changes,e.changes))||i=="input.type.compose")?o=Ff(o,o.length-1,r.minDepth,new Bn(e.changes.compose(a.changes),IA(e.effects,a.effects),a.mapped,a.startSelection,gi)):o=Ff(o,o.length,r.minDepth,e),new or(o,gi,n,i)}addSelection(e,n,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:gi;return s.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Dae(s[s.length-1],e)?this:new or(XA(this.done,e),this.undone,n,i)}addMapping(e){return new or(Gp(this.done,e),Gp(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],o=s.selectionsAfter[0]||n.selection;if(i&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Dm.of({side:e,rest:Wae(r),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=r.length==1?gi:r.slice(0,r.length-1);return s.mapped&&(a=Gp(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Dm.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}or.empty=new or(gi,gi);const Xae=[{key:"Mod-z",run:BA,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:jm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:jm,preventDefault:!0},{key:"Mod-u",run:qae,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Mae,preventDefault:!0}];function za(t,e){return fe.create(t.ranges.map(e),t.mainIndex)}function _r(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Li({state:t,dispatch:e},n){let i=za(t.selection,n);return i.eq(t.selection,!0)?!1:(e(_r(t,i)),!0)}function gd(t,e){return fe.cursor(e?t.to:t.from)}function UA(t,e){return Li(t,n=>n.empty?t.moveByChar(n,e):gd(n,e))}function Sn(t){return t.textDirectionAt(t.state.selection.main.head)==Tt.LTR}const VA=t=>UA(t,!Sn(t)),LA=t=>UA(t,Sn(t));function zA(t,e){return Li(t,n=>n.empty?t.moveByGroup(n,e):gd(n,e))}const Uae=t=>zA(t,!Sn(t)),Vae=t=>zA(t,Sn(t));function Lae(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function md(t,e,n){let i=bt(t).resolveInner(e.head),r=n?ze.closedBy:ze.openedBy;for(let l=e.head;;){let c=n?i.childAfter(l):i.childBefore(l);if(!c)break;Lae(t,c,r)?i=c:l=n?c.to:c.from}let s=i.type.prop(r),o,a;return s&&(o=n?sr(t,i.from,1):sr(t,i.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?i.to:i.from,fe.cursor(a,n?-1:1)}const zae=t=>Li(t,e=>md(t.state,e,!Sn(t))),Yae=t=>Li(t,e=>md(t.state,e,Sn(t)));function YA(t,e){return Li(t,n=>{if(!n.empty)return gd(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const NA=t=>YA(t,!1),FA=t=>YA(t,!0);function GA(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let s of t.state.facet(ve.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function HA(t,e){let n=GA(t),{state:i}=t,r=za(i.selection,o=>o.empty?t.moveVertically(o,e,n.height):gd(o,e));if(r.eq(i.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(i.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=ve.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(_r(i,r),{effects:s}),!0}const Mw=t=>HA(t,!1),Wm=t=>HA(t,!0);function Ds(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let s=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=fe.cursor(i.from+s))}return r}const Nae=t=>Li(t,e=>Ds(t,e,!0)),Fae=t=>Li(t,e=>Ds(t,e,!1)),Gae=t=>Li(t,e=>Ds(t,e,!Sn(t))),Hae=t=>Li(t,e=>Ds(t,e,Sn(t))),Kae=t=>Li(t,e=>fe.cursor(t.lineBlockAt(e.head).from,1)),Jae=t=>Li(t,e=>fe.cursor(t.lineBlockAt(e.head).to,-1));function ele(t,e,n){let i=!1,r=za(t.selection,s=>{let o=sr(t,s.head,-1)||sr(t,s.head,1)||s.head>0&&sr(t,s.head-1,1)||s.head<t.doc.length&&sr(t,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return fe.cursor(a)});return i?(e(_r(t,r)),!0):!1}const tle=({state:t,dispatch:e})=>ele(t,e);function Ci(t,e){let n=za(t.state.selection,i=>{let r=e(i);return fe.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(_r(t.state,n)),!0)}function KA(t,e){return Ci(t,n=>t.moveByChar(n,e))}const JA=t=>KA(t,!Sn(t)),eC=t=>KA(t,Sn(t));function tC(t,e){return Ci(t,n=>t.moveByGroup(n,e))}const nle=t=>tC(t,!Sn(t)),ile=t=>tC(t,Sn(t)),rle=t=>Ci(t,e=>md(t.state,e,!Sn(t))),sle=t=>Ci(t,e=>md(t.state,e,Sn(t)));function nC(t,e){return Ci(t,n=>t.moveVertically(n,e))}const iC=t=>nC(t,!1),rC=t=>nC(t,!0);function sC(t,e){return Ci(t,n=>t.moveVertically(n,e,GA(t).height))}const Zw=t=>sC(t,!1),Dw=t=>sC(t,!0),ole=t=>Ci(t,e=>Ds(t,e,!0)),ale=t=>Ci(t,e=>Ds(t,e,!1)),lle=t=>Ci(t,e=>Ds(t,e,!Sn(t))),ule=t=>Ci(t,e=>Ds(t,e,Sn(t))),cle=t=>Ci(t,e=>fe.cursor(t.lineBlockAt(e.head).from)),fle=t=>Ci(t,e=>fe.cursor(t.lineBlockAt(e.head).to)),jw=({state:t,dispatch:e})=>(e(_r(t,{anchor:0})),!0),Ww=({state:t,dispatch:e})=>(e(_r(t,{anchor:t.doc.length})),!0),Bw=({state:t,dispatch:e})=>(e(_r(t,{anchor:t.selection.main.anchor,head:0})),!0),Iw=({state:t,dispatch:e})=>(e(_r(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),hle=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dle=({state:t,dispatch:e})=>{let n=Od(t).map(({from:i,to:r})=>fe.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:fe.create(n),userEvent:"select"})),!0},ple=({state:t,dispatch:e})=>{let n=za(t.selection,i=>{var r;let s=bt(t).resolveStack(i.from,1);for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&(!((r=a.parent)===null||r===void 0)&&r.parent))return fe.range(a.to,a.from)}return i});return e(_r(t,n)),!0},gle=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=fe.create([n.main]):n.main.empty||(i=fe.create([fe.cursor(n.main.head)])),i?(e(_r(t,i)),!0):!1};function tc(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=qc(t,l,!1)):l>o&&(n="delete.forward",l=qc(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=qc(t,o,!1),a=qc(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:fe.cursor(o,o<s.head?-1:1)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ve.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function qc(t,e,n){if(t instanceof ve)for(let i of t.state.facet(ve.atomicRanges).map(r=>r(t)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=n?s:r)});return e}const oC=(t,e,n)=>tc(t,i=>{let r=i.from,{state:s}=t,o=s.doc.lineAt(r),a,l;if(n&&!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let c=Ua(a,s.tabSize),u=c%Wf(s)||Wf(s);for(let f=0;f<u&&a[a.length-1-f]==" ";f++)r--;l=r}else l=on(o.text,r-o.from,e,e)+o.from,l==r&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,r-o.from))&&(l=on(o.text,l-o.from,!1,!1)+o.from);return l}),Bm=t=>oC(t,!1,!0),aC=t=>oC(t,!0,!1),lC=(t,e)=>tc(t,n=>{let i=n.head,{state:r}=t,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==n.head&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=on(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||i!=n.head)&&(a=u),i=l}return i}),uC=t=>lC(t,!1),mle=t=>lC(t,!0),Ole=t=>tc(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),vle=t=>tc(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),ble=t=>tc(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),yle=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:rt.of(["",""])},range:fe.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},_le=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,s=t.doc.lineAt(r),o=r==s.from?r-1:on(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:on(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(o,r))},range:fe.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Od(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),s=t.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=t.doc.lineAt(i.to-1)),n>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});n=s.number+1}return e}function cC(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let s of Od(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)r.push(fe.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)r.push(fe.range(l.anchor-a,l.head-a))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:fe.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const wle=({state:t,dispatch:e})=>cC(t,e,!1),xle=({state:t,dispatch:e})=>cC(t,e,!0);function fC(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of Od(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Sle=({state:t,dispatch:e})=>fC(t,e,!1),$le=({state:t,dispatch:e})=>fC(t,e,!0),kle=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Od(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=za(e.selection,r=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(r.head),a=t.coordsAtPos(r.head,r.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(r,!0,s)}).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Ple(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=bt(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(ze.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const Qle=hC(!1),Tle=hC(!0);function hC(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!t&&s==o&&Ple(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new rd(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=Vv(c,s);for(u==null&&(u=Ua(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",uu(e,u)];return l&&f.push(uu(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:rt.of(f)},range:fe.cursor(s+1+f[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function _0(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=t.doc.lineAt(o);a.number>n&&(i.empty||i.to>a.from)&&(e(a,r,i),n=a.number),o=a.to+1}let s=t.changes(r);return{changes:r,range:fe.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const Ale=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new rd(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),r=_0(t,(s,o,a)=>{let l=Vv(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=uu(t,l);(c!=u||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},dC=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(_0(t,(n,i)=>{i.push({from:n.from,insert:t.facet(id)})}),{userEvent:"input.indent"})),!0),pC=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(_0(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let s=Ua(r,t.tabSize),o=0,a=uu(t,Math.max(0,s-Wf(t)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:n.from+o,to:n.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Cle=t=>(t.setTabFocusMode(),!0),Rle=[{key:"Ctrl-b",run:VA,shift:JA,preventDefault:!0},{key:"Ctrl-f",run:LA,shift:eC},{key:"Ctrl-p",run:NA,shift:iC},{key:"Ctrl-n",run:FA,shift:rC},{key:"Ctrl-a",run:Kae,shift:cle},{key:"Ctrl-e",run:Jae,shift:fle},{key:"Ctrl-d",run:aC},{key:"Ctrl-h",run:Bm},{key:"Ctrl-k",run:Ole},{key:"Ctrl-Alt-h",run:uC},{key:"Ctrl-o",run:yle},{key:"Ctrl-t",run:_le},{key:"Ctrl-v",run:Wm}],gC=[{key:"ArrowLeft",run:VA,shift:JA,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Uae,shift:nle,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Gae,shift:lle,preventDefault:!0},{key:"ArrowRight",run:LA,shift:eC,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Vae,shift:ile,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Hae,shift:ule,preventDefault:!0},{key:"ArrowUp",run:NA,shift:iC,preventDefault:!0},{mac:"Cmd-ArrowUp",run:jw,shift:Bw},{mac:"Ctrl-ArrowUp",run:Mw,shift:Zw},{key:"ArrowDown",run:FA,shift:rC,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ww,shift:Iw},{mac:"Ctrl-ArrowDown",run:Wm,shift:Dw},{key:"PageUp",run:Mw,shift:Zw},{key:"PageDown",run:Wm,shift:Dw},{key:"Home",run:Fae,shift:ale,preventDefault:!0},{key:"Mod-Home",run:jw,shift:Bw},{key:"End",run:Nae,shift:ole,preventDefault:!0},{key:"Mod-End",run:Ww,shift:Iw},{key:"Enter",run:Qle},{key:"Mod-a",run:hle},{key:"Backspace",run:Bm,shift:Bm},{key:"Delete",run:aC},{key:"Mod-Backspace",mac:"Alt-Backspace",run:uC},{key:"Mod-Delete",mac:"Alt-Delete",run:mle},{mac:"Mod-Backspace",run:vle},{mac:"Mod-Delete",run:ble}].concat(Rle.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Ele=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:zae,shift:rle},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Yae,shift:sle},{key:"Alt-ArrowUp",run:wle},{key:"Shift-Alt-ArrowUp",run:Sle},{key:"Alt-ArrowDown",run:xle},{key:"Shift-Alt-ArrowDown",run:$le},{key:"Escape",run:gle},{key:"Mod-Enter",run:Tle},{key:"Alt-l",mac:"Ctrl-l",run:dle},{key:"Mod-i",run:ple,preventDefault:!0},{key:"Mod-[",run:pC},{key:"Mod-]",run:dC},{key:"Mod-Alt-\\",run:Ale},{key:"Shift-Mod-k",run:kle},{key:"Shift-Mod-\\",run:tle},{key:"Mod-/",run:Sae},{key:"Alt-A",run:kae},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Cle}].concat(gC),qle={key:"Tab",run:dC,shift:pC};function wt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];typeof r=="string"?t.setAttribute(i,r):r!=null&&(t[i]=r)}e++}for(;e<arguments.length;e++)mC(t,arguments[e]);return t}function mC(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)mC(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const Xw=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class ka{constructor(e,n,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?a=>s(Xw(a)):Xw,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return en(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=xv(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=di(e);let r=this.normalize(n);for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==r.length-1){if(l)return this.value=l,this;break}o==i&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,i){let r=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[s+1],to:i}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:i}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(ka.prototype[Symbol.iterator]=function(){return this});const OC={from:-1,to:-1,match:/.*/.exec("")},w0="gm"+(/x/.unicode==null?"":"u");class vC{constructor(e,n,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=OC,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new bC(e,n,i,r,s);this.re=new RegExp(n,w0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=Gf(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,r=i+n[0].length;if(this.matchPos=Gf(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Hp=new WeakMap;class sa{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let r=Hp.get(e);if(!r||r.from>=i||r.to<=n){let a=new sa(n,e.sliceString(n,i));return Hp.set(e,a),a}if(r.from==n&&r.to==i)return r;let{text:s,from:o}=r;return o>n&&(s=e.sliceString(n,o)+s,o=n),r.to<i&&(s+=e.sliceString(r.to,i)),Hp.set(e,new sa(o,s)),new sa(n,s.slice(n-o,i-o))}}class bC{constructor(e,n,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=OC,this.matchPos=Gf(e,r),this.re=new RegExp(n,w0+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=sa.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,r=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this.matchPos=Gf(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=sa.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(vC.prototype[Symbol.iterator]=bC.prototype[Symbol.iterator]=function(){return this});function Mle(t){try{return new RegExp(t,w0),!0}catch{return!1}}function Gf(t,e){if(e>=t.length)return e;let n=t.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function Im(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=wt("input",{class:"cm-textfield",name:"line",value:e}),i=wt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Hf.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),r())},onsubmit:s=>{s.preventDefault(),r()}},wt("label",t.state.phrase("Go to line"),": ",n)," ",wt("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,f]=s,h=u?+u.slice(1):0,d=c?+c:a.number;if(c&&f){let O=d/100;l&&(O=O*(l=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*O)}else c&&l&&(d=d*(l=="-"?-1:1)+a.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),m=fe.cursor(p.from+Math.max(0,Math.min(h,p.length)));t.dispatch({effects:[Hf.of(!1),ve.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:i}}const Hf=qe.define(),Uw=Xt.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Hf)&&(t=n.value);return t},provide:t=>su.from(t,e=>e?Im:null)}),Zle=t=>{let e=ru(t,Im);if(!e){let n=[Hf.of(!0)];t.state.field(Uw,!1)==null&&n.push(qe.appendConfig.of([Uw,Dle])),t.dispatch({effects:n}),e=ru(t,Im)}return e&&e.dom.querySelector("input").select(),!0},Dle=ve.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),jle={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Wle=_e.define({combine(t){return br(t,jle,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Ble(t){return[Lle,Vle]}const Ile=Pe.mark({class:"cm-selectionMatch"}),Xle=Pe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Vw(t,e,n,i){return(n==0||t(e.sliceDoc(n-1,n))!=Ct.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=Ct.Word)}function Ule(t,e,n,i){return t(e.sliceDoc(n,n+1))==Ct.Word&&t(e.sliceDoc(i-1,i))==Ct.Word}const Vle=Dt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Wle),{state:n}=t,i=n.selection;if(i.ranges.length>1)return Pe.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return Pe.none;let l=n.wordAt(r.head);if(!l)return Pe.none;o=n.charCategorizer(r.head),s=n.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Pe.none;if(e.wholeWords){if(s=n.sliceDoc(r.from,r.to),o=n.charCategorizer(r.head),!(Vw(o,n,r.from,r.to)&&Ule(o,n,r.from,r.to)))return Pe.none}else if(s=n.sliceDoc(r.from,r.to),!s)return Pe.none}let a=[];for(let l of t.visibleRanges){let c=new ka(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!o||Vw(o,n,u,f))&&(r.empty&&u<=r.from&&f>=r.to?a.push(Xle.range(u,f)):(u>=r.to||f<=r.from)&&a.push(Ile.range(u,f)),a.length>e.maxMatches))return Pe.none}}return Pe.set(a)}},{decorations:t=>t.decorations}),Lle=ve.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),zle=({state:t,dispatch:e})=>{let{selection:n}=t,i=fe.create(n.ranges.map(r=>t.wordAt(r.head)||fe.cursor(r.head)),n.mainIndex);return i.eq(n)?!1:(e(t.update({selection:i})),!0)};function Yle(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,a=new ka(t.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new ka(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const Nle=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return zle({state:t,dispatch:e});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=i))return!1;let r=Yle(t,i);return r?(e(t.update({selection:t.selection.addRange(fe.range(r.from,r.to),!1),effects:ve.scrollIntoView(r.to)})),!0):!1},Ya=_e.define({combine(t){return br(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new oue(e),scrollToMatch:e=>ve.scrollIntoView(e)})}});class yC{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Mle(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Kle(this):new Gle(this)}getCursor(e,n=0,i){let r=e.doc?e:tt.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?jo(this,r,n,i):Do(this,r,n,i)}}class _C{constructor(e){this.spec=e}}function Do(t,e,n,i){return new ka(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?Fle(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Fle(t,e){return(n,i,r,s)=>((s>n||s+r.length<i)&&(s=Math.max(0,n-2),r=t.sliceString(s,Math.min(t.length,i+2))),(e(Kf(r,n-s))!=Ct.Word||e(Jf(r,n-s))!=Ct.Word)&&(e(Jf(r,i-s))!=Ct.Word||e(Kf(r,i-s))!=Ct.Word))}class Gle extends _C{constructor(e){super(e)}nextMatch(e,n,i){let r=Do(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=Do(this.spec,e,0,n).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=i;;){let s=Math.max(n,r-1e4-this.spec.unquoted.length),o=Do(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;r-=1e4}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=Do(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=Do(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function jo(t,e,n,i){return new vC(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?Hle(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function Kf(t,e){return t.slice(on(t,e,!1),e)}function Jf(t,e){return t.slice(e,on(t,e))}function Hle(t){return(e,n,i)=>!i[0].length||(t(Kf(i.input,i.index))!=Ct.Word||t(Jf(i.input,i.index))!=Ct.Word)&&(t(Jf(i.input,i.index+i[0].length))!=Ct.Word||t(Kf(i.input,i.index+i[0].length))!=Ct.Word)}class Kle extends _C{nextMatch(e,n,i){let r=jo(this.spec,e,i,e.doc.length).next();return r.done&&(r=jo(this.spec,e,0,n).next()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=1;;r++){let s=Math.max(n,i-r*1e4),o=jo(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:n)}matchAll(e,n){let i=jo(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let s=jo(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const mu=qe.define(),x0=qe.define(),Os=Xt.define({create(t){return new Kp(Xm(t).create(),null)},update(t,e){for(let n of e.effects)n.is(mu)?t=new Kp(n.value.create(),t.panel):n.is(x0)&&(t=new Kp(t.query,n.value?S0:null));return t},provide:t=>su.from(t,e=>e.panel)});class Kp{constructor(e,n){this.query=e,this.panel=n}}const Jle=Pe.mark({class:"cm-searchMatch"}),eue=Pe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),tue=Dt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Os))}update(t){let e=t.state.field(Os);(e!=t.startState.field(Os)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Pe.none;let{view:n}=this,i=new ws;for(let r=0,s=n.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;t.highlight(n.state,a,l,(c,u)=>{let f=n.state.selection.ranges.some(h=>h.from==c&&h.to==u);i.add(c,u,f?eue:Jle)})}return i.finish()}},{decorations:t=>t.decorations});function nc(t){return e=>{let n=e.state.field(Os,!1);return n&&n.query.spec.valid?t(e,n):SC(e)}}const eh=nc((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let r=fe.single(i.from,i.to),s=t.state.facet(Ya);return t.dispatch({selection:r,effects:[$0(t,i),s.scrollToMatch(r.main,t)],userEvent:"select.search"}),xC(t),!0}),th=nc((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n,i,i);if(!r)return!1;let s=fe.single(r.from,r.to),o=t.state.facet(Ya);return t.dispatch({selection:s,effects:[$0(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),xC(t),!0}),nue=nc((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:fe.create(n.map(i=>fe.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),iue=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,s=[],o=0;for(let a=new ka(t.doc,t.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(fe.range(a.value.from,a.value.to))}return e(t.update({selection:fe.create(s,o),userEvent:"select.search.matches"})),!0},Lw=nc((t,{query:e})=>{let{state:n}=t,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,i,i);if(!s)return!1;let o=[],a,l,c=[];if(s.from==i&&s.to==r&&(l=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),c.push(ve.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),s){let u=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=fe.single(s.from-u,s.to-u),c.push($0(t,s)),c.push(n.facet(Ya).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:c,userEvent:"input.replace"}),!0}),rue=nc((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:ve.announce.of(i),userEvent:"input.replace.all"}),!0});function S0(t){return t.state.facet(Ya).createPanel(t)}function Xm(t,e){var n,i,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(Ya);return new yC({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function wC(t){let e=ru(t,S0);return e&&e.dom.querySelector("[main-field]")}function xC(t){let e=wC(t);e&&e==t.root.activeElement&&e.select()}const SC=t=>{let e=t.state.field(Os,!1);if(e&&e.panel){let n=wC(t);if(n&&n!=t.root.activeElement){let i=Xm(t.state,e.query.spec);i.valid&&t.dispatch({effects:mu.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[x0.of(!0),e?mu.of(Xm(t.state,e.query.spec)):qe.appendConfig.of(lue)]});return!0},$C=t=>{let e=t.state.field(Os,!1);if(!e||!e.panel)return!1;let n=ru(t,S0);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:x0.of(!1)}),!0},sue=[{key:"Mod-f",run:SC,scope:"editor search-panel"},{key:"F3",run:eh,shift:th,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:eh,shift:th,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:$C,scope:"editor search-panel"},{key:"Mod-Shift-l",run:iue},{key:"Mod-Alt-g",run:Zle},{key:"Mod-d",run:Nle,preventDefault:!0}];class oue{constructor(e){this.view=e;let n=this.query=e.state.field(Os).query.spec;this.commit=this.commit.bind(this),this.searchField=wt("input",{value:n.search,placeholder:Kn(e,"Find"),"aria-label":Kn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=wt("input",{value:n.replace,placeholder:Kn(e,"Replace"),"aria-label":Kn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=wt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=wt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=wt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(r,s,o){return wt("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=wt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>eh(e),[Kn(e,"next")]),i("prev",()=>th(e),[Kn(e,"previous")]),i("select",()=>nue(e),[Kn(e,"all")]),wt("label",null,[this.caseField,Kn(e,"match case")]),wt("label",null,[this.reField,Kn(e,"regexp")]),wt("label",null,[this.wordField,Kn(e,"by word")]),...e.state.readOnly?[]:[wt("br"),this.replaceField,i("replace",()=>Lw(e),[Kn(e,"replace")]),i("replaceAll",()=>rue(e),[Kn(e,"replace all")])],wt("button",{name:"close",onclick:()=>$C(e),"aria-label":Kn(e,"close"),type:"button"},[""])])}commit(){let e=new yC({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:mu.of(e)}))}keydown(e){aK(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?th:eh)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Lw(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(mu)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ya).top}}function Kn(t,e){return t.state.phrase(e)}const Mc=30,Zc=/[\s\.,:;?!]/;function $0(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),r=t.state.doc.lineAt(n).to,s=Math.max(i.from,e-Mc),o=Math.min(r,n+Mc),a=t.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<Mc;l++)if(!Zc.test(a[l+1])&&Zc.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-Mc;l--)if(!Zc.test(a[l-1])&&Zc.test(a[l])){a=a.slice(0,l);break}}return ve.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${i.number}.`)}const aue=ve.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),lue=[Os,Ms.low(tue),aue];class uue{constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}}class Fs{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let r=e,s=i.facet(Ou).markerFilter;s&&(r=s(r,i));let o=Pe.set(r.map(a=>a.from==a.to||a.from==a.to-1&&i.doc.lineAt(a.from).to==a.from?Pe.widget({widget:new vue(a),diagnostic:a}).range(a.from):Pe.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Fs(o,n,Pa(o))}}function Pa(t,e=null,n=0){let i=null;return t.between(n,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new uue(r,s,o.diagnostic),!1}),i}function cue(t,e){let n=e.pos,i=e.end||n,r=t.state.facet(Ou).hideOn(t,n,i);if(r!=null)return r;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(kC))||t.changes.touchesRange(s.from,Math.max(s.to,i)))}function fue(t,e){return t.field(ri,!1)?e:e.concat(qe.appendConfig.of(_ue))}const kC=qe.define(),k0=qe.define(),PC=qe.define(),ri=Xt.define({create(){return new Fs(Pe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),i=null,r=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);i=Pa(n,t.selected.diagnostic,s)||Pa(n,null,s)}!n.size&&r&&e.state.facet(Ou).autoPanel&&(r=null),t=new Fs(n,r,i)}for(let n of e.effects)if(n.is(kC)){let i=e.state.facet(Ou).autoPanel?n.value.length?vu.open:null:t.panel;t=Fs.init(n.value,i,e.state)}else n.is(k0)?t=new Fs(t.diagnostics,n.value?vu.open:null,t.selected):n.is(PC)&&(t=new Fs(t.diagnostics,t.panel,n.value));return t},provide:t=>[su.from(t,e=>e.panel),ve.decorations.from(t,e=>e.diagnostics)]}),hue=Pe.mark({class:"cm-lintRange cm-lintRange-active"});function due(t,e,n){let{diagnostics:i}=t.state.field(ri),r=[],s=2e8,o=0;i.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(r.push(u.diagnostic),s=Math.min(l,s),o=Math.max(c,o))});let a=t.state.facet(Ou).tooltipFilter;return a&&(r=a(r,t.state)),r.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:pue(t,r)}}}:null}function pue(t,e){return wt("ul",{class:"cm-tooltip-lint"},e.map(n=>TC(t,n,!1)))}const gue=t=>{let e=t.state.field(ri,!1);(!e||!e.panel)&&t.dispatch({effects:fue(t.state,[k0.of(!0)])});let n=ru(t,vu.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},zw=t=>{let e=t.state.field(ri,!1);return!e||!e.panel?!1:(t.dispatch({effects:k0.of(!1)}),!0)},mue=t=>{let e=t.state.field(ri,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to)?!1:(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},Oue=[{key:"Mod-Shift-m",run:gue,preventDefault:!0},{key:"F8",run:mue}],Ou=_e.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},br(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?i=>e(i)||n(i):e:n}))}});function QC(t){let e=[];if(t)e:for(let{name:n}of t){for(let i=0;i<n.length;i++){let r=n[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function TC(t,e,n){var i;let r=n?QC(e.actions):[];return wt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},wt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let d=Pa(t.state.field(ri).diagnostics,e);d&&s.apply(t,d.from,d.to)},{name:c}=s,u=r[o]?c.indexOf(r[o]):-1,f=u<0?c:[c.slice(0,u),wt("u",c.slice(u,u+1)),c.slice(u+1)];return wt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[o]})"`}.`},f)}),e.source&&wt("div",{class:"cm-diagnosticSource"},e.source))}class vue extends yr{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return wt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Yw{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=TC(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vu{constructor(e){this.view=e,this.items=[];let n=r=>{if(r.keyCode==27)zw(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=QC(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=Pa(this.view.state.field(ri).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=wt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=wt("div",{class:"cm-panel-lint"},this.list,wt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>zw(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(ri).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(ri),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let c=-1,u;for(let f=i;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new Yw(this.view,l.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Yw(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{let l=a.height/this.list.offsetHeight;o.top<a.top?this.list.scrollTop-=(a.top-o.top)/l:o.bottom>a.bottom&&(this.list.scrollTop+=(o.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(ri),i=Pa(n.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:PC.of(i)})}static open(e){return new vu(e)}}function bue(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Dc(t){return bue(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const yue=ve.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Dc("#d11")},".cm-lintRange-warning":{backgroundImage:Dc("orange")},".cm-lintRange-info":{backgroundImage:Dc("#999")},".cm-lintRange-hint":{backgroundImage:Dc("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),_ue=[ri,ve.decorations.compute([ri],t=>{let{selected:e,panel:n}=t.field(ri);return!e||!n||e.from==e.to?Pe.none:Pe.set([hue.range(e.from,e.to)])}),YK(due,{hideOn:cue}),yue],wue=[nJ(),sJ(),SK(),Eae(),ute(),dK(),vK(),tt.allowMultipleSelections.of(!0),Gee(),zv(dte,{fallback:!0}),yte(),Une(),eie(),ZK(),WK(),AK(),Ble(),Va.of([...Yne,...Ele,...sue,...Xae,...ste,...l4,...Oue])],xue="#e5c07b",Nw="#e06c75",Sue="#56b6c2",$ue="#ffffff",of="#abb2bf",Um="#7d8799",kue="#61afef",Pue="#98c379",Fw="#d19a66",Que="#c678dd",Tue="#21252b",Gw="#2c313a",Hw="rgb(30,30,30)",Jp="#353a42",Aue="#333",Kw="white",AC=ve.theme({"&":{color:of,backgroundColor:Hw},".cm-line":{fontFamily:"'Fira Code'"},".cm-content":{caretColor:Kw},".cm-cursor, .cm-dropCursor":{borderLeftColor:Kw},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Aue},".cm-panels":{backgroundColor:Tue,color:of},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:Hw,color:Um,border:"none"},".cm-activeLineGutter":{backgroundColor:Gw},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Jp},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Jp,borderBottomColor:Jp},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Gw,color:of}}},{dark:!0}),vd=Ju.define([{tag:C.keyword,color:Que},{tag:[C.name,C.deleted,C.character,C.propertyName,C.macroName],color:Nw},{tag:[C.function(C.variableName),C.labelName],color:kue},{tag:[C.color,C.constant(C.name),C.standard(C.name)],color:Fw},{tag:[C.definition(C.name),C.separator],color:of},{tag:[C.typeName,C.className,C.number,C.changed,C.annotation,C.modifier,C.self,C.namespace],color:xue},{tag:[C.operator,C.operatorKeyword,C.url,C.escape,C.regexp,C.link,C.special(C.string)],color:Sue},{tag:[C.meta,C.comment],color:Um},{tag:C.strong,fontWeight:"bold"},{tag:C.emphasis,fontStyle:"italic"},{tag:C.strikethrough,textDecoration:"line-through"},{tag:C.link,color:Um,textDecoration:"underline"},{tag:C.heading,fontWeight:"bold",color:Nw},{tag:[C.atom,C.bool,C.special(C.variableName)],color:Fw},{tag:[C.processingInstruction,C.string,C.inserted],color:Pue},{tag:C.invalid,color:$ue}]),Cue=vd.style;vd.style=t=>Cue(t||[]);const Rue=zv(vd);zv(vd);const Eue=145,que=1,Mue=146,Zue=2,Due=147,jue=3,nh=4,CC=5,RC=6,EC=7,qC=8,Wue=9,Bue=11,eg=148,Iue=12,Jw=149,Vm=13,af=14,Xue=67,Uue=110,Vue=113,Lue=116,zue=118,Yue={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Nue={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},ex={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Fue(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function MC(t){return t==9||t==10||t==13||t==32}let tx=null,nx=null,ix=0;function Lm(t,e){let n=t.pos+e;if(ix==n&&nx==t)return tx;let i=t.peek(e);for(;MC(i);)i=t.peek(++e);let r="";for(;Fue(i);)r+=String.fromCharCode(i),i=t.peek(++e);return nx=t,ix=n,tx=r?r.toLowerCase():i==Hue||i==Kue?void 0:null}const ZC=60,Gue=62,DC=47,Hue=63,Kue=33;function rx(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let n=0;n<t.length;n++)this.hash+=(this.hash<<4)+t.charCodeAt(n)+(t.charCodeAt(n)<<8)}const Jue=[nh,qC,CC,RC,EC],ece=new Bv({start:null,shift(t,e,n,i){return Jue.indexOf(e)>-1?new rx(Lm(i,1)||"",t):t},reduce(t,e){return e==Xue&&t?t.parent:t},reuse(t,e,n,i){let r=e.type.id;return r==nh||r==zue?new rx(Lm(i,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),tce=new xn((t,e)=>{if(t.next!=ZC){t.next<0&&e.context&&t.acceptToken(eg);return}t.advance();let n=t.next==DC;n&&t.advance();let i=Lm(t,0);if(i===void 0)return;if(!i)return t.acceptToken(n?Iue:nh);let r=e.context?e.context.name:null;if(n){if(i==r)return t.acceptToken(Wue);if(r&&Nue[r])return t.acceptToken(eg,-2);for(let s=e.context;s;s=s.parent)if(s.name==i)return;t.acceptToken(Bue)}else{if(i=="script")return t.acceptToken(CC);if(i=="style")return t.acceptToken(RC);if(i=="textarea")return t.acceptToken(EC);if(Yue.hasOwnProperty(i))return t.acceptToken(qC);r&&ex[r]&&ex[r][i]?t.acceptToken(eg,-1):t.acceptToken(nh)}},{contextual:!0});function P0(t,e,n){let i=2+t.length;return new xn(r=>{for(let s=0,o=0,a=0;;a++){if(r.next<0){a&&r.acceptToken(e);break}if(s==0&&r.next==ZC||s==1&&r.next==DC||s>=2&&s<i&&r.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==i)&&MC(r.next))o++;else if(s==i&&r.next==Gue){a>o?r.acceptToken(e,-o):r.acceptToken(n,-(o-2));break}else if((r.next==10||r.next==13)&&a){r.acceptToken(e,1);break}else s=o=0;r.advance()}})}const nce=P0("script",Eue,que),ice=P0("style",Mue,Zue),rce=P0("textarea",Due,jue),sce=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],jC=40,ih=41,WC=91,rh=93,BC=123,sh=125,oce=44,ace=58,lce=35,uce=64,Sl=47,cce=62,fce=45,sx=34,ox=39,hce=92,dce=10,ax=42,lx=96,IC=[ace,lce,uce,Sl],pce=new xn(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(Jw);break}if(t.next==fce)e++;else if(t.next==cce&&e>=2){n>3&&t.acceptToken(Jw,-2);break}else e=0;t.advance()}});function XC(t){let e=!1,n=null,i=!1;return()=>e?i?(i=!1,!0):t.next===hce?(i=!0,!0):((n==="double"&&t.next===sx||n==="single"&&t.next===ox||n==="template"&&t.next===lx)&&(e=!1,n=null),!0):t.next===sx?(e=!0,n="double",!0):t.next===ox?(e=!0,n="single",!0):t.next===lx?(e=!0,n="template",!0):!1}function UC(t){let e=!1,n=!1;return()=>e?(t.next===dce&&(e=!1),!0):n?(t.next===ax&&t.peek(1)===Sl&&(n=!1),!0):t.next===Sl&&t.peek(1)===Sl?(e=!0,!0):t.next===Sl&&t.peek(1)===ax?(n=!0,!0):!1}const gce=new xn(t=>{if(IC.includes(t.next))return;const e=UC(t),n=XC(t);let i=[];const r=s=>{const o=i.lastIndexOf(s);if(o!==-1)for(;i.length>o;)i.pop()};for(let s=0;;s++){if(t.next<0){s>0&&t.acceptToken(Vm);break}if(e()||n()){t.advance();continue}if(i.length===0&&(t.next===sh||t.next===ih||t.next===rh)){t.acceptToken(Vm);break}switch(t.next){case jC:i.push("(");break;case ih:r("(");break;case WC:i.push("[");break;case rh:r("[");break;case BC:i.push("{");break;case sh:r("{");break}t.advance()}}),mce=new xn(t=>{if(IC.includes(t.peek(0)))return;const e=UC(t),n=XC(t);let i=[];const r=s=>{const o=i.lastIndexOf(s);if(o!==-1)for(;i.length>o;)i.pop()};for(let s=0;;s++){if(t.next<0){s>0&&t.acceptToken(af);break}if(e()||n()){t.advance();continue}if(i.length===0&&(t.next===sh||t.next===ih||t.next===rh||t.next===oce)){t.acceptToken(af);break}switch(t.next){case jC:i.push("(");break;case ih:r("(");break;case WC:i.push("[");break;case rh:r("[");break;case BC:i.push("{");break;case sh:r("{");break}if(s!==0&&i.length===0&&sce.includes(t.next)){t.acceptToken(af);break}t.advance()}}),Oce=Fu({"Text RawText":C.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":C.angleBracket,TagName:C.tagName,"MismatchedCloseTag/TagName":[C.tagName,C.invalid],AttributeName:C.attributeName,UnquotedAttributeValue:C.attributeValue,"DoubleQuote SingleQuote AttributeValueContent":C.attributeValue,Is:C.definitionOperator,"EntityReference CharacterReference":C.character,Comment:C.blockComment,ProcessingInst:C.processingInstruction,DoctypeDecl:C.documentMeta,"{ }":C.bracket,"[ ]":C.squareBracket,"( )":C.paren,"| , :":C.punctuation,"...":C.derefOperator,ComponentName:C.className,SvelteElementNamespace:C.namespace,SvelteElementType:C.tagName,StyleAttributeName:C.propertyName,BlockType:C.controlKeyword,BlockPrefix:C.typeOperator,"UnknownBlock/BlockType":C.invalid,UnknownBlockContent:C.invalid,"if then catch":C.controlKeyword,as:C.definitionOperator,Variable:C.variableName,Modifier:C.modifier,DirectlyInterpolatedAttributeValue:C.attributeValue,"DirectiveOn/DirectiveName":C.controlKeyword,"DirectiveOn/DirectiveTarget":C.typeName,"DirectiveUse/DirectiveName":C.controlKeyword,"DirectiveUse/DirectiveTarget":C.function(C.variableName),"DirectiveBind/DirectiveName":C.controlKeyword,"DirectiveBind/DirectiveTarget":C.variableName,"DirectiveLet/DirectiveName":C.definitionKeyword,"DirectiveLet/DirectiveTarget":C.definition(C.variableName),"DirectiveTransition/DirectiveName":C.operatorKeyword,"DirectiveTransition/DirectiveTarget":C.function(C.variableName),"DirectiveIn/DirectiveName":C.operatorKeyword,"DirectiveIn/DirectiveTarget":C.function(C.variableName),"DirectiveOut/DirectiveName":C.operatorKeyword,"DirectiveOut/DirectiveTarget":C.function(C.variableName),"DirectiveAnimate/DirectiveName":C.operatorKeyword,"DirectiveAnimate/DirectiveTarget":C.function(C.variableName),"DirectiveClass/DirectiveName":C.attributeName,"DirectiveClass/DirectiveTarget":C.variableName,"DirectiveStyle/DirectiveName":C.attributeName,"DirectiveStyle/DirectiveTarget":C.propertyName}),vce={__proto__:null,"#":41,":":51,"/":59,"@":109},bce={__proto__:null,if:44,else:52,each:64,await:82,then:90,catch:94,key:102,html:110,debug:114,const:118},yce={__proto__:null,if:54,as:66,then:84,catch:86},_ce={__proto__:null,on:313,bind:317,let:319,class:321,style:323,use:325,transition:327,in:329,out:331,animate:333},wce={__proto__:null,svelte:243},xce=po.deserialize({version:14,states:"DxQVO#|OOO!ZO#|O'#ClO#[O#|O'#CzO$]O#|O'#DTO%^O#|O'#D_O&_Q'[O'#DjO&mQ&jO'#DrO&rQ&jO'#EpO&wQ&jO'#EsO&|Q&jO'#EvO'XQ&jO'#E|O'^OXO'#DqO'iOYO'#DqO'tO[O'#DqO)TO#|O'#DqOOOW'#Dq'#DqO)[O&zO'#FOO&|Q&jO'#FQO&|Q&jO'#FROOOW'#Fj'#FjOOOW'#FT'#FTQVO#|OOOOOW'#FU'#FUO!ZO#|O,59WOOOW,59W,59WO)uQ'[O'#DjO#[O#|O,59fOOOW,59f,59fO)|Q'[O'#DjOOOW'#FV'#FVO$]O#|O,59oOOOW,59o,59oO*fQ'[O'#DjOOOW'#FW'#FWO%^O#|O,59yOOOW,59y,59yO*mQ'[O'#DjO+OQ&jO,5:UO+TQ,UO,5:VO+YQ,UO,59XO+hQ,UO,59}O,nQ7[O,5:^O,uQ7[O,5;[O,|Q7[O,5;_O-TO,UO'#ExOOQO'#F|'#F|O-YQ7[O,5;bO-dQ7[O,5;hOOOX'#F^'#F^O-kOXO'#EnO-vOXO,5:]OOOY'#F_'#F_O.OOYO'#EqO.ZOYO,5:]OOO['#F`'#F`O.cO[O'#EtO.nO[O,5:]O.vO#|O,5:]O&|Q&jO'#E{OOOW,5:],5:]OOO`'#Fa'#FaO.}O&zO,5;jOOOW,5;j,5;jO/VQ,UO,5;lO/[Q,UO,5;mOOOW-E9R-E9ROOOW-E9S-E9SOOOW1G.r1G.rO/aQ,UO,59`O/fQ,UO,59dOOOW1G/Q1G/QO/kQ,UO,59nOOOW-E9T-E9TOOOW1G/Z1G/ZO/pQ,UO,59tO/xQ,UO,59xOOOW-E9U-E9UOOOW1G/e1G/eO/}Q,UO,59|OOOW1G/p1G/pO0SQMhO1G/qO0[Q'[O1G.sO0aQ'|O1G/RO0fQ'|O1G/[O0kQ'[O1G/fO0pQ'[O1G/iO0uQ!LQO1G/lO0zQ'[O1G/nO1PQ$ISO'#DtOOOO'#Dz'#DzO1[O,UO'#DyOOOO'#EO'#EOO1aO,UO'#D}OOOO'#EQ'#EQO1fO,UO'#EPOOOO'#ES'#ESO1kO,UO'#EROOOO'#EU'#EUO1pO,UO'#ETOOOO'#EW'#EWO1uO,UO'#EVOOOO'#EY'#EYO1zO,UO'#EXOOOO'#E['#E[O2PO,UO'#EZOOOO'#E^'#E^O2UO,UO'#E]OOOO'#E`'#E`O2ZO,UO'#E_O2`Q7[O'#DxO3gQ7[O'#EjO4kQ7[O'#ElOOQO'#Fl'#FlOOQO'#FY'#FYO5rQ7[O1G/xOOOX1G/x1G/xOOQO'#Fm'#FmO5yQ7[O1G0vOOOY1G0v1G0vO6QQ7[O1G0yOOO[1G0y1G0yO6XO(CWO,5;dO6^Q7[O1G0|OOOW1G0|1G0|OOOW1G1S1G1SO6hQ7[O1G1SOOOX-E9[-E9[O6oQ&jO'#EoOOOW1G/w1G/wOOOY-E9]-E9]O6tQ&jO'#ErOOO[-E9^-E9^O6yQ&jO'#EuO7OQ,UO,5;gOOO`-E9_-E9_OOOW1G1U1G1UOOOW1G1W1G1WOOOW1G1X1G1XP)dQ'[O'#DjO7TQ$ISO1G.zO7]Q&jO1G/OO7bQ&jO1G/YP*TQ'[O'#DjO7gQ!LQO1G/`O7oQ!LQO1G/bO7wQ&jO1G/dO7|Q&jO1G/hOOOW7+%]7+%]O8RQ&jO7+%]O8WQ&jO7+$_O8]Q$ISO7+$mO8bQ$ISO7+$vO8mQ&jO7+%QO8rQ&jO7+%TO8wQ&jO7+%WO9PQ&jO7+%YOOQO'#Du'#DuOOQO,5:`,5:`O9UQ&jO,5:`O9ZQ'[O,5:bO9`O07`O,5:eO9eO07`O,5:iO9jO07`O,5:kO9oO07`O,5:mO9tO07`O,5:oO9yO07`O,5:qO:OO07`O,5:sO:TO07`O,5:uO:YO07`O,5:wO:_O07`O,5:yO:dQ?MpO'#FZO:iQ7[O,5:dO;pQ!0LbO,5:dO<OQ!0LbO,5;UO<^Q7[O,5;WO=eQ!0LbO,5;WOOQO-E9W-E9WOOOX7+%d7+%dOOOY7+&b7+&bOOO[7+&e7+&eOOQO1G1O1G1OOOOW7+&h7+&hOOOW7+&n7+&nO=sQ,UO,5;ZO=xQ,UO,5;^O=}Q,UO,5;aOOOW1G1R1G1ROOOW7+$f7+$fO>SQ'[O7+$fOOOW7+$j7+$jOOOW7+$t7+$tOOOW7+$z7+$zO>XQ&jO7+$zOOOW7+$|7+$|O>^Q&jO7+$|OOOW7+%O7+%OOOOW7+%S7+%SOOOW<<Hw<<HwOOOW<<Gy<<GyO>cQ'|O<<HXOOOW<<Hb<<HbO>hQ'|O<<HbOOOW<<Hl<<HlOOOW<<Ho<<HoO>mQ!LQO'#FXO>rQ&jO<<HrOOOW<<Hr<<HrOOOW<<Ht<<HtOOQO1G/z1G/zO>zQ&jO1G/|OOQO1G0P1G0POOQO1G0T1G0TOOQO1G0V1G0VOOQO1G0X1G0XOOQO1G0Z1G0ZOOQO1G0]1G0]OOQO1G0_1G0_OOQO1G0a1G0aOOQO1G0c1G0cOOQO1G0e1G0eOOQO,5;u,5;uOOQO-E9X-E9XO?PQ!0LbO1G0OO?_Q'[O'#DjOOQO'#Ed'#EdO?uO#@ItO'#EdO@_O&2DjO'#EdOOQO1G0O1G0OOOQO1G0p1G0pO@fQ!0LbO1G0rOOQO1G0r1G0rOOOW1G0u1G0uOOOW1G0x1G0xOOOW1G0{1G0{O@tQ&jO<<HQOOOW<<Hf<<HfOOOW<<Hh<<HhO@yQ&jOAN=sOAUQ&jOAN=|OOQO,5;s,5;sOOQO-E9V-E9VOOOWAN>^AN>^OOQO7+%h7+%hOOQO7+%j7+%jOOOO'#Fz'#FzOOOO'#F['#F[OAZO#@ItO'#EfOOQO,5;O,5;OOAbO&jO,5;OOOOO'#F]'#F]OAgO&2DjO'#EhOAnO&jO,5;OOOQO7+&^7+&^OOOWAN=lAN=lOOOWG23_G23_OAsQ'[OG23_OAxQ!LQOG23_OOOWG23hG23hOOOO-E9Y-E9YOOQO1G0j1G0jOOOO-E9Z-E9ZOBTQ&jOLD(yOOOWLD(yLD(yOBYQ'[OLD(yOB_Q&jOLD(yOBgQ&jO!$'LeOBlQ&jO!$'LeOOOW!$'Le!$'LeOBqQ'[O!$'LeOOOW!)9BP!)9BPOBvQ&jO!)9BPOB{Q&jO!)9BPOOOW!.K7k!.K7kOCQQ&jO!.K7kOOOW!4/-V!4/-V",stateData:"Cd~O$]OS~OSXOTUOUVOVWOWYOYbOZaO[cObTO!acO!bcO!ccO!dcO#scO#vdO$q`O~OSXOTUOUVOVWOWYOYbOZaO[cObiO!acO!bcO!ccO!dcO#scO$q`O~OSXOTUOUVOVWOWYOYbOZaO[cOblO!acO!bcO!ccO!dcO#scO$q`O~OSXOTUOUVOVWOWYOYbOZaO[cObpO!acO!bcO!ccO!dcO#scO$q`O~OSXOTUOUVOVWOWYOYbOZaO[cObtO!acO!bcO!ccO!dcO#scO$q`O~O]uOcvOdwO!WxO~O!gyO~O!gzO~O!g{O~O!g}O#k}O#m|O~O!g!PO~O$V!QOP#bP$Y#bP~O$W!TOQ#eP$Y#eP~O$X!WOR#hP$Y#hP~OSXOTUOUVOVWOWYOX![OYbOZaO[cObTO!acO!bcO!ccO!dcO#scO$q`O~O$Y!]O~P(PO$Z!^O$r!`O~O]uOcvOdwOi!fO!WxO~Om!gO~P)dOm!iO~P)dO]uOcvOdwOi!lO!WxO~Om!mO~P*TO]uOcvOdwOm!pO!WxO~Og!qO~Oe!rO~Of!sOp!tOy!uO!T!vO~O!X!wO!Z!xO!]!yO~Ob!zO!o#cO#_#bO$b!{O$d!}O$e#PO$f#RO$g#TO$h#VO$i#XO$j#ZO$k#]O$l#_O~O#a#gO~P+sO#a#jO~P+sO#a#lO~P+sO$c#mO~O#a#oO#q#pO~P+sO#a#pO~P+sO$V!QOP#bX$Y#bX~OP#sO$Y#tO~O$W!TOQ#eX$Y#eX~OQ#vO$Y#tO~O$X!WOR#hX$Y#hX~OR#xO$Y#tO~O$Y#tO~P(PO$Z!^O$r#{O~O#a#|O~O#a#}O~Oj$PO~Of$QO~Op$RO~O}$TO!P$UO~Oy$VO~O!T$WO~Og$XO!`$YO~O]$ZO~O^$[O~O^$]O~O]$^O~O]$_O~Ou$`O~O]$aO~Og$cO!k$eO$_$bO~O$c$fO~O$c$gO~O$c$hO~O$c$iO~O$c$jO~O$c$kO~O$c$lO~O$c$mO~O$c$nO~O$c$oO~O#T$pO#V$rOb!lX!o!lX#_!lX#a!lX$b!lX$d!lX$e!lX$f!lX$g!lX$h!lX$i!lX$j!lX$k!lX$l!lX#q!lX~O#V$sOb#^X!o#^X#_#^X#a#^X$b#^X$d#^X$e#^X$f#^X$g#^X$h#^X$i#^X$j#^X$k#^X$l#^X#q#^X~O#T$pO#V$uOb#`X!o#`X#_#`X#a#`X$b#`X$d#`X$e#`X$f#`X$g#`X$h#`X$i#`X$j#`X$k#`X$l#`X#q#`X~O#a$wO~P+sO#a$xO~P+sO#a$yO~P+sO#n$zO~O#a${O#q$|O~P+sO#a$|O~P+sO!g$}O~O!g%OO~O!g%PO~O#a%QO~Og%ROk%SO~Og%TO~Og%UO~Og%VOu%WO~Og%XOu%YO~Og%ZO~Og%[O~Og%]O~Og%^O~Oq%_O~Og%`Oz%aO{%aO~Og%bO~Og%cO~Og%fOt%dO~Og%gO~Og%hO~O]%iO~O!p%jO~O!p%kO~O!p%lO~O!p%mO~O!p%nO~O!p%oO~O!p%pO~O!p%qO~O!p%rO~O!p%sO~O#U%tO~O#T$pO#V%vOb!la!o!la#_!la#a!la$b!la$d!la$e!la$f!la$g!la$h!la$i!la$j!la$k!la$l!la#q!la~Ob%wO#X%yO#Z%zO#]%{O~Ob%wO#X%yO#Z%zO#]%|O~O#T$pO#V%}Ob#`a!o#`a#_#`a#a#`a$b#`a$d#`a$e#`a$f#`a$g#`a$h#`a$i#`a$j#`a$k#`a$l#`a#q#`a~Ob%wO#X%yO#Z%zO#]&OO~O#a&PO~O#a&QO~O#a&RO~O]&SO~Og&TO~Og&UO~O^&VO~O^&WO~Ou&XO~Og&ZOt%dO~Og&[O~Ob%wO#X%yO#Z%zO#]&]O~O]uO~Ob%wO!b&^O!c&^O!d&^O$m&_O~O#X&aO~P?dOb%wO!b&^O!c&^O!d&^O$o&cO~O#Z&aO~P?|Ob%wO#X%yO#Z%zO#]&fO~Og&gO~Og&hOr&iOt&jO~Og&kO~O#X#YX~P?dO#X&mO~O#Z#[X~P?|O#Z&mO~O]&oO~Og&pOr&qOu&rO~Os&sO~O]&tO~Og&uOr&vO~Og&wO~Os&xO~O]&yO~Og&zO~Os&{O~Og&|O~O!`$]#q$q#s#v!c!b#_!o!d#a~",goto:"1T$qPPPPPPPPPPPPPPPP$r%QPPPPPP%`PPP%fP$r%lPPPPPP%z$r&QPPP&`P&`P&d$r&jP&x$rPP$rP$rP'O$rPPPPP$r'kP'y(V'yP'y(Y(fPP(Y(r(Y)O(Y)[(Y)h(Y)t(Y*Q(Y*^(Y*j(Y*vPPP+SP+cP+fP'yP'yP+i+l+o+},Q,T,c,f,iP,wPP,}-TP$rP$r$rP-c-i-s-y.T.Z.q.{/R/X/_/e/kPPPPPPPP/qP0V0cPPPPPPPPPPPP0oP0wicOPQRS^egjnr!ZiPOPQRS^egjnr!ZXfPQgjQhPR!egiQOPQRS^egjnr!ZQkQR!hjiROPQRS^egjnr!ZTmRnQoRR!kniSOPQRS^egjnr!ZQsSR!orhcOPQRS^egjnr!ZY%x$r$s$u%v%}X&^%y%z&`&diZOPQRS^egjnr!Ze#dyz{!O!P#f#i#k#n#qR$d!ze#hyz{!O!P#f#i#k#n#qe!|yz{!O!P#f#i#k#n#qe#Oyz{!O!P#f#i#k#n#qe#Qyz{!O!P#f#i#k#n#qe#Syz{!O!P#f#i#k#n#qe#Uyz{!O!P#f#i#k#n#qe#Wyz{!O!P#f#i#k#n#qe#Yyz{!O!P#f#i#k#n#qe#[yz{!O!P#f#i#k#n#qe#^yz{!O!P#f#i#k#n#qe#`yz{!O!P#f#i#k#n#qQ%{$rQ%|$sQ&O$uQ&]%vR&f%}R&b%yR&e%zR!SZR#t!Si[OPQRS^egjnr!ZR!V[R#t!Vi]OPQRS^egjnr!ZR!Y]R#t!Yi^OPQRS^egjnr!ZX}Xab![Q!]^R#t!Zi_OPQRS^egjnr!ZQeOR!ceQgPQjQT!dgjQnRR!jnQrSQ!Z^T!nr!ZQ%e$`R&Y%eQ#fyQ#izQ#k{Q#n!OQ#q!PZ$v#f#i#k#n#qQ$q#aQ$t#cT%u$q$tQ&`%yR&l&`Q&d%zR&n&dQ!RZR#r!RQ!U[R#u!UQ!X]R#w!XQ!_`R#z!_SdOeWfPQgjSmRnXqS^r!Ze#eyz{!O!P#f#i#k#n#qe#ayz{!O!P#f#i#k#n#qS&_%y&`T&c%z&dQ!OXQ!aaQ!bbR#y![",nodeNames:" StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag LongExpression ShortExpression Document IfBlock IfBlockOpen { BlockPrefix BlockPrefix BlockType BlockType } ElseBlock BlockPrefix BlockType if IfBlockClose BlockPrefix EachBlock EachBlockOpen BlockType as ( ) , Variable EachBlockClose AwaitBlock AwaitBlockOpen BlockType then catch ThenBlock BlockType CatchBlock BlockType AwaitBlockClose KeyBlock KeyBlockOpen BlockType KeyBlockClose RawHTMLBlock BlockPrefix BlockType DebugBlock BlockType ConstBlock BlockType Interpolation UnknownBlock UnknownBlockContent Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName DirectlyInterpolatedAttribute DirectlyInterpolatedAttributeValue SpreadInterpolatedAttribute ... Directive DirectiveOn DirectiveName AttributeName DirectiveTarget DirectiveBind DirectiveName DirectiveLet DirectiveName DirectiveClass DirectiveName DirectiveStyle DirectiveName DirectiveUse DirectiveName DirectiveTransition DirectiveName DirectiveIn DirectiveName DirectiveOut DirectiveName DirectiveAnimate DirectiveName | Modifier Is AttributeValue DoubleQuote AttributeValueContent SingleQuote AttributeValueContent UnquotedAttributeValue StyleAttribute StyleAttributeName Attribute EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag ComponentName SvelteElementName SvelteElementNamespace SvelteElementType CloseTag SelfClosingTag SelfClosingEndTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:172,context:ece,nodeProps:[["closedBy",-10,1,2,3,5,6,7,8,9,10,11,"EndTag",4,"EndTag SelfClosingEndTag",17,"IfBlockClose",18,"}",31,"EachBlockClose",34,"(",40,"AwaitBlockClose",48,"AwaitBlockOpen",50,"KeyBlockClose",-4,68,112,115,118,"CloseTag",101,'"',103,"'"],["group",-10,12,60,64,65,66,67,126,127,128,129,"Entity",-4,16,30,39,49,"Block Entity",-4,17,31,40,50,"BlockOpen",-3,24,44,46,"BlockInline",-4,28,38,48,52,"BlockClose",-4,53,56,58,61,"BlockInline Entity",63,"Entity TextContent",-3,110,113,116,"TextContent Entity"],["openedBy",23,"{",28,"IfBlockOpen",35,")",38,"EachBlockOpen",52,"KeyBlockOpen",101,'"',103,"'",109,"StartTag StartCloseTag",-4,111,114,117,123,"OpenTag",125,"StartTag"]],propSources:[Oce],skippedNodes:[0],repeatNodeCount:13,tokenData:"&8h$IRR!dOX%aXY/TYZ/TZ[%a[]1{]^/T^p%apq/Tqr2yrsEastF_tuHxuv2yvw!)[wx#,nxy#-lyz#0Vz|2y|}#2p}!O#5Z!O!P#Kk!P!Q$%S!Q![2y![!]$'{!]!^2y!^!_$)u!_!`%'{!`!a%({!a!b2y!b!cF_!c!}%){!}#R2y#R#S%AU#S#T&%m#T#o&'m#o#p&1P#p#q&1d#q#r&3[#r#s2y#s$f%a$f$g2y$g%WHx%W%o%AU%o%pHx%p&a%AU&a&bHx&b1p%AU1p4UHx4U4d%AU4d4eHx4e$IS%AU$IS$I`Hx$I`$Ib%AU$Ib$KhHx$Kh%#t%AU%#t&/xHx&/x&Et%AU&Et&FVHx&FV;'S%AU;'S;:j&5p;:j;=`&5v<%l?&rHx?&r?Ah%AU?Ah?BY&5|?BY?Mn%AU?MnO&5|$3X%ng!aP#]7[$mMh$o!LQ!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wsv'Vvw*}wx(wx!^'V!^!_)q!_!a(w!a#S'V#S#T(w#T#o'V#o#p*}#p#q'V#q#r-b#r;'S'V;'S;=`.}<%lO'V7m'`g!aP#]7[!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wsv'Vvw*}wx(wx!^'V!^!_)q!_!a(w!a#S'V#S#T(w#T#o'V#o#p*}#p#q'V#q#r-b#r;'S'V;'S;=`.}<%lO'Va)OZ!aP!``Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w`)vS!``O#q)q#r;'S)q;'S;=`*S<%lO)q`*VP;=`<%l)qP*_U!aPOv*Yw!^*Y!_#o*Y#p;'S*Y;'S;=`*q<%lO*YP*tP;=`<%l*Ya*zP;=`<%l(w7l+Uc#]7[!``OX*}XZ)qZ[*}[^)q^p*}pq)qqr*}rs)qsw*}wx)qx!^*}!^!a)q!a#S*}#S#T)q#T#q*}#q#r,a#r;'S*};'S;=`-[<%lO*}7[,fY#]7[OX,aZ[,a^p,aqr,asw,ax!^,a!a#S,a#T;'S,a;'S;=`-U<%lO,a7[-XP;=`<%l,a7l-_P;=`<%l*}7]-id!aP#]7[OX-bXZ*YZ[-b[^*Y^p-bpq*Yqr-brs*Ysv-bvw,awx*Yx!^-b!_!a*Y!a#S-b#S#T*Y#T#o-b#o#p,a#p;'S-b;'S;=`.w<%lO-b7].zP;=`<%l-b7m/QP;=`<%l'V$@q/bb!aP$mMh$o!LQ!``$]EUOX(wXY0jYZ0jZ](w]^0j^p(wpq0jqv(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(wEV0sb!aP!``$]EUOX(wXY0jYZ0jZ](w]^0j^p(wpq0jqv(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w#J{2WZ!aP$mMh$o!LQ!``Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w$DR3^p!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'VHg5qp!p&j#U,U!aP#]7[!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'VHf8Sn!p&j#U,U#]7[!``!oWOX*}XZ)qZ[*}[^)q^p*}pq)qqr7urs)qsw7uwx)qx!P7u!P!Q*}!Q![7u![!]*}!]!^7u!^!_:Q!_!a)q!a#S7u#S#T:Q#T#o7u#o#q*}#q#r<y#r#s7u#s$f*}$f;'S7u;'S;=`>s<%l?Ah7u?Ah?BY*}?BY?Mn7u?MnO*}2Y:]f!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q1x;zZ!p&j#U,U!oWqr;qsw;qx!P;q!Q![;q!]!_;q!a#o;q#q#s;q$f;'S;q;'S;=`<m<%l?Ah;q?BY?Mn;q1x<pP;=`<%l;q2Y<vP;=`<%l:QHU=Ug!p&j#U,U#]7[!oWOX,aZ[,a^p,aqr<ysw<yx!P<y!P!Q,a!Q![<y![!],a!]!^<y!^!_;q!a#S<y#S#T;q#T#o<y#o#q,a#q#s<y#s$f,a$f;'S<y;'S;=`>m<%l?Ah<y?Ah?BY,a?BY?Mn<y?MnO,aHU>pP;=`<%l<yHf>vP;=`<%l7u2Z?Wi!p&j#U,U!aP!``!oWOq(wqr>yrs(wsv>yvw:Qwx(wx!P>y!P!Q(w!Q![>y![!](w!]!^>y!^!_:Q!_!a(w!a#o>y#o#p)q#p#q(w#q#r@u#r#s>y#s$f(w$f;'S>y;'S;=`Bo<%l?Ah>y?Ah?BY(w?BY?Mn>y?MnO(w1yAQg!p&j#U,U!aP!oWOq*Yqr@urs*Ysv@uvw;qwx*Yx!P@u!P!Q*Y!Q![@u![!]*Y!]!^@u!^!_;q!_!a*Y!a#o@u#p#q*Y#q#s@u#s$f*Y$f;'S@u;'S;=`Bi<%l?Ah@u?Ah?BY*Y?BY?Mn@u?MnO*Y1yBlP;=`<%l@u2ZBrP;=`<%l>yHVCSo!p&j#U,U!aP#]7[!oWOX-bXZ*YZ[-b[^*Y^p-bpq*YqrBurs*YsvBuvw<ywx*Yx!PBu!P!Q-b!Q![Bu![!]-b!]!^Bu!^!_;q!_!a*Y!a#SBu#S#T@u#T#oBu#o#p,a#p#q-b#q#sBu#s$f-b$f;'SBu;'S;=`ET<%l?AhBu?Ah?BY-b?BY?MnBu?MnO-bHVEWP;=`<%lBuHgE^P;=`<%l5b$3ZElZ#X!5v!aP$o!LQ!``Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w$DTFtpcQ!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'V$FZIcweS!p&j#U,U!aP#]7[up$mMh$o!LQ$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx!O5b!O!PN|!P!Q'V!Q![K|![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}K|!}#R5b#R#SK|#S#T>y#T#oK|#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g;'SK|;'S;=`!&h<%l?AhK|?Ah?BY!&n?BY?MnK|?MnO!&nJoLcweS!p&j#U,U!aP#]7[up$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx!O5b!O!PN|!P!Q'V!Q![K|![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}K|!}#R5b#R#SK|#S#T>y#T#oK|#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g;'SK|;'S;=`!&h<%l?AhK|?Ah?BY!&n?BY?MnK|?MnO!&nIX! _w!p&j#U,U!aP#]7[up!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuN|uv5bvw7uwx(wx!O5b!O!PN|!P!Q'V!Q![N|![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}N|!}#R5b#R#SN|#S#T>y#T#oN|#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g;'SN|;'S;=`!#x<%l?AhN|?Ah?BY!$O?BY?MnN|?MnO!$OIX!#{P;=`<%lN|8_!$Zq!aP#]7[up!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wst'Vtu!$Ouv'Vvw*}wx(wx!O'V!O!P!$O!P!Q'V!Q![!$O![!^'V!^!_)q!_!a(w!a!c'V!c!}!$O!}#R'V#R#S!$O#S#T(w#T#o!$O#o#p*}#p#q'V#q#r-b#r$g'V$g;'S!$O;'S;=`!&b<%lO!$O8_!&eP;=`<%l!$OJo!&kP;=`<%lK|9u!&}qeS!aP#]7[up$_!b!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wst'Vtu!&nuv'Vvw*}wx(wx!O'V!O!P!$O!P!Q'V!Q![!&n![!^'V!^!_)q!_!a(w!a!c'V!c!}!&n!}#R'V#R#S!&n#S#T(w#T#o!&n#o#p*}#p#q'V#q#r-b#r$g'V$g;'S!&n;'S;=`!)U<%lO!&n9u!)XP;=`<%l!&n$DR!)ko!p&j#U,U#]7[!``!oW!d#JkOX!+lXZ!-UZ[!+l[^!-U^p!+lpq)qqr!3Qrs!-Ust!B^tw!3Qwx!-Ux!P!3Q!P!Q!+l!Q![!3Q![!]!+l!]!^7u!^!_!7m!_!a!-U!a#S!3Q#S#T!7m#T#o!3Q#o#q!+l#q#r!>U#r#s!3Q#s$f!+l$f;'S!3Q;'S;=`!BW<%l?Ah!3Q?Ah?BY!+l?BY?Mn!3Q?MnO!+l$3X!+se#]7[!``OX!+lXZ!-UZ[!+l[^!-U^p!+lpq)qqr!+lrs!-Ust*}tw!+lwx!-Ux!]!+l!]!^!/[!^!a!-U!a#S!+l#S#T!-U#T#q!+l#q#r!0p#r;'S!+l;'S;=`!2z<%lO!+l#J{!-ZZ!``Op!-Upq)qqs!-Ust)qt!]!-U!]!^!-|!^#q!-U#q#r!.a#r;'S!-U;'S;=`!/U<%lO!-U#J{!.TS!``!b#JkO#q)q#r;'S)q;'S;=`*S<%lO)q#Jk!.dVOp!.aqs!.at!]!.a!]!^!.y!^;'S!.a;'S;=`!/O<%lO!.a#Jk!/OO!b#Jk#Jk!/RP;=`<%l!.a#J{!/XP;=`<%l!-U$3X!/ec#]7[!``!b#JkOX*}XZ)qZ[*}[^)q^p*}pq)qqr*}rs)qsw*}wx)qx!^*}!^!a)q!a#S*}#S#T)q#T#q*}#q#r,a#r;'S*};'S;=`-[<%lO*}$2w!0ub#]7[OX!0pXZ!.aZ[!0p[^!.a^p!0pqr!0prs!.ast,atw!0pwx!.ax!]!0p!]!^!1}!^!a!.a!a#S!0p#S#T!.a#T;'S!0p;'S;=`!2t<%lO!0p$2w!2UY#]7[!b#JkOX,aZ[,a^p,aqr,asw,ax!^,a!a#S,a#T;'S,a;'S;=`-U<%lO,a$2w!2wP;=`<%l!0p$3X!2}P;=`<%l!+l$DR!3_o!p&j#U,U#]7[!``!oWOX!+lXZ!-UZ[!+l[^!-U^p!+lpq)qqr!3Qrs!-Ust7utw!3Qwx!-Ux!P!3Q!P!Q!+l!Q![!3Q![!]!+l!]!^!5`!^!_!7m!_!a!-U!a#S!3Q#S#T!7m#T#o!3Q#o#q!+l#q#r!>U#r#s!3Q#s$f!+l$f;'S!3Q;'S;=`!BW<%l?Ah!3Q?Ah?BY!+l?BY?Mn!3Q?MnO!+l$DR!5on!p&j#U,U#]7[!``!b#Jk!oWOX*}XZ)qZ[*}[^)q^p*}pq)qqr7urs)qsw7uwx)qx!P7u!P!Q*}!Q![7u![!]*}!]!^7u!^!_:Q!_!a)q!a#S7u#S#T:Q#T#o7u#o#q*}#q#r<y#r#s7u#s$f*}$f;'S7u;'S;=`>s<%l?Ah7u?Ah?BY*}?BY?Mn7u?MnO*}$-u!7xi!p&j#U,U!``!oWOp!-Upq)qqr!7mrs!-Ust:Qtw!7mwx!-Ux!P!7m!P!Q!-U!Q![!7m![!]!-U!]!^!9g!^!_!7m!_!a!-U!a#o!7m#o#q!-U#q#r!;Y#r#s!7m#s$f!-U$f;'S!7m;'S;=`!>O<%l?Ah!7m?Ah?BY!-U?BY?Mn!7m?MnO!-U$-u!9tf!p&j#U,U!``!b#Jk!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q$-e!;cg!p&j#U,U!oWOp!.aqr!;Yrs!.ast;qtw!;Ywx!.ax!P!;Y!P!Q!.a!Q![!;Y![!]!.a!]!^!<z!^!_!;Y!_!a!.a!a#o!;Y#o#q!.a#q#s!;Y#s$f!.a$f;'S!;Y;'S;=`!=x<%l?Ah!;Y?Ah?BY!.a?BY?Mn!;Y?MnO!.a$-e!=VZ!p&j#U,U!b#Jk!oWqr;qsw;qx!P;q!Q![;q!]!_;q!a#o;q#q#s;q$f;'S;q;'S;=`<m<%l?Ah;q?BY?Mn;q$-e!={P;=`<%l!;Y$-u!>RP;=`<%l!7m$Cq!>am!p&j#U,U#]7[!oWOX!0pXZ!.aZ[!0p[^!.a^p!0pqr!>Urs!.ast<ytw!>Uwx!.ax!P!>U!P!Q!0p!Q![!>U![!]!0p!]!^!@[!^!_!;Y!_!a!.a!a#S!>U#S#T!;Y#T#o!>U#o#q!0p#q#s!>U#s$f!0p$f;'S!>U;'S;=`!BQ<%l?Ah!>U?Ah?BY!0p?BY?Mn!>U?MnO!0p$Cq!@ig!p&j#U,U#]7[!b#Jk!oWOX,aZ[,a^p,aqr<ysw<yx!P<y!P!Q,a!Q![<y![!],a!]!^<y!^!_;q!a#S<y#S#T;q#T#o<y#o#q,a#q#s<y#s$f,a$f;'S<y;'S;=`>m<%l?Ah<y?Ah?BY,a?BY?Mn<y?MnO,a$Cq!BTP;=`<%l!>U$DR!BZP;=`<%l!3Q$DR!Bkn!p&j#U,U#]7[!``!oWOX!DiXZ!FOZ[!Di[^!FO^p!Dipq)qqr!Knrs!FOsw!Knwx!FOx!P!Kn!P!Q!Di!Q![!Kn![!]!Di!]!^7u!^!_#!W!_!a!FO!a#S!Kn#S#T#!W#T#o!Kn#o#q!Di#q#r#(i#r#s!Kn#s$f!Di$f;'S!Kn;'S;=`#,h<%l?Ah!Kn?Ah?BY!Di?BY?Mn!Kn?MnO!Di$3X!Dpd#]7[!``OX!DiXZ!FOZ[!Di[^!FO^p!Dipq)qqr!Dirs!FOsw!Diwx!FOx!]!Di!]!^!G{!^!a!FO!a#S!Di#S#T!FO#T#q!Di#q#r!Ia#r;'S!Di;'S;=`!Kh<%lO!Di#J{!FTX!``Op!FOpq)qq!]!FO!]!^!Fp!^#q!FO#q#r!GT#r;'S!FO;'S;=`!Gu<%lO!FO#J{!FwS!``!c#JkO#q)q#r;'S)q;'S;=`*S<%lO)q#Jk!GWUOp!GTq!]!GT!]!^!Gj!^;'S!GT;'S;=`!Go<%lO!GT#Jk!GoO!c#Jk#Jk!GrP;=`<%l!GT#J{!GxP;=`<%l!FO$3X!HUc#]7[!``!c#JkOX*}XZ)qZ[*}[^)q^p*}pq)qqr*}rs)qsw*}wx)qx!^*}!^!a)q!a#S*}#S#T)q#T#q*}#q#r,a#r;'S*};'S;=`-[<%lO*}$2w!Ifa#]7[OX!IaXZ!GTZ[!Ia[^!GT^p!Iaqr!Iars!GTsw!Iawx!GTx!]!Ia!]!^!Jk!^!a!GT!a#S!Ia#S#T!GT#T;'S!Ia;'S;=`!Kb<%lO!Ia$2w!JrY#]7[!c#JkOX,aZ[,a^p,aqr,asw,ax!^,a!a#S,a#T;'S,a;'S;=`-U<%lO,a$2w!KeP;=`<%l!Ia$3X!KkP;=`<%l!Di$DR!K{n!p&j#U,U#]7[!``!oWOX!DiXZ!FOZ[!Di[^!FO^p!Dipq)qqr!Knrs!FOsw!Knwx!FOx!P!Kn!P!Q!Di!Q![!Kn![!]!Di!]!^!My!^!_#!W!_!a!FO!a#S!Kn#S#T#!W#T#o!Kn#o#q!Di#q#r#(i#r#s!Kn#s$f!Di$f;'S!Kn;'S;=`#,h<%l?Ah!Kn?Ah?BY!Di?BY?Mn!Kn?MnO!Di$DR!NYn!p&j#U,U#]7[!``!c#Jk!oWOX*}XZ)qZ[*}[^)q^p*}pq)qqr7urs)qsw7uwx)qx!P7u!P!Q*}!Q![7u![!]*}!]!^7u!^!_:Q!_!a)q!a#S7u#S#T:Q#T#o7u#o#q*}#q#r<y#r#s7u#s$f*}$f;'S7u;'S;=`>s<%l?Ah7u?Ah?BY*}?BY?Mn7u?MnO*}$-u#!ch!p&j#U,U!``!oWOp!FOpq)qqr#!Wrs!FOsw#!Wwx!FOx!P#!W!P!Q!FO!Q![#!W![!]!FO!]!^##}!^!_#!W!_!a!FO!a#o#!W#o#q!FO#q#r#%p#r#s#!W#s$f!FO$f;'S#!W;'S;=`#(c<%l?Ah#!W?Ah?BY!FO?BY?Mn#!W?MnO!FO$-u#$[f!p&j#U,U!``!c#Jk!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q$-e#%yf!p&j#U,U!oWOp!GTqr#%prs!GTsw#%pwx!GTx!P#%p!P!Q!GT!Q![#%p![!]!GT!]!^#'_!^!_#%p!_!a!GT!a#o#%p#o#q!GT#q#s#%p#s$f!GT$f;'S#%p;'S;=`#(]<%l?Ah#%p?Ah?BY!GT?BY?Mn#%p?MnO!GT$-e#'jZ!p&j#U,U!c#Jk!oWqr;qsw;qx!P;q!Q![;q!]!_;q!a#o;q#q#s;q$f;'S;q;'S;=`<m<%l?Ah;q?BY?Mn;q$-e#(`P;=`<%l#%p$-u#(fP;=`<%l#!W$Cq#(tl!p&j#U,U#]7[!oWOX!IaXZ!GTZ[!Ia[^!GT^p!Iaqr#(irs!GTsw#(iwx!GTx!P#(i!P!Q!Ia!Q![#(i![!]!Ia!]!^#*l!^!_#%p!_!a!GT!a#S#(i#S#T#%p#T#o#(i#o#q!Ia#q#s#(i#s$f!Ia$f;'S#(i;'S;=`#,b<%l?Ah#(i?Ah?BY!Ia?BY?Mn#(i?MnO!Ia$Cq#*yg!p&j#U,U#]7[!c#Jk!oWOX,aZ[,a^p,aqr<ysw<yx!P<y!P!Q,a!Q![<y![!],a!]!^<y!^!_;q!a#S<y#S#T;q#T#o<y#o#q,a#q#s<y#s$f,a$f;'S<y;'S;=`>m<%l?Ah<y?Ah?BY,a?BY?Mn<y?MnO,a$Cq#,eP;=`<%l#(i$DR#,kP;=`<%l!Kn$3Z#,yZ#Z#4`!aP$mMh!``Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w$Du#.Rprr!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'V$DT#0lpsQ!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'V$DT#3VptQ!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'V$DT#5nr!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx}5b}!O#7x!O!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'VHi#8Xq!p&j#U,U!aP#]7[!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr#:`rs(wsv#:`vw#<uwx(wx!P#:`!P!Q'V!Q![#:`![!]'V!]!^#:`!^!_#?S!_!`(w!`!a#Jo!a#S#:`#S#T#DR#T#o#:`#o#p*}#p#q'V#q#r#HR#r#s#:`#s$f'V$f;'S#:`;'S;=`#Ji<%l?Ah#:`?Ah?BY'V?BY?Mn#:`?MnO'VHg#:qp!p&j#U,U!aP#]7[!``#_W!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr#:`rs(wsv#:`vw#<uwx(wx!P#:`!P!Q'V!Q![#:`![!]'V!]!^#:`!^!_#?S!_!a(w!a#S#:`#S#T#DR#T#o#:`#o#p*}#p#q'V#q#r#HR#r#s#:`#s$f'V$f;'S#:`;'S;=`#Ji<%l?Ah#:`?Ah?BY'V?BY?Mn#:`?MnO'VHf#=Un!p&j#U,U#]7[!``#_W!oWOX*}XZ)qZ[*}[^)q^p*}pq)qqr#<urs)qsw#<uwx)qx!P#<u!P!Q*}!Q![#<u![!]*}!]!^#<u!^!_#?S!_!a)q!a#S#<u#S#T#?S#T#o#<u#o#q*}#q#r#BP#r#s#<u#s$f*}$f;'S#<u;'S;=`#C{<%l?Ah#<u?Ah?BY*}?BY?Mn#<u?MnO*}2Y#?af!p&j#U,U!``#_W!oWOq)qqr#?Srs)qsw#?Swx)qx!P#?S!P!Q)q!Q![#?S![!])q!]!_#?S!_!a)q!a#o#?S#o#q)q#q#r#@u#r#s#?S#s$f)q$f;'S#?S;'S;=`#Ay<%l?Ah#?S?Ah?BY)q?BY?Mn#?S?MnO)q1x#AQZ!p&j#U,U#_W!oWqr#@usw#@ux!P#@u!Q![#@u!]!_#@u!a#o#@u#q#s#@u$f;'S#@u;'S;=`#As<%l?Ah#@u?BY?Mn#@u1x#AvP;=`<%l#@u2Y#A|P;=`<%l#?SHU#B^g!p&j#U,U#]7[#_W!oWOX,aZ[,a^p,aqr#BPsw#BPx!P#BP!P!Q,a!Q![#BP![!],a!]!^#BP!^!_#@u!a#S#BP#S#T#@u#T#o#BP#o#q,a#q#s#BP#s$f,a$f;'S#BP;'S;=`#Cu<%l?Ah#BP?Ah?BY,a?BY?Mn#BP?MnO,aHU#CxP;=`<%l#BPHf#DOP;=`<%l#<u2Z#Dbi!p&j#U,U!aP!``#_W!oWOq(wqr#DRrs(wsv#DRvw#?Swx(wx!P#DR!P!Q(w!Q![#DR![!](w!]!^#DR!^!_#?S!_!a(w!a#o#DR#o#p)q#p#q(w#q#r#FP#r#s#DR#s$f(w$f;'S#DR;'S;=`#G{<%l?Ah#DR?Ah?BY(w?BY?Mn#DR?MnO(w1y#F^g!p&j#U,U!aP#_W!oWOq*Yqr#FPrs*Ysv#FPvw#@uwx*Yx!P#FP!P!Q*Y!Q![#FP![!]*Y!]!^#FP!^!_#@u!_!a*Y!a#o#FP#p#q*Y#q#s#FP#s$f*Y$f;'S#FP;'S;=`#Gu<%l?Ah#FP?Ah?BY*Y?BY?Mn#FP?MnO*Y1y#GxP;=`<%l#FP2Z#HOP;=`<%l#DRHV#Hbo!p&j#U,U!aP#]7[#_W!oWOX-bXZ*YZ[-b[^*Y^p-bpq*Yqr#HRrs*Ysv#HRvw#BPwx*Yx!P#HR!P!Q-b!Q![#HR![!]-b!]!^#HR!^!_#@u!_!a*Y!a#S#HR#S#T#FP#T#o#HR#o#p,a#p#q-b#q#s#HR#s$f-b$f;'S#HR;'S;=`#Jc<%l?Ah#HR?Ah?BY-b?BY?Mn#HR?MnO-bHV#JfP;=`<%l#HRHg#JlP;=`<%l#:`c#JxZ!aP$rQ!``Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w$Ee#LOq!p&j#U,U!aP#]7[$mMh$o!LQ!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!O5b!O!P#NV!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'VIy#Nfq!p&j#U,U!aP#]7[!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!O5b!O!P$!m!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'VIy$#Op!k!b!p&j#U,U!aP#]7[!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx!P5b!P!Q'V!Q![5b![!]'V!]!^5b!^!_:Q!_!a(w!a#S5b#S#T>y#T#o5b#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f;'S5b;'S;=`EZ<%l?Ah5b?Ah?BY'V?BY?Mn5b?MnO'V$3g$%chcQ!aP#]7[$mMh$o!LQ!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wsv'Vvw*}wx(wx!^'V!^!_)q!_!`(w!`!a$&}!a#S'V#S#T(w#T#o'V#o#p*}#p#q'V#q#r-b#r;'S'V;'S;=`.}<%lO'Vm$'YZ!aP!``#qW#a[Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w$3_$(^g$cScQ!aP#]7[$mMh$o!LQ!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wsv'Vvw*}wx(wx!^'V!^!_)q!_!a(w!a#S'V#S#T(w#T#o'V#o#p*}#p#q'V#q#r-b#r;'S'V;'S;=`.}<%lO'V$-u$*Ug!p&j#U,U$mMh$o!LQ!``!oWOq)qqr$+mrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!b$LZ!b#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$+xl!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx}:Q}!O$-p!O!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!f:Q!f!g$1Y!g#W:Q#W#X$Ac#X#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$-{h!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx}:Q}!O$/g!O!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$/tf!p&j#U,U!``$qP!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$1eh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!q:Q!q!r$3P!r#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$3[h!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!e:Q!e!f$4v!f#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$5Rh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!v:Q!v!w$6m!w#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$6xh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!{:Q!{!|$8d!|#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$8oh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!r:Q!r!s$:Z!s#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$:fh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a!g:Q!g!h$<Q!h#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$<]g!p&j#U,U!``!oWOq$=tqr$<Qrs$=tsw$<Qwx$=tx!P$<Q!P!Q$=t!Q![$<Q![!]$=t!]!_$<Q!_!`$=t!`!a$>`!a#o$<Q#o#q$=t#q#r$?h#r#s$<Q#s$f$=t$f;'S$<Q;'S;=`$A]<%l?Ah$<Q?Ah?BY$=t?BY?Mn$<Q?MnO$=ta$=yV!``O!`$=t!`!a$>`!a#q$=t#q#r$>s#r;'S$=t;'S;=`$?b<%lO$=ta$>gS!``#vPO#q)q#r;'S)q;'S;=`*S<%lO)qP$>vTO!`$>s!`!a$?V!a;'S$>s;'S;=`$?[<%lO$>sP$?[O#vPP$?_P;=`<%l$>sa$?eP;=`<%l$=t1y$?qf!p&j#U,U!oWOq$>sqr$?hrs$>ssw$?hwx$>sx!P$?h!P!Q$>s!Q![$?h![!]$>s!]!_$?h!_!`$>s!`!a$?V!a#o$?h#o#q$>s#q#s$?h#s$f$>s$f;'S$?h;'S;=`$AV<%l?Ah$?h?Ah?BY$>s?BY?Mn$?h?MnO$>s1y$AYP;=`<%l$?h2Z$A`P;=`<%l$<Q2Z$Anh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#c:Q#c#d$CY#d#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$Ceh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#V:Q#V#W$EP#W#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$E[h!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#h:Q#h#i$Fv#i#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$GRh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#m:Q#m#n$Hm#n#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$Hxh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#d:Q#d#e$Jd#e#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$Joh!p&j#U,U!``!oWOq)qqr:Qrs)qsw:Qwx)qx!P:Q!P!Q)q!Q![:Q![!])q!]!_:Q!_!a)q!a#X:Q#X#Y$<Q#Y#o:Q#o#q)q#q#r;q#r#s:Q#s$f)q$f;'S:Q;'S;=`<s<%l?Ah:Q?Ah?BY)q?BY?Mn:Q?MnO)q2Z$Lfg!p&j#U,U!``!oWOq$M}qr$LZrs$M}sw$LZwx$M}x!P$LZ!P!Q$M}!Q![$LZ![!]$M}!]!_$LZ!_!a$M}!a!b%!o!b#o$LZ#o#q$M}#q#r%$c#r#s$LZ#s$f$M}$f;'S$LZ;'S;=`%'u<%l?Ah$LZ?Ah?BY$M}?BY?Mn$LZ?MnO$M}a$NSV!``O!a$M}!a!b$Ni!b#q$M}#q#r% h#r;'S$M};'S;=`%!i<%lO$M}a$NnV!``O!`$M}!`!a% T!a#q$M}#q#r% h#r;'S$M};'S;=`%!i<%lO$M}a% [S!``#sPO#q)q#r;'S)q;'S;=`*S<%lO)qP% kTO!a% h!a!b% z!b;'S% h;'S;=`%!c<%lO% hP% }TO!`% h!`!a%!^!a;'S% h;'S;=`%!c<%lO% hP%!cO#sPP%!fP;=`<%l% ha%!lP;=`<%l$M}2Z%!zg!p&j#U,U!``!oWOq$M}qr$LZrs$M}sw$LZwx$M}x!P$LZ!P!Q$M}!Q![$LZ![!]$M}!]!_$LZ!_!`$M}!`!a% T!a#o$LZ#o#q$M}#q#r%$c#r#s$LZ#s$f$M}$f;'S$LZ;'S;=`%'u<%l?Ah$LZ?Ah?BY$M}?BY?Mn$LZ?MnO$M}1y%$lf!p&j#U,U!oWOq% hqr%$crs% hsw%$cwx% hx!P%$c!P!Q% h!Q![%$c![!]% h!]!_%$c!_!a% h!a!b%&Q!b#o%$c#o#q% h#q#s%$c#s$f% h$f;'S%$c;'S;=`%'o<%l?Ah%$c?Ah?BY% h?BY?Mn%$c?MnO% h1y%&Zf!p&j#U,U!oWOq% hqr%$crs% hsw%$cwx% hx!P%$c!P!Q% h!Q![%$c![!]% h!]!_%$c!_!`% h!`!a%!^!a#o%$c#o#q% h#q#s%$c#s$f% h$f;'S%$c;'S;=`%'o<%l?Ah%$c?Ah?BY% h?BY?Mn%$c?MnO% h1y%'rP;=`<%l%$c2Z%'xP;=`<%l$LZ#KT%(YZ#VW!aP$mMh$o!LQ!``Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w#KX%)YZ!aP$mMh$o!LQ!``#a[Ov(wvw)qw!^(w!^!_)q!_#o(w#o#p)q#p#q(w#q#r*Y#r;'S(w;'S;=`*w<%lO(w$IR%*j!aeS#kQ!p&j#U,U#n#t!aP#]7[up$mMh$o!LQ$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%.o!O!P%3S!P!Q'V!Q![%7r![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%<f!}#R5b#R#S%7r#S#T>y#T#o%<f#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%7r%O%WK|%W%o%7r%o%pK|%p&a%7r&a&bK|&b1p%7r1p4U%7r4U4d%7r4d4eK|4e$IS%7r$IS$I`K|$I`$Ib%7r$Ib$JeK|$Je$Jg%7r$Jg$KhK|$Kh%#t%7r%#t&/xK|&/x&Et%7r&Et&FVK|&FV;'S%7r;'S;:j%<`;:j;=`!&h<%l?&rK|?&r?Ah%7r?Ah?BY!&n?BY?Mn%7r?MnO!&nHi%/Q!^#kQ!p&j#U,U!aP#]7[!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx}5b}!O%.o!O!P%.o!P!Q'V!Q![%.o![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%.o!}#R5b#R#S%.o#S#T>y#T#o%.o#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$}5b$}%O%.o%O%W5b%W%o%.o%o%p5b%p&a%.o&a&b5b&b1p%.o1p4U%.o4U4d%.o4d4e5b4e$IS%.o$IS$I`5b$I`$Ib%.o$Ib$Je5b$Je$Jg%.o$Jg$Kh5b$Kh%#t%.o%#t&/x5b&/x&Et%.o&Et&FV5b&FV;'S%.o;'S;:j%2|;:j;=`EZ<%l?&r5b?&r?Ah%.o?Ah?BY'V?BY?Mn%.o?MnO'VHi%3PP;=`<%l%.oIZ%3g!a#kQ!p&j#U,U!aP#]7[up!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuN|uv5bvw7uwx(wx}5b}!O%.o!O!P%3S!P!Q'V!Q![%3S![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%3S!}#R5b#R#S%3S#S#T>y#T#o%3S#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}N|$}%O%3S%O%WN|%W%o%3S%o%pN|%p&a%3S&a&bN|&b1p%3S1p4U%3S4U4d%3S4d4eN|4e$IS%3S$IS$I`N|$I`$Ib%3S$Ib$JeN|$Je$Jg%3S$Jg$KhN|$Kh%#t%3S%#t&/xN|&/x&Et%3S&Et&FVN|&FV;'S%3S;'S;:j%7l;:j;=`!#x<%l?&rN|?&r?Ah%3S?Ah?BY!$O?BY?Mn%3S?MnO!$OIZ%7oP;=`<%l%3SJq%8Z!aeS#kQ!p&j#U,U!aP#]7[up$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%.o!O!P%3S!P!Q'V!Q![%7r![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%7r!}#R5b#R#S%7r#S#T>y#T#o%7r#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%7r%O%WK|%W%o%7r%o%pK|%p&a%7r&a&bK|&b1p%7r1p4U%7r4U4d%7r4d4eK|4e$IS%7r$IS$I`K|$I`$Ib%7r$Ib$JeK|$Je$Jg%7r$Jg$KhK|$Kh%#t%7r%#t&/xK|&/x&Et%7r&Et&FVK|&FV;'S%7r;'S;:j%<`;:j;=`!&h<%l?&rK|?&r?Ah%7r?Ah?BY!&n?BY?Mn%7r?MnO!&nJq%<cP;=`<%l%7rMg%=P!aeS#kQ!p&j#U,U#n#t!aP#]7[up$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%.o!O!P%3S!P!Q'V!Q![%7r![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%<f!}#R5b#R#S%7r#S#T>y#T#o%<f#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%7r%O%WK|%W%o%7r%o%pK|%p&a%7r&a&bK|&b1p%7r1p4U%7r4U4d%7r4d4eK|4e$IS%7r$IS$I`K|$I`$Ib%7r$Ib$JeK|$Je$Jg%7r$Jg$KhK|$Kh%#t%7r%#t&/xK|&/x&Et%7r&Et&FVK|&FV;'S%7r;'S;:j%<`;:j;=`!&h<%l?&rK|?&r?Ah%7r?Ah?BY!&n?BY?Mn%7r?MnO!&n$F]%Aq!aeS!p&j#U,U!gQ!aP#]7[up$mMh$o!LQ$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%Ev!O!P%JZ!P!Q'V!Q![%Ny![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%Ny!}#R5b#R#S%Ny#S#T>y#T#o%Ny#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%Ny%O%WK|%W%o%Ny%o%pK|%p&a%Ny&a&bK|&b1p%Ny1p4U%Ny4U4d%Ny4d4eK|4e$IS%Ny$IS$I`K|$I`$Ib%Ny$Ib$JeK|$Je$Jg%Ny$Jg$KhK|$Kh%#t%Ny%#t&/xK|&/x&Et%Ny&Et&FVK|&FV;'S%Ny;'S;:j&%g;:j;=`!&h<%l?&rK|?&r?Ah%Ny?Ah?BY!&n?BY?Mn%Ny?MnO!&nHi%FX!^!p&j#U,U!gQ!aP#]7[!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wsv5bvw7uwx(wx}5b}!O%Ev!O!P%Ev!P!Q'V!Q![%Ev![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%Ev!}#R5b#R#S%Ev#S#T>y#T#o%Ev#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$}5b$}%O%Ev%O%W5b%W%o%Ev%o%p5b%p&a%Ev&a&b5b&b1p%Ev1p4U%Ev4U4d%Ev4d4e5b4e$IS%Ev$IS$I`5b$I`$Ib%Ev$Ib$Je5b$Je$Jg%Ev$Jg$Kh5b$Kh%#t%Ev%#t&/x5b&/x&Et%Ev&Et&FV5b&FV;'S%Ev;'S;:j%JT;:j;=`EZ<%l?&r5b?&r?Ah%Ev?Ah?BY'V?BY?Mn%Ev?MnO'VHi%JWP;=`<%l%EvIZ%Jn!a!p&j#U,U!gQ!aP#]7[up!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuN|uv5bvw7uwx(wx}5b}!O%Ev!O!P%JZ!P!Q'V!Q![%JZ![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%JZ!}#R5b#R#S%JZ#S#T>y#T#o%JZ#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}N|$}%O%JZ%O%WN|%W%o%JZ%o%pN|%p&a%JZ&a&bN|&b1p%JZ1p4U%JZ4U4d%JZ4d4eN|4e$IS%JZ$IS$I`N|$I`$Ib%JZ$Ib$JeN|$Je$Jg%JZ$Jg$KhN|$Kh%#t%JZ%#t&/xN|&/x&Et%JZ&Et&FVN|&FV;'S%JZ;'S;:j%Ns;:j;=`!#x<%l?&rN|?&r?Ah%JZ?Ah?BY!$O?BY?Mn%JZ?MnO!$OIZ%NvP;=`<%l%JZJq& b!aeS!p&j#U,U!gQ!aP#]7[up$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%Ev!O!P%JZ!P!Q'V!Q![%Ny![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}%Ny!}#R5b#R#S%Ny#S#T>y#T#o%Ny#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%Ny%O%WK|%W%o%Ny%o%pK|%p&a%Ny&a&bK|&b1p%Ny1p4U%Ny4U4d%Ny4d4eK|4e$IS%Ny$IS$I`K|$I`$Ib%Ny$Ib$JeK|$Je$Jg%Ny$Jg$KhK|$Kh%#t%Ny%#t&/xK|&/x&Et%Ny&Et&FVK|&FV;'S%Ny;'S;:j&%g;:j;=`!&h<%l?&rK|?&r?Ah%Ny?Ah?BY!&n?BY?Mn%Ny?MnO!&nJq&%jP;=`<%l%Ny$-u&&Oi!p&j#U,U!aP$mMh$o!LQ!``!oWOq(wqr>yrs(wsv>yvw:Qwx(wx!P>y!P!Q(w!Q![>y![!](w!]!^>y!^!_:Q!_!a(w!a#o>y#o#p)q#p#q(w#q#r@u#r#s>y#s$f(w$f;'S>y;'S;=`Bo<%l?Ah>y?Ah?BY(w?BY?Mn>y?MnO(w$IR&([!aeS!p&j#U,U#n#t!gQ!aP#]7[up$mMh$o!LQ$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%Ev!O!P%JZ!P!Q'V!Q![%Ny![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}&,a!}#R5b#R#S%Ny#S#T>y#T#o&,a#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%Ny%O%WK|%W%o%Ny%o%pK|%p&a%Ny&a&bK|&b1p%Ny1p4U%Ny4U4d%Ny4d4eK|4e$IS%Ny$IS$I`K|$I`$Ib%Ny$Ib$JeK|$Je$Jg%Ny$Jg$KhK|$Kh%#t%Ny%#t&/xK|&/x&Et%Ny&Et&FVK|&FV;'S%Ny;'S;:j&%g;:j;=`!&h<%l?&rK|?&r?Ah%Ny?Ah?BY!&n?BY?Mn%Ny?MnO!&nMg&,z!aeS!p&j#U,U#n#t!gQ!aP#]7[up$_!b!``!oWOX'VXZ(wZ['V[^(w^p'Vpq(wqr5brs(wst5btuK|uv5bvw7uwx(wx}5b}!O%Ev!O!P%JZ!P!Q'V!Q![%Ny![!]'V!]!^5b!^!_:Q!_!a(w!a!c5b!c!}&,a!}#R5b#R#S%Ny#S#T>y#T#o&,a#o#p*}#p#q'V#q#rBu#r#s5b#s$f'V$f$g5b$g$}K|$}%O%Ny%O%WK|%W%o%Ny%o%pK|%p&a%Ny&a&bK|&b1p%Ny1p4U%Ny4U4d%Ny4d4eK|4e$IS%Ny$IS$I`K|$I`$Ib%Ny$Ib$JeK|$Je$Jg%Ny$Jg$KhK|$Kh%#t%Ny%#t&/xK|&/x&Et%Ny&Et&FVK|&FV;'S%Ny;'S;:j&%g;:j;=`!&h<%l?&rK|?&r?Ah%Ny?Ah?BY!&n?BY?Mn%Ny?MnO!&n$3a&1WSb$3P!``O#q)q#r;'S)q;'S;=`*S<%lO)q$3a&1sg#TW!aP#]7[$mMh$o!LQ!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wsv'Vvw*}wx(wx!^'V!^!_)q!_!a(w!a#S'V#S#T(w#T#o'V#o#p*}#p#q'V#q#r-b#r;'S'V;'S;=`.}<%lO'V$FX&3oog#f!p&j#U,U!aP#]7[$mMh$o!LQ!oWOX-bXZ*YZ[-b[^*Y^p-bpq*YqrBurs*YsvBuvw<ywx*Yx!PBu!P!Q-b!Q![Bu![!]-b!]!^Bu!^!_;q!_!a*Y!a#SBu#S#T@u#T#oBu#o#p,a#p#q-b#q#sBu#s$f-b$f;'SBu;'S;=`ET<%l?AhBu?Ah?BY-b?BY?MnBu?MnO-b$F]&5sP;=`<%l%AU$FZ&5yP;=`<%lHx$5a&6aqeS!aP#]7[up$mMh$o!LQ$_!b!``OX'VXZ(wZ['V[^(w^p'Vpq(wqr'Vrs(wst'Vtu!&nuv'Vvw*}wx(wx!O'V!O!P!$O!P!Q'V!Q![!&n![!^'V!^!_)q!_!a(w!a!c'V!c!}!&n!}#R'V#R#S!&n#S#T(w#T#o!&n#o#p*}#p#q'V#q#r-b#r$g'V$g;'S!&n;'S;=`!)U<%lO!&n",tokenizers:[nce,ice,rce,tce,pce,gce,mce,0,1,2,3,4,5,6,7,8,9,10,11,12],topRules:{Document:[0,15]},specialized:[{term:19,get:t=>vce[t]||-1},{term:21,get:t=>bce[t]||-1},{term:153,get:t=>yce[t]||-1},{term:77,get:t=>_ce[t]||-1},{term:69,get:t=>wce[t]||-1}],tokenPrec:1571});function Sce(t,e){let n=Object.create(null);for(let i of t.firstChild.getChildren("Attribute")){let r=i.getChild("AttributeName"),s=i.getChild("AttributeValue")||i.getChild("UnquotedAttributeValue");r&&(n[e.read(r.from,r.to)]=s?s.name=="AttributeValue"?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function tg(t,e,n){let i;for(let r of n)if(!r.attrs||r.attrs(i||(i=Sce(t.node.parent,e))))return{parser:r.parser};return null}const ux=NT.configure({top:"SingleExpression"});function $ce(t){let e=[],n=[],i=[];for(let r of t){let s=r.tag=="script"?e:r.tag=="style"?n:r.tag=="textarea"?i:null;if(!s)throw new RangeError("Only script, style, and textarea tags can host nested parsers");s.push(r)}return fT((r,s)=>{let o=r.type.id;return o===Vm?{parser:ux}:o===af?{parser:ux}:o===Uue?tg(r,s,e):o===Vue?tg(r,s,n):o===Lue?tg(r,s,i):null})}const kce=[{tag:"script",attrs:t=>t.type==="text/typescript"||t.lang==="ts",parser:Jv.parser},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:ji.parser},{tag:"style",attrs(t){return(!t.lang||t.lang==="css"||t.lang==="scss")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css|scss)$/i.test(t.type))},parser:Zr.parser}],Q0=go.define({parser:xce.configure({wrap:$ce(kce),props:[Gu.add({Element:t=>{let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},Block:t=>{const e=t.node,n=t.textAfter.trim();if(n.startsWith("{/")){const r=e.name;return r==="IfBlock"&&n.startsWith("{/if")||r==="EachBlock"&&n.startsWith("{/each")||r==="AwaitBlock"&&n.startsWith("{/await")||r==="KeyBlock"&&n.startsWith("{/key")?t.lineIndent(t.node.from):null}if(e.name==="IfBlock"||e.name==="EachBlock"){if(n.startsWith("{:else"))return t.lineIndent(e.from)}else if(e.name==="AwaitBlock"&&(n.startsWith("{:then")||n.startsWith("{:catch")))return t.lineIndent(e.from);let i=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+i[0].length?t.continue():t.lineIndent(t.node.from)+(i[2]?0:t.unit)},"BlockOpen BlockClose BlockInline":t=>t.column(t.node.from)+t.unit,"OpenTag CloseTag SelfClosingTag":t=>t.column(t.node.from)+t.unit,Document:t=>{if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let i=t.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;e=i=r}return e&&!((n=e.lastChild)&&(n.name==="CloseTag"||n.name==="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Hu.add({Block:t=>{const e=`${t.name}Open`,n=`${t.name}Close`,i=t.firstChild,r=t.lastChild;return!i||i.name!==e?null:{from:i.to,to:(r==null?void 0:r.name)===n?r.from:t.to}},Element:t=>{let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name==="CloseTag"?n.from:t.to}}})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*((<\/\w+\W)|(\{:(else|then|catch))|(\{\/(if|each|await|key)))$/,wordChars:"-._",autocomplete:pie}});function Pce(){return new nd(Q0,[e0().support,cu().support,Qce])}function cx(t,e,n=t.length){if(!e)return"";let i=e.firstChild,r=i&&(i.getChild("TagName")||i.getChild("ComponentName")||i.getChild("SvelteElementName"));return r?t.sliceString(r.from,Math.min(r.to,n)):""}const Qce=ve.inputHandler.of((t,e,n,i)=>{if(t.composing||t.state.readOnly||e!=n||i!=">"&&i!="/"||!Q0.isActiveAt(t.state,e,-1))return!1;let{state:r}=t,s=r.changeByRange(o=>{var a,l,c;let{head:u}=o,f=bt(r).resolveInner(u,-1),h;if((f.name==="TagName"||f.name==="ComponentName"||f.name==="SvelteElementName"||f.name==="StartTag")&&(f=f.parent),i===">"&&f.name==="OpenTag"){if(((l=(a=f.parent)===null||a===void 0?void 0:a.lastChild)===null||l===void 0?void 0:l.name)!="CloseTag"&&(h=cx(r.doc,f.parent,u))){let d=t.state.doc.sliceString(u,u+1)===">",p=`${d?"":">"}</${h}>`;return{range:fe.cursor(u+1),changes:{from:u+(d?1:0),insert:p}}}}else if(i==="/"&&f.name==="OpenTag"){let d=f.parent,p=d==null?void 0:d.parent;if(d.from==u-1&&((c=p.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(h=cx(r.doc,p,u))){let m=t.state.doc.sliceString(u,u+1)===">",O=`/${h}${m?"":">"}`,v=u+O.length+(m?1:0);return{range:fe.cursor(v),changes:{from:u,insert:O}}}}return{range:o}});return s.changes.empty?!1:(t.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)}),fx=t=>Array.isArray(t)?`[ ${typeof t[0]} ]`:_.isObject(t)?"{ "+Object.entries(t).map(([e,n])=>`${e}:${typeof n}`).join(", ")+" }":typeof t;function Tce(t){const e=[Wt(`{#if \${true}}
	\${<span>Shown if true</span>}
{:else}
	\${<span>Shown if false</span>}
{/if`,{label:"{#if}",type:"text",detail:"Conditionally render a block of content"}),Wt('{#each ${["one", "two"]} as ${item}}\n	${{item\\}}\n{/each',{label:"{#each}",type:"text",detail:"Loop over array or Repeater items"}),Wt("{#await ${promise}}\n	${<span>promise is pending</span>}\n{:then ${value}}\n	${<span>promise was fullfilled</span>}\n{:catch ${error}}\n	${<span>promise was rejected</span>}\n{/await",{label:"{#await}",type:"text",detail:"Show content depending on the states of a Promise"}),Wt(`{#key \${"value"}}
	<span>this will re-render when "value" changes</span>
{/key`,{label:"{#key}",type:"text",detail:"Re-render a block when a value changes"}),Wt('{@html ${"<p>content</p>"}',{label:"{@html}",type:"text",detail:"Render HTML from a Markdown field"}),Wt("{@debug ${variable}",{label:"{@debug}",type:"text",detail:"Log a variable's value"}),Wt('{@const ${variable = "foo"}',{label:"{@const}",type:"text",detail:"Define a local constant"})];return Q0.data.of({autocomplete:n=>{const i=n.matchBefore(/\S*/);if(i.text.includes("{#")||i.text.includes("{@")){const r=i.text.indexOf("{#")!==-1?i.text.indexOf("{#"):i.text.indexOf("{@");return{from:i.from+r,options:e}}if(i.text.includes("{")){const r=i.text.indexOf("{");if(i.text.includes(".")){const s=Object.entries(t).filter(([o,a])=>_.isObject(a)&&!Array.isArray(a)).map(([o,a])=>Object.entries(a).map(([c,u])=>({label:`${o}.${c}`,type:"variable",detail:fx(u)})));return{from:i.from+r+1,options:_.flattenDeep(s)}}return{from:i.from+r+1,options:[...Object.entries(t).map(([s,o])=>({label:s,type:"variable",detail:fx(o)})),{label:"{#block}",apply:"#",type:"text",detail:"each, if, key, await",boost:-1},{label:"{@tag}",apply:"@",type:"text",detail:"html, const, debug",boost:-2}]}}}})}function hx(t=[]){const e=t.map(n=>n.substring(0,n.length-1));return Zr.data.of({autocomplete:n=>{const i=n.matchBefore(/\S*/);return i.text.startsWith("var(")?{from:i.from,options:e.map(r=>({label:`var(${r})`,type:"text",apply:`var(${r}`}))}:null}})}function dx(t){return t.match(/--\S*:/gm)||[]}function Ace(t){return{html:Pce(),css:cu(),javascript:e0()}[t]}const VC=qe.define(),px=Xt.define({create(){return Pe.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(VC)&&(t=t.update({add:[Cce.range(n.value.from,n.value.from)],filter:(i,r,s)=>s.spec.class!=="cm-highlight"}));return t},provide:t=>ve.decorations.from(t)}),Cce=Pe.line({class:"cm-highlight"}),Rce=ve.baseTheme({".cm-highlight":{background:"#333"}});function Ece(t,e){if(!e)return;let n;for(let{from:r,to:s}of t.visibleRanges)for(let o=r;o<=s;){let a=t.state.doc.lineAt(o);if(a.number===e.line&&a.from!==a.to){n=a;break}else o=a.to+1}n&&i(t,n);function i(r,s){let o=[VC.of({from:s.from,to:s.to})];return o.length?(r.state.field(px,!1)||o.push(qe.appendConfig.of([px,Rce])),r.dispatch({effects:o}),!0):!1}}const ng=new Map;let $l;qce();async function qce(){$l={prettier:(await Qt(async()=>{const{default:t}=await import("./prettier.Cnq8T6Ib.js");return{default:t}},[],import.meta.url)).default,prettier_css:(await Qt(async()=>{const{default:t}=await import("./parser-postcss.CujkhDhA.js");return{default:t}},[],import.meta.url)).default,prettier_babel:(await Qt(async()=>{const{default:t}=await import("./parser-babel.-smnqRn7.js");return{default:t}},[],import.meta.url)).default,prettier_svelte:(await Qt(async()=>{const{default:t}=await import("./prettier-svelte.BRN-pqcK.js");return{default:t}},__vite__mapDeps([6,7,8,9,10]),import.meta.url)).default}}var Mce=E("<div><div></div></div>");function bu(t,e){Se(e,!0);const n=Je(),i=()=>me(Hh,"$site_code",n),r=()=>me(Cr,"$page_type",n),s=()=>me(Rk,"$highlightedElement",n),o=BN(1e3);let a=F(e,"data",19,()=>({})),l=F(e,"prefix",3,""),c=F(e,"value",15,""),u=F(e,"mode",3,"html"),f=F(e,"style",3,""),h=F(e,"debounce",3,!1),d=F(e,"selection",15,0);const p=At();let m=ce(void 0);const O=ve.domEventHandlers({keydown(W,j){return W.metaKey&&p("modkeydown"),!1},keyup(W,j){return W.metaKey||p("modkeyup"),!1}});at(()=>{if(g(m)&&c()!==g(m).state.doc.toString()){const W=g(m).state.doc.toString();g(m).dispatch({changes:[{from:0,to:W.length,insert:c()}],selection:{anchor:0}})}});const v=Ace(u()),b=new Lu;let S=ce(se(dx(i().css+r().css+c())));const y=tt.create({selection:{anchor:d()},doc:c(),extensions:[dae(),v,AC,Rue,Va.of([gC,qle,{key:"Escape",run:()=>(g(m).contentDOM.blur(),!0)},{key:"mod-e",run:()=>(p("mod-e"),!0)},{key:"mod-1",run:()=>(p("tab-switch",0),!0)},{key:"mod-2",run:()=>(p("tab-switch",1),!0)},{key:"mod-3",run:()=>(p("tab-switch",2),!0)},{key:"mod-s",run:()=>(p("save"),!0)},{key:"mod-r",run:()=>(p("refresh"),!0)},{key:"mod-Enter",run:()=>{const W=g(m).state.doc.toString(),j=g(m).state.selection.main.head;return w(W,{mode:u(),position:j}).then(U=>{if(!U)return;p("format");const{formatted:N,cursorOffset:Y}=U;g(m).dispatch({changes:[{from:0,to:g(m).state.doc.length,insert:N}],selection:{anchor:Y}}),x(N)}),!0}}]),O,ve.updateListener.of(W=>{if(W.docChanged){const j=W.state.doc.toString();c(j.replace(l(),"")),h()?o([x,c()]):x(c())}d(W.state.selection.main.from)}),wue,Tce(a()),...u()==="css"?[b.of(hx(g(S)))]:[]]});at(()=>{V(S,se(dx(i().css+r().css+c())))}),at(()=>{u()==="css"&&g(m)&&g(m).dispatch({effects:b.reconfigure(hx(g(S)))})}),at(()=>{u()==="html"&&g(m)&&Ece(g(m),s())});async function w(W,{mode:j,position:U}){let N;try{j==="javascript"?j="babel":j==="html"&&(j="svelte"),N=$l.prettier.formatWithCursor(W,{parser:j,bracketSameLine:!0,cursorOffset:U,plugins:[$l.prettier_svelte,$l.prettier_css,$l.prettier_babel]}),console.log({formatted:N})}catch(Y){console.warn(Y)}return N}let P=ce(void 0);at(()=>{g(P)&&V(m,se(new ve({state:y,parent:g(P)})))});function x(W){p("change",W)}let k=ce(void 0);at(()=>{g(k)&&(ng.has(c())&&g(k).scrollTo(0,ng.get(c())),g(k).addEventListener("scroll",()=>{ng.set(c(),g(k).scrollTop)}))});var A=Mce();Ve("resize",Ym,()=>{}),un(A,W=>V(k,W),()=>g(k));var D=Q(A);un(D,W=>V(P,W),()=>g(P)),$(A),de(()=>{Ti(A,`codemirror-container ${u()??""} svelte-hwz1j5`),Ge(A,"style",f())}),T(t,A),$e()}const Zce=Object.freeze(Object.defineProperty({__proto__:null,default:bu},Symbol.toStringTag,{value:"Module"})),lf={create:async({details:t})=>{const e=dv({...t,site:pe(Pt).id}),n=await Ye({table:"page_types",action:"insert",data:_.omit(e,["entries","fields"])});return console.log({new_page_type:e}),Fe.page_types.update(i=>[...i,e]),await Ye({table:"sections",action:"insert",data:{page_type:n,index:0}}),n},delete:async t=>{const n=gt(pe(Fe.page_types)).filter(i=>i.id!==t);Fe.page_types.set(n),await Ye({table:"page_types",action:"delete",id:t}),pe(wn).id===t&&await Nm(`/${pe(Pt).url}`)},update:async(t,e)=>{const i=gt(pe(Fe.page_types)).map(r=>r.id===t?{...r,...e}:r);Fe.page_types.set(i),Fe.page_type.update(r=>({...r,...e})),await Ye({table:"page_types",action:"update",id:t,data:e})}},$de={store:async function({entries:t}){Fe.page_type.update(e=>({...e,entries:t})),Fe.sections.update(e=>e)},db:async function({changes:t}){const e=pe(Fe.page_type).id;await Oa(t,[],{page_type:e})}};async function Dce({changes:t,entries:e,fields:n}){const i=pe(Fe.page_type).id;Fe.page_type.update(a=>({...a,entries:e,fields:n}));const r=await fP(t.fields,{page_type:i}),s=await Oa(t.entries,r,{page_type:i});Fe.page_type.update(a=>({...a,entries:a.entries.map(l=>({...l,id:s[l.id]||l.id,parent:s[l.parent]||l.parent,field:r[l.field]||l.field})),fields:a.fields.map(l=>({...l,id:r[l.id]||l.id}))}));const o=await Ye({table:"pages",action:"select",data:"id",match:{page_type:i}});await Promise.all(o.map(({id:a})=>Oa(t.entries,r,{page:a})))}async function kde({symbol_id:t,page_type_id:e,toggled:n}){const r=pe(Fe.symbols).find(a=>a.id===t).page_types||[],s=[...r,e],o=r.filter(a=>a!==e);await Ye({table:"symbols",action:"update",id:t,data:{page_types:n?s:o}})}async function Pde(t){const e=pe(Fe.sections).filter(n=>n.id!==t).map((n,i)=>({...n,index:i}));Fe.sections.set(e),await Ye({table:"sections",action:"delete",id:t})}async function Qde(t,e){const n=pe(Fe.page_type).id,i=_.cloneDeep(pe(Fe.sections)).sort((u,f)=>u.index-f.index),r=await Ye({table:"sections",action:"insert",data:{index:e,symbol:t.id,page_type:n}});let s=Hk({index:e,page_type:n,symbol:t.id,entries:t.entries.map(u=>({...u,symbol:null,section:r}))});const o=[...i.slice(0,e),s,...i.slice(e)].map((u,f)=>({...u,index:f}));Fe.sections.set(o);const a=await Oa(t.entries.map(u=>({action:"insert",id:u.id,data:_.omit(u,["symbol"])})),[],{section:r});Fe.sections.update(u=>u.map(f=>f.id===s.id?{...f,id:r,entries:f.entries.map((h,d)=>({...h,id:a[h.id],parent:a[h.parent]}))}:f));const l=await Ye({table:"pages",action:"select",data:"id",match:{page_type:n}}),c=await Ye({table:"sections",action:"insert",data:l.map(u=>({master:r,page:u.id}))}).then(u=>u.map(f=>f.id));await Promise.all(c.map(u=>Oa(t.entries.map(f=>({action:"insert",id:f.id,data:{..._.omit(f,["symbol"]),section:u}}))))),await Promise.all(pe(Fe.sections).map(u=>Ye({table:"sections",action:"update",id:u.id,data:{index:u.index}})))}var jce=E('<div class="icon primary svelte-1nnrhhm"><!></div>'),Wce=E('<div class="container svelte-1nnrhhm" style="margin-bottom: 1rem"><span class="primo--field-label">Head</span> <!></div>'),Bce=E('<div class="icon secondary svelte-1nnrhhm"><!></div>'),Ice=E('<div class="container svelte-1nnrhhm"><span class="primo--field-label">Foot</span> <!></div>'),Xce=E("<!> <!> <!>",1),Uce=E("<!> <!> <!>",1),Vce=E('<!> <main class="SiteEditor svelte-1nnrhhm"><!></main>',1);function Lce(t,e){Se(e,!0);const n=Je(),i=()=>me(Cr,"$page_type",n);let r=se(_.cloneDeep(i().code)),s=ce(se(_.cloneDeep(i().fields))),o=ce(se(_.cloneDeep(i().entries))),a=ce(se([])),l=ce(se([])),c=!1;async function u(){lf.update(i().id,{code:r}),Dce({changes:{fields:g(a),entries:g(l)},entries:g(o),fields:g(s)}),So.hide()}var f=Vce(),h=he(f);Xa(h,{get icon(){return i().icon},get title(){return i().name},warn:()=>!0,button:{icon:"material-symbols:save",label:"Save",onclick:u,disabled:c}});var d=B(h,2),p=Q(d);lo(p,{direction:"horizontal",style:"display: flex;",children:(m,O)=>{var v=Uce(),b=he(v);kn(b,{defaultSize:50,children:(w,P)=>{Gl(w,{get id(){return`page-type-${i().id??""}`},get fields(){return g(s)},get entries(){return g(o)},get fields_changes(){return g(a)},get content_changes(){return g(l)},$$events:{input:({detail:x})=>{V(s,se(x.fields)),V(o,se(x.entries)),V(a,se(x.changes.fields)),V(l,se(x.changes.entries))}}})},$$slots:{default:!0}});var S=B(b,2);_s(S,{class:"PaneResizer-primary",children:(w,P)=>{var x=jce(),k=Q(x);ge(k,{icon:"mdi:drag-vertical-variant"}),$(x),T(w,x)},$$slots:{default:!0}});var y=B(S,2);kn(y,{defaultSize:50,children:(w,P)=>{lo(w,{direction:"vertical",children:(x,k)=>{var A=Xce(),D=he(A);kn(D,{children:(U,N)=>{var Y=Wce(),z=B(Q(Y),2);bu(z,{mode:"html",get value(){return r.head},set value(q){r.head=q},$$events:{save:u}}),$(Y),T(U,Y)},$$slots:{default:!0}});var W=B(D,2);_s(W,{class:"PaneResizer-secondary",children:(U,N)=>{var Y=Bce(),z=Q(Y);ge(z,{icon:"mdi:drag-horizontal-variant"}),$(Y),T(U,Y)},$$slots:{default:!0}});var j=B(W,2);kn(j,{children:(U,N)=>{var Y=Ice(),z=B(Q(Y),2);bu(z,{mode:"html",get value(){return r.foot},set value(q){r.foot=q},$$events:{save:u}}),$(Y),T(U,Y)},$$slots:{default:!0}}),T(x,A)},$$slots:{default:!0}})},$$slots:{default:!0}}),T(m,v)},$$slots:{default:!0}}),$(d),T(t,f),$e()}var zce=E('<div class="icon primary svelte-1nnrhhm"><!></div>'),Yce=E('<div class="container svelte-1nnrhhm" style="margin-bottom: 1rem"><span class="primo--field-label">Head</span> <!></div>'),Nce=E('<div class="icon secondary svelte-1nnrhhm"><!></div>'),Fce=E('<div class="container svelte-1nnrhhm"><span class="primo--field-label">Foot</span> <!></div>'),Gce=E("<!> <!> <!>",1),Hce=E("<!> <!> <!>",1),Kce=E('<!> <main class="SiteEditor svelte-1nnrhhm"><!></main>',1);function Jce(t,e){Se(e,!0);const n=Je(),i=()=>me(Pt,"$site",n),r=()=>me(Vh,"$userRole",n);mx("hide_dynamic_field_types",!0);let s=se(_.cloneDeep(i().code)),o=ce(se(_.cloneDeep(i().fields))),a=ce(se(_.cloneDeep(i().entries))),l=ce(se([])),c=ce(se([])),u=!1;async function f(){YN({entries:g(a),fields:g(o),code:s,content_changes:g(c),fields_changes:g(l)}),So.hide()}var h=Kce(),d=he(h);Xa(d,{icon:"gg:website",title:"Site",warn:()=>!0,button:{icon:"material-symbols:save",label:"Save",onclick:f,disabled:u}});var p=B(d,2),m=Q(p);J(m,()=>r()==="DEV",O=>{lo(O,{direction:"horizontal",style:"display: flex;",children:(v,b)=>{var S=Hce(),y=he(S);kn(y,{defaultSize:50,children:(x,k)=>{Gl(x,{get id(){return`site-${Pt.id??""}`},get fields(){return g(o)},get entries(){return g(a)},get fields_changes(){return g(l)},get content_changes(){return g(c)},$$events:{input:({detail:A})=>{V(o,se(A.fields)),V(a,se(A.entries)),V(l,se(A.changes.fields)),V(c,se(A.changes.entries))}}})},$$slots:{default:!0}});var w=B(y,2);_s(w,{class:"PaneResizer-primary",children:(x,k)=>{var A=zce(),D=Q(A);ge(D,{icon:"mdi:drag-vertical-variant"}),$(A),T(x,A)},$$slots:{default:!0}});var P=B(w,2);kn(P,{defaultSize:50,children:(x,k)=>{lo(x,{direction:"vertical",children:(A,D)=>{var W=Gce(),j=he(W);kn(j,{children:(Y,z)=>{var q=Yce(),Z=B(Q(q),2);bu(Z,{mode:"html",get value(){return s.head},set value(K){s.head=K},$$events:{save:f}}),$(q),T(Y,q)},$$slots:{default:!0}});var U=B(j,2);_s(U,{class:"PaneResizer-secondary",children:(Y,z)=>{var q=Nce(),Z=Q(q);ge(Z,{icon:"mdi:drag-horizontal-variant"}),$(q),T(Y,q)},$$slots:{default:!0}});var N=B(U,2);kn(N,{children:(Y,z)=>{var q=Fce(),Z=B(Q(q),2);bu(Z,{mode:"html",get value(){return s.foot},set value(K){s.foot=K},$$events:{save:f}}),$(q),T(Y,q)},$$slots:{default:!0}}),T(A,W)},$$slots:{default:!0}})},$$slots:{default:!0}}),T(v,S)},$$slots:{default:!0}})},O=>{Gl(O,{get id(){return`site-${Pt.id??""}`},get fields(){return g(o)},get entries(){return g(a)},get fields_changes(){return g(l)},get content_changes(){return g(c)},$$events:{input:({detail:v})=>{V(o,se(v.fields)),V(a,se(v.entries)),V(l,se(v.fields_changes)),V(c,se(v.content_changes))}}})}),$(p),T(t,h),$e()}async function Tde(t=pe(wn)){var l,c;const e=pe(vr),n=pe(Xu);let i=[];const r=n.filter(u=>u.master);for(const u of r.sort((f,h)=>f.master.index-h.master.index))if((l=u.master)!=null&&l.symbol&&i.push({...u,index:u.master.index}),!((c=u.master)!=null&&c.symbol)){const f=n.filter(h=>h.palette).sort((h,d)=>h.index-d.index);i.push(...f)}const{html:s}=await FN({page:t,page_sections:i});let o;t.slug===""?o="index.html":o=`${oh(t,e)}/index.html`;const a=new File([s],"index.html",{type:"text/html; charset=utf-8"});await Iu({action:"upload",key:o,file:a}),t.slug===""||`${oh(t,e)}`}async function Ade(t){const e=ma({entries:t.entries,fields:t.fields}),n=await Of({component:{html:t.code.html,css:t.code.css,js:t.code.js,data:e.en}});n.error&&console.warn("Error processing symbol",t.name);const i=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date),r="_symbols/"+t.id+".js",s=`// ${t.name} - Updated ${i}

`+n.js,o=new Blob([s],{type:"application/javascript"}),a=new File([o],"index.html",{type:"application/javascript"});await Iu({action:"upload",key:r,file:a})}async function jc(){const{custom_domain:t}=pe(Pt);if(!t)return;const e=pe(vr),n=`https://${t}`,r=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
${e.map(o=>{let a=n;const l=oh(o,e);return console.log({page_path:l}),o.slug!==""&&(a+=`/${l}`),`
  <url>
    <loc>${a}</loc>
  </url>`}).join("")}
</urlset>`,s=new File([r],"sitemap.xml",{type:"application/xml; charset=utf-8"});await Iu({action:"upload",key:"sitemap.xml",file:s})}function oh(t,e,n=(t==null?void 0:t.slug)||""){const i=e.find(r=>r.id===t.parent);return i?oh(i,e,i.slug+"/"+n):n}const Cde={store:async function(t){wn.update(e=>({...e,entries:t})),Fe.sections.update(e=>e)},db:async function({entries:t,changes:e}){for(const{action:n,id:i,data:r}of e)await Ye({table:"entries",action:n,id:i,data:{...r,page:pe(wn).id}})}},Wl={create:async t=>{let e;const n=pe(Fe.pages);await Iy({doing:async()=>{const i=hv(t);e=i.id,Fe.pages.update(l=>[...l,i]);const[r,s]=await Promise.all([Ye({table:"entries",action:"select",data:"*",match:{page_type:i.page_type}}),Ye({table:"sections",action:"select",data:"*, entries(*)",match:{page_type:i.page_type}})]),o=Bi(r).map(l=>({...l,page_type:null,page:i.id})),a=s.map(l=>{const c=Hk({page_type:null,page:i.id,master:l.id,index:l.index});return c.entries=Bi(l.entries).map(u=>({...u,section:c.id})),c});await Ye({table:"pages",action:"insert",data:_.omit(i,["entries"])}),await Ye({table:"sections",action:"insert",data:a==null?void 0:a.map(l=>_.omit(l,["entries"]))}),await Ye({table:"entries",action:"insert",data:[...tr(o),...tr(a.flatMap(l=>l.entries))]}),jc()},undoing:async()=>{Fe.pages.set(n),await Ye({table:"pages",action:"delete",id:e}),jc()}})},delete:async t=>{let e=t.id,n,i;await Iy({doing:async()=>{const r=gt(pe(Fe.pages));n=r.filter(o=>o.id===e||Jh(o,r).find(a=>a.id===e));const s=r.filter(o=>!n.find(a=>a.id===o.id));Fe.pages.set(s),i=await Promise.all(n.map(o=>Ye({table:"sections",action:"select",data:"*, entries(*)",match:{page:o.id}}))).then(o=>o.flat()),await Ye({table:"pages",action:"delete",id:e}),n.some(o=>o.id===pe(wn).id)&&await Nm(`/${pe(Pt).id}`),jc()},undoing:async()=>{const r=IN({pages:n,sections:i});e=r._map.get(e);const s=r.pages.map(l=>_.omit(l,["entries"])),o=r.sections.map(l=>_.omit(l,["entries"])),a=[...r.pages.flatMap(l=>l.entries),...r.sections.flatMap(l=>l.entries)];Fe.pages.update(l=>[...l,...r.pages]),await Ye({table:"pages",action:"insert",data:tr(s)}),await Ye({table:"sections",action:"insert",data:tr(o,"palette")}),await Ye({table:"entries",action:"insert",data:tr(a)}),jc()}})},update:async(t,e)=>{gt(pe(Fe.pages).find(r=>r.id===t));const i=gt(pe(Fe.pages)).map(r=>r.id===t?{...r,...e}:r);Fe.pages.set(i),Fe.pages.set(i),await Ye({table:"pages",action:"update",id:t,data:e})},rearrange:async(t,e)=>{const n=_.cloneDeep(pe(Fe.pages)),i=_.cloneDeep(pe(Fe.pages)),r=n.filter(o=>o.parent===t.parent&&o.id!==t.id).sort((o,a)=>o.index-a.index),s=[...r.slice(0,e),t,...r.slice(e)].map((o,a)=>({...o,index:a}));for(const o of s)i.find(a=>a.id===o.id).index=o.index;Fe.pages.set(i),await Promise.all(s.map(o=>Ye({table:"pages",action:"update",id:o.id,data:{index:o.index}})))}};var efe=E('<form class="svelte-ncf796"><!> <!> <!> <button class="svelte-ncf796"><!></button></form>');function LC(t,e){Se(e,!0);const n=Je(),i=()=>me(vr,"$pages",n),r=()=>me(Yr,"$page_types",n);let s=F(e,"parent",3,null);const o=At(),a=i().filter(S=>S.parent===s())[0],l=a==null?void 0:a.page_type,c=se({name:"",slug:"",page_type:l||r()[0].id});let u=le(()=>!c.name||!c.slug),f=ce(!1);at(()=>{c.slug=g(f)?oo(c.slug):oo(c.name)});let h=le(()=>hv({name:c.name,slug:c.slug,parent:s(),page_type:c.page_type}));var d=efe(),p=Q(d);Be(p,()=>nt.TextInput,(S,y)=>{y(S,{autofocus:!0,get value(){return c.name},set value(w){c.name=w},id:"page-label",label:"Page Name",placeholder:"About Us"})});var m=B(p,2);Be(m,()=>nt.TextInput,(S,y)=>{y(S,{get value(){return c.slug},set value(w){c.slug=w},id:"page-slug",label:"Page Slug",oninput:()=>V(f,!0),placeholder:"about-us"})});var O=B(m,2);J(O,()=>r().length>1,S=>{var y=be(),w=he(y),P=le(()=>r().sort((x,k)=>x.index-k.index).map(x=>({value:x.id,icon:x.icon,label:x.name})));Be(w,()=>nt.Select,(x,k)=>{k(x,{fullwidth:!0,label:"Page Type",get value(){return c.page_type},get options(){return g(P)},$$events:{input:({detail:A})=>c.page_type=A}})}),T(S,y)});var v=B(O,2),b=Q(v);ge(b,{icon:"akar-icons:check"}),$(v),$(d),de(()=>{Ae(d,"has-page-types",r().length>1),v.disabled=g(u)}),Ve("submit",d,S=>{S.preventDefault(),o("create",g(h))}),ln(1,d,()=>In,()=>({duration:100})),T(t,d),$e()}var tfe=E('<div class="url svelte-5ltqzp"><span class="svelte-5ltqzp">/</span> <div class="url svelte-5ltqzp"> </div></div>'),nfe=E('<div class="details svelte-5ltqzp"><div class="name svelte-5ltqzp"> </div> <!></div>'),ife=E('<span class="icon svelte-5ltqzp"><!></span>'),rfe=()=>So.hide(),sfe=E('<div class="details svelte-5ltqzp"><!> <a class="name svelte-5ltqzp"> </a> <span class="url svelte-5ltqzp"> </span></div>'),ofe=(t,e)=>V(e,!g(e)),afe=E('<button class="toggle svelte-5ltqzp" aria-label="Toggle child pages"><!></button>'),lfe=E('<button class="drag-handle svelte-5ltqzp"><!></button>'),ufe=E('<ul class="page-list child svelte-5ltqzp"></ul>'),cfe=E('<div style="border-left: 0.5rem solid #111;"><!></div>'),ffe=(t,e)=>V(e,!0),hfe=E('<button class="create-page svelte-5ltqzp"><!> <span>Create Child Page</span></button>'),dfe=E('<div class="Item svelte-5ltqzp"><div class="page-item-container svelte-5ltqzp"><div class="left svelte-5ltqzp"><!> <!></div> <div class="options svelte-5ltqzp"><!> <!></div></div> <!> <!> <hr class="svelte-5ltqzp"></div>');function zC(t,e){Se(e,!0);const n=Je(),i=()=>me(wn,"$active_page",n),r=()=>me(Yr,"$page_types",n),s=()=>me(vr,"$pages",n),o=At();let a=ce(!1),l=F(e,"parent",3,null),c=F(e,"children",19,()=>[]),u=F(e,"parent_urls",19,()=>[]);const f=window.location.pathname.split("/")[1],h=l()?`/${f}/${u().join("/")}/${e.page.slug}`:`/${f}/${e.page.slug}`;let d=ce(!1),p=le(()=>c().length>0);Ia(`page-list-toggle--${e.page.id}`).then(q=>{q!==void 0&&V(d,se(q))}),at(()=>{Du(`page-list-toggle--${e.page.id}`,g(d))});let m=ce(!1),O=ce("");at(()=>{V(O,se(oo(g(O))))});function v(q){Wl.update(e.page.id,q)}let b=ce(void 0),S=ce(void 0);Ui(async()=>{const{draggable:q,dropTargetForElements:Z}=await Qt(async()=>{const{draggable:H,dropTargetForElements:ee}=await import("./element-adapter.CmHsh92p.js");return{draggable:H,dropTargetForElements:ee}},__vite__mapDeps([3,4]),import.meta.url),{attachClosestEdge:K,extractClosestEdge:I}=await Qt(async()=>{const{attachClosestEdge:H,extractClosestEdge:ee}=await import("./closest-edge.DKVUyjvI.js");return{attachClosestEdge:H,extractClosestEdge:ee}},__vite__mapDeps([5,4]),import.meta.url);q({element:g(S),dragHandle:g(b),getInitialData:()=>({page:e.page})}),Z({element:g(S),getData({input:H,element:ee}){return K({page:e.page},{element:ee,input:H,allowedEdges:["top","bottom"]})},onDrag({self:H,source:ee}){V(y,se(I(H.data)))},onDragLeave(){V(y,null)},onDrop({self:H,source:ee}){const ne=H.data.page,M=ee.data.page,X=I(H.data);ne.index!==0&&(X==="top"?Wl.rearrange(M,ne.index):X==="bottom"&&Wl.rearrange(M,ne.index+1),V(y,null))}})});let y=ce(null);var w=dfe();un(w,q=>V(S,q),()=>g(S));var P=Q(w),x=Q(P),k=Q(x);J(k,()=>g(a),q=>{var Z=nfe(),K=Q(Z),I=Q(K,!0);$(K);var H=B(K,2);J(H,()=>e.page.slug!=="",ee=>{var ne=tfe(),M=B(Q(ne),2),X=Q(M,!0);$(M),$(ne),de(()=>Re(X,e.page.slug)),sn(M,(R,L)=>Qg(R,L),()=>({on_change:R=>{v({slug:oo(R)})},on_submit:()=>V(a,!1)})),T(ee,ne)}),$(Z),de(()=>Re(I,e.page.name)),sn(K,(ee,ne)=>Qg(ee,ne),()=>({autofocus:!0,on_change:ee=>v({name:ee}),on_submit:()=>V(a,!1)})),T(q,Z)},q=>{var Z=sfe();const K=le(()=>r().find(X=>X.id===e.page.page_type));var I=Q(Z);J(I,()=>r().length>1,X=>{var R=ife(),L=Q(R);ge(L,{get icon(){return g(K).icon}}),$(R),de(()=>gn(R,"background",g(K).color)),T(X,R)});var H=B(I,2);Ge(H,"href",h),H.__click=[rfe];var ee=Q(H,!0);$(H);var ne=B(H,2),M=Q(ne);$(ne),$(Z),de(()=>{Ae(H,"active",e.active),Re(ee,e.page.name),Re(M,`/${e.page.slug??""}`)}),T(q,Z)});var A=B(k,2);J(A,()=>g(p),q=>{var Z=afe();Z.__click=[ofe,d];var K=Q(Z);ge(K,{icon:"mdi:chevron-down"}),$(Z),de(()=>Ae(Z,"active",g(d))),T(q,Z)}),$(x);var D=B(x,2),W=Q(D);J(W,()=>!l(),q=>{var Z=lfe();un(Z,I=>V(b,I),()=>g(b));var K=Q(Z);ge(K,{icon:"material-symbols:drag-handle"}),$(Z),de(()=>gn(Z,"visibility",e.page.slug===""?"hidden":"visible")),T(q,Z)});var j=B(W,2),U=le(()=>[...e.page.slug!==""&&!g(m)?[{label:"Create Child Page",icon:"akar-icons:plus",on_click:()=>{V(m,!0)}}]:[],{label:"Change Name",icon:"clarity:edit-solid",on_click:()=>{V(a,!g(a))}},...e.page.slug!==""?[{label:"Delete",icon:"ic:outline-delete",on_click:()=>o("delete",e.page)}]:[]]);Uh(j,{icon:"carbon:overflow-menu-vertical",get options(){return g(U)}}),$(D),$(P);var N=B(P,2);J(N,()=>g(d)&&g(p),q=>{var Z=ufe();Rt(Z,21,c,Nt,(K,I)=>{const H=le(()=>s().filter(M=>M.parent===g(I).id));var ee=le(()=>[...u(),e.page.slug]),ne=le(()=>i().id===g(I).id);zC(K,{get parent(){return e.page},get page(){return g(I)},get parent_urls(){return g(ee)},get children(){return g(H)},get active(){return g(ne)},$$events:{delete(M){Le.call(this,e,M)},create(M){Le.call(this,e,M)}}})}),$(Z),T(q,Z)});var Y=B(N,2);J(Y,()=>g(m),q=>{var Z=cfe(),K=Q(Z);LC(K,{get page(){return e.page},get parent(){return e.page.id},$$events:{create:({detail:I})=>{V(m,!1),V(d,!0),o("create",{page:I,index:c().length})}}}),$(Z),T(q,Z)},q=>{var Z=be(),K=he(Z);J(K,()=>g(d)&&g(p),I=>{var H=hfe();H.__click=[ffe,m];var ee=Q(H);ge(ee,{icon:"akar-icons:plus"}),On(2),$(H),T(I,H)},null,!0),T(q,Z)});var z=B(Y,2);$(w),de(()=>{Ae(w,"contains-child",l()),Ae(P,"active",e.page.id===i().id),Ae(P,"expanded",g(d)&&g(p)),Ae(z,"highlight",g(y)==="bottom")}),T(t,w),$e()}st(["click"]);var pfe=E('<li class="svelte-kpf0p2"><!></li>'),gfe=E('<li style="background: #1a1a1a;" class="svelte-kpf0p2"><!></li>'),mfe=E('<ul class="page-list root svelte-kpf0p2"><!> <!></ul> <!>',1);function Ofe(t,e){Se(e,!0);const n=Je(),i=()=>me(vr,"$pages",n),r=()=>me(wn,"$active_page",n);async function s(p,m){i().some(v=>v.slug===p.slug)?alert("That URL is already in use"):await Wl.create({...p,index:m})}async function o(p){Wl.delete(p)}let a=ce(!1);var l=mfe(),c=he(l),u=Q(c);Rt(u,9,()=>i().filter(p=>!p.parent).sort((p,m)=>p.index-m.index),p=>p.id,(p,m)=>{var O=pfe();const v=le(()=>i().filter(y=>y.id!==g(m).id&&y.parent===g(m).id));var b=Q(O),S=le(()=>r().id===g(m).id);zC(b,{get page(){return g(m)},get children(){return g(v)},get active(){return g(S)},$$events:{create:({detail:y})=>s(y.page,y.index),delete:({detail:y})=>o(y)}}),$(O),bx(O,()=>PP,()=>({duration:200})),T(p,O)});var f=B(u,2);J(f,()=>g(a),p=>{var m=gfe(),O=Q(m);LC(O,{$$events:{create:({detail:v})=>{V(a,!1),s(v,i().length)}}}),$(m),T(p,m)}),$(c);var h=B(c,2),d=le(()=>g(a)===!0);Ba(h,{variants:"secondary fullwidth",get disabled(){return g(d)},onclick:()=>V(a,!0),label:"Create Page",icon:"akar-icons:plus"}),T(t,l),$e()}var vfe=(t,e)=>V(e,!0),bfe=E(`<div class="icon-picker" style="position: absolute;
    background: var(--color-gray-9);
    padding: 1rem;z-index: 9;    bottom: 12rem;
    left: 6rem;"><!></div>`),yfe=E(`<form class="svelte-1nr9gw9"><div style="width: 100%"><div class="top svelte-1nr9gw9"><!> <button style="display: flex;
				align-items: center;
				justify-content: center;
				position: relative;
				margin-top: 22px;" type="button"><span class="icon" style="    width: 2rem;
				aspect-ratio: 1;
				border-radius: 50%;
				background: var(--color-gray-8);
				display: flex;
				align-items: center;
				justify-content: center;"><!></span></button> <div class="color svelte-1nr9gw9"><label><input type="color" class="svelte-1nr9gw9"> <span class="preview svelte-1nr9gw9"></span></label></div> <button class="save svelte-1nr9gw9" type="submit"><!></button></div> <!></div></form>`);function zm(t,e){Se(e,!0);const n=At();let i="",r=F(e,"new_page_name",15,""),s=F(e,"new_color",15,"#2B407D"),o=F(e,"new_icon",15,"iconoir:page"),a=le(()=>!r()),l=le(()=>({name:r(),color:s(),icon:o()}));const[c,u]=Xh({placement:"bottom",strategy:"fixed"});let f=ce(!1);var h=yfe(),d=Q(h),p=Q(d),m=Q(p);Be(m,()=>nt.TextInput,(D,W)=>{W(D,{autofocus:!0,get value(){return r()},set value(j){r(j)},id:"page-label",label:"Page Type Name",placeholder:"Post"})});var O=B(m,2);O.__click=[vfe,f];var v=Q(O),b=Q(v);ge(b,{get icon(){return o()}}),$(v),$(O);var S=B(O,2),y=Q(S),w=Q(y);Tr(w);var P=B(w,2);$(y),$(S);var x=B(S,2),k=Q(x);ge(k,{icon:"akar-icons:check"}),$(x),$(p);var A=B(p,2);J(A,()=>g(f),D=>{var W=bfe(),j=Q(W);wv(j,{get search_query(){return r()},get icon(){return o()},$$events:{input:({detail:U})=>{o(U)}}}),$(W),Ve("click_outside",W,()=>V(f,!1)),sn(W,(U,N)=>u(U,N),()=>({modifiers:[{name:"offset",options:{offset:[0,3]}}]})),sn(W,U=>Bh(U)),T(D,W)}),$(d),$(h),de(()=>{gn(P,"background-color",s()),x.disabled=g(a)}),Ve("submit",h,D=>{D.preventDefault(),n("create",{details:g(l),source:i})}),sn(O,D=>c(D)),cf(w,s),ln(1,h,()=>In,()=>({duration:100})),T(t,h),$e()}st(["click"]);var _fe=()=>So.hide(),wfe=E('<div class="Item svelte-11f6g4c"><span class="icon svelte-11f6g4c"><!></span> <div class="page-item-container svelte-11f6g4c"><div class="left svelte-11f6g4c"><a class="name svelte-11f6g4c"> </a></div> <div class="options svelte-11f6g4c"><!></div></div></div>'),xfe=E('<div style="border-left: 0.5rem solid #111;"><!></div>'),Sfe=E("<!> <!>",1);function $fe(t,e){Se(e,!0);const n=Je(),i=()=>me(Gh,"$siteID",n),r=()=>me(wn,"$active_page",n),s=At();let o=ce(!1),a=ce(!1),l=ce("");at(()=>{V(l,se(oo(g(l))))});const c=`/${i()}/page-type--${e.page.id}`;var u=Sfe(),f=he(u);J(f,()=>g(o),d=>{zm(d,{get page(){return e.page},get new_page_name(){return e.page.name},get new_color(){return e.page.color},get new_icon(){return e.page.icon},$$events:{create:({detail:p})=>{V(o,!1),console.log("first"),s("edit",p.details)}}})},d=>{var p=wfe(),m=Q(p),O=Q(m);ge(O,{get icon(){return e.page.icon}}),$(m);var v=B(m,2),b=Q(v),S=Q(b);Ge(S,"href",c),S.__click=[_fe];var y=Q(S,!0);$(S),$(b);var w=B(b,2),P=Q(w),x=le(()=>[{label:"Change name/icon/color",icon:"clarity:edit-solid",on_click:()=>{V(o,!g(o))}},...e.page.name!=="Default"?[{label:"Delete Type & Instances",icon:"fluent:delete-20-filled",on_click:()=>{window.confirm("This will delete ALL pages of this page type. Continue?")&&s("delete",e.page)}}]:[]]);Uh(P,{icon:"carbon:overflow-menu-vertical",get options(){return g(x)}}),$(w),$(v),$(p),de(()=>{gn(m,"background",e.page.color),Ae(v,"active",e.page.id===r().id),Re(y,e.page.name)}),T(d,p)});var h=B(f,2);J(h,()=>g(a),d=>{var p=xfe(),m=Q(p);zm(m,{get page(){return e.page},$$events:{create:({detail:O})=>{V(a,!1),s("create",O)}}}),$(p),T(d,p)}),T(t,u),$e()}st(["click"]);var kfe=E('<li class="svelte-mv7fxm"><!></li>'),Pfe=E('<li style="background: #1a1a1a;" class="svelte-mv7fxm"><!></li>'),Qfe=E('<ul class="page-list root svelte-mv7fxm"><!> <!></ul>'),Tfe=E("<!> <!>",1);function Afe(t,e){Se(e,!0);const n=Je(),i=()=>me(Gh,"$site_id",n),r=()=>me(Yr,"$page_types",n),s=()=>me(wn,"$active_page",n);async function o(d){const p=await lf.create(d);Nm(`/${i()}/page-type--${p}`),So.hide()}async function a(d){lf.delete(d)}let l=ce(!1);var c=Tfe(),u=he(c);J(u,()=>r().length>0,d=>{var p=Qfe(),m=Q(p);Rt(m,1,()=>r().sort((v,b)=>v.index-b.index),Nt,(v,b)=>{var S=kfe(),y=Q(S),w=le(()=>s().id===g(b).id);$fe(y,{get page(){return g(b)},get active(){return g(w)},$$events:{edit:({detail:P})=>{console.log({detail:P}),lf.update(g(b).id,P)},delete:({detail:P})=>a(P.id)}}),$(S),T(v,S)});var O=B(m,2);J(O,()=>g(l),v=>{var b=Pfe(),S=Q(b);zm(S,{$$events:{create:({detail:y})=>{V(l,!1),o(y)}}}),$(b),T(v,b)}),$(p),T(d,p)});var f=B(u,2),h=le(()=>g(l)===!0);Ba(f,{variants:"secondary fullwidth",get disabled(){return g(h)},onclick:()=>V(l,!0),label:"New Page Type",icon:"akar-icons:plus"}),T(t,c),$e()}var Cfe=(t,e)=>e("pages"),Rfe=(t,e)=>e("page types"),Efe=E('<div class="tabs svelte-1j0l8n8"><button class="svelte-1j0l8n8"><!> <span>Pages</span></button> <button class="svelte-1j0l8n8"><!> <span>Page Types</span></button></div>'),qfe=E('<!> <main class="svelte-1j0l8n8"><!></main>',1);function Mfe(t,e){Se(e,!0);let n=ce(se(localStorage.getItem("current_step")||"pages"));function i(l){Du("SitePages-tab",l),V(n,se(l))}Ia("SitePages-tab").then(l=>{l&&V(n,se(l))});var r=qfe(),s=he(r);Xa(s,{title:c=>{var u=Efe(),f=Q(u);f.__click=[Cfe,i];var h=Q(f);ge(h,{icon:"iconoir:multiple-pages"}),On(2),$(f);var d=B(f,2);d.__click=[Rfe,i];var p=Q(d);ge(p,{icon:"carbon:template"}),On(2),$(d),$(u),de(()=>{Ae(f,"active",g(n)==="pages"),Ae(d,"active",g(n)==="page types")}),T(c,u)},$$slots:{title:!0}});var o=B(s,2),a=Q(o);J(a,()=>g(n)==="pages",l=>{Ofe(l,{})},l=>{Afe(l,{})}),$(o),T(t,r),$e()}st(["click"]);async function Zfe({target:t},e,n,i){V(e,!0);const{files:r}=t;if(r.length>0){const s=r[0],o=`_images/${s.lastModified+s.name}`,{url:a}=await Iu({action:"upload",key:o,file:s});a?(V(n,se(a)),i({url:a,size:Math.floor(s.size/1024)}),V(e,!1)):V(e,!1)}}var Dfe=E('<span class="field-size svelte-gve9ng"> </span>'),jfe=E('<img alt="Preview" class="svelte-gve9ng">'),Wfe=E('<span class="svelte-gve9ng">Upload</span>'),Bfe=E('<div class="image-preview svelte-gve9ng"><!> <!> <label class="image-upload svelte-gve9ng"><!> <!> <input type="file" accept="image/*" class="svelte-gve9ng"></label></div>'),Ife=E('<div><div class="image-info svelte-gve9ng"><!> <form><div class="inputs svelte-gve9ng"><label class="image-input svelte-gve9ng"><span class="svelte-gve9ng">URL</span> <input type="url" class="svelte-gve9ng"></label> <label class="image-input svelte-gve9ng"><span class="svelte-gve9ng">Description</span> <input type="text" class="svelte-gve9ng"></label></div> <footer class="svelte-gve9ng"><!></footer></form></div></div> <!>',1);function Xfe(t,e){Se(e,!0);const n={alt:"",url:"",src:"",size:null};let i=F(e,"value",31,()=>se(n));(typeof i()=="string"||!i())&&i(n);function r({url:y,size:w}){i({...i(),url:y,src:y,size:w})}let s=ce(se(i().url||"")),o=ce(!1);var a=Ife(),l=he(a),c=Q(l),u=Q(c);J(u,()=>g(o),y=>{var w=be(),P=he(w);Be(P,()=>nt.Spinner,(x,k)=>{k(x,{})}),T(y,w)},y=>{var w=Bfe(),P=Q(w);J(P,()=>i().size,j=>{var U=Dfe(),N=Q(U);$(U),de(()=>Re(N,`${i().size??""}KB`)),T(j,U)});var x=B(P,2);J(x,()=>i().url,j=>{var U=jfe();de(()=>Ge(U,"src",g(s))),T(j,U)});var k=B(x,2),A=Q(k);ge(A,{height:"2rem",icon:"uil:image-upload"});var D=B(A,2);J(D,()=>!i().url,j=>{var U=Wfe();T(j,U)});var W=B(D,2);W.__change=[Zfe,o,s,r],$(k),$(w),T(y,w)});var f=B(u,2),h=Q(f),d=Q(h),p=B(Q(d),2);Tr(p),uf(p,!0),p.__input=y=>{const{value:w}=y.target;V(s,se(w))},$(d);var m=B(d,2),O=B(Q(m),2);Tr(O),$(m),$(h);var v=B(h,2),b=Q(v);Ba(b,{type:"submit",label:"Add Image"}),$(v),$(f),$(c),$(l);var S=B(l,2);$r(S,()=>e.children??ds),Ve("submit",f,y=>{y.preventDefault(),e.onsubmit(i())}),cf(p,()=>i().url,y=>i(i().url=y,!0)),cf(O,()=>i().alt,y=>i(i().alt=y,!0)),T(t,a),$e()}st(["change","input"]);var Ufe=E(`<div class="image-preview svelte-1fchbd2"><iframe style="position: absolute;
				inset: 0;
				height: 100%;
				width: 100%;" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>`),Vfe=E('<div><div class="image-info svelte-1fchbd2"><!> <form><div class="inputs svelte-1fchbd2"><!></div> <footer class="svelte-1fchbd2"><!></footer></form></div></div> <!>',1);function Lfe(t,e){Se(e,!0);const n={url:""};let i=F(e,"value",31,()=>se(n));(typeof i()=="string"||!i())&&i(n);let r=ce(se(i().url||"")),s=ce(void 0),o=!1;at(()=>{if(i().url)try{const v=new URL(i().url),b=new URLSearchParams(v.search);V(s,se(b.get("v")))}catch{}});var a=Vfe(),l=he(a),c=Q(l),u=Q(c);J(u,()=>o,v=>{var b=be(),S=he(b);Be(S,()=>nt.Spinner,(y,w)=>{w(y,{})}),T(v,b)},v=>{var b=be(),S=he(b);J(S,()=>i().url,y=>{var w=Ufe(),P=Q(w);$(w),de(()=>Ge(P,"src",`https://www.youtube.com/embed/${g(s)??""}`)),T(y,w)},null,!0),T(v,b)});var f=B(u,2),h=Q(f),d=Q(h);Be(d,()=>nt.TextInput,(v,b)=>{b(v,{label:"Youtube Video URL",get value(){return i().url},set value(S){i(i().url=S,!0)},type:"url",autofocus:!0,oninput:S=>{V(r,se(S))}})}),$(h);var p=B(h,2),m=Q(p);Ba(m,{type:"submit",label:"Add Video"}),$(p),$(f),$(c),$(l);var O=B(l,2);$r(O,()=>e.children??ds),Ve("submit",f,v=>{v.preventDefault(),e.onsubmit(g(r))}),T(t,a),$e()}var zfe=E(`<main class="svelte-1gpg5cj"><h1 class="svelte-1gpg5cj">Feedback</h1> <p>Let us know if something broke, if there's something you want to do that you can't do (yet), or even if you're just enjoying primo.</p> <form class="svelte-1gpg5cj"><label><span class="svelte-1gpg5cj">Message *</span> <textarea required name="message" class="svelte-1gpg5cj"></textarea></label> <label><span class="svelte-1gpg5cj">Email address (if you'd like us to follow up)</span> <input type="email" class="primo-input svelte-1gpg5cj" name="email"></label> <div class="hidden svelte-1gpg5cj"><input type="platform" class="primo-input svelte-1gpg5cj" name="platform"> <input type="version" class="primo-input svelte-1gpg5cj" name="version"></div> <!></form></main>`),Yfe=E(`<main class="svelte-1gpg5cj"><h1 class="svelte-1gpg5cj">Feedback Submitted Successfully</h1> <p>Thanks for your message! If you provided your email address, we'll try to follow up with you as soon as possible.</p></main>`),Nfe=E(`<main class="svelte-1gpg5cj"><h1 class="svelte-1gpg5cj">Unsuccessful</h1> <p>For some reason we weren't able to submit your feedback. Please let us know by emailing contact@primo.af</p></main>`);function Ffe(t,e){Se(e,!0);let n=ce(void 0),i=ce(!1),r=ce(!1),s=ce(void 0);kl("ENVIRONMENT")==="DESKTOP"?V(s,`Desktop: ${__DESKTOP_VERSION__}`):kl("ENVIRONMENT")==="SERVER"?V(s,`Server: ${__SERVER_VERSION__}`):kl("ENVIRONMENT")==="TRY"&&V(s,`Try Primo: ${__TRY_VERSION__}`);var o=be(),a=he(o);J(a,()=>!g(i),l=>{var c=zfe(),u=B(Q(c),4);un(u,m=>V(n,m),()=>g(n));var f=B(Q(u),4),h=Q(f);Tr(h),aa(h,window.navigator);var d=B(h,2);Tr(d),$(f);var p=B(f,2);Ba(p,{type:"submit",children:(m,O)=>{On();var v=eR("Submit");T(m,v)},$$slots:{default:!0}}),$(u),$(c),de(()=>aa(d,`${g(s)??""}  Primo: ___`)),Ve("submit",u,m=>{m.preventDefault();var O=new window.FormData(g(n));Bu.post("https://formspree.io/f/xknywogb",O).then(v=>{var b;console.log({res:v}),(b=v.data)!=null&&b.ok&&V(r,!0)}).finally(()=>{V(i,!0)})}),T(l,c)},l=>{var c=be(),u=he(c);J(u,()=>g(i)&&g(r),f=>{var h=Yfe();T(f,h)},f=>{var h=be(),d=he(h);J(d,()=>g(i)&&!g(r),p=>{var m=Nfe();T(p,m)},null,!0),T(f,h)},!0),T(l,c)}),T(t,o),$e()}var Gfe=E("<!> <p> </p>",1),Hfe=()=>So.hide(),Kfe=E('<div class="link"><div class="message">Enter URL</div> <form class="svelte-ckshk0"><input type="url" class="svelte-ckshk0"></form></div>'),Jfe=E('<main class="primo-reset svelte-ckshk0"><header class="svelte-ckshk0"><div class="title svelte-ckshk0"><!></div> <button><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M13 13L1 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></header> <div><!></div></main>');function ehe(t,e){Se(e,!0);let n=F(e,"header",3,null),i=F(e,"props",19,()=>({})),r=ce("");var s=Jfe(),o=Q(s),a=Q(o),l=Q(a);J(l,n,h=>{var d=Gfe(),p=he(d);ge(p,{get icon(){return n().icon}});var m=B(p,2),O=Q(m,!0);$(m),de(()=>Re(O,n().title)),T(h,d)}),$(a);var c=B(a,2);c.__click=[Hfe],$(o);var u=B(o,2),f=Q(u);J(f,()=>e.component==="IMAGE",h=>{Xfe(h,gs({onsubmit:d=>e.onSubmit(d)},i))},h=>{var d=be(),p=he(d);J(p,()=>e.component==="VIDEO",m=>{Lfe(m,gs({onsubmit:O=>e.onSubmit(O)},i))},m=>{var O=be(),v=he(O);J(v,()=>e.component==="LINK",b=>{var S=Kfe(),y=B(Q(S),2),w=Q(y);Tr(w),uf(w,!0),$(y),$(S),Ve("submit",y,P=>{P.preventDefault(),e.onSubmit(g(r))}),cf(w,()=>g(r),P=>V(r,P)),T(b,S)},b=>{var S=be(),y=he(S);J(y,()=>e.component==="FEEDBACK",w=>{Ffe(w,{})},w=>{var P=be(),x=he(P);J(x,()=>typeof e.component!="string",k=>{var A=be();const D=le(()=>e.component);var W=he(A);Be(W,()=>g(D),(j,U)=>{U(j,gs(i))}),T(k,A)},null,!0),T(w,P)},!0),T(b,S)},!0),T(m,O)},!0),T(h,d)}),$(u),$(s),T(t,s),$e()}st(["click"]);var the=E('<div class="check svelte-a3cabr"><!></div>'),nhe=E('<div class="error svelte-a3cabr"><!></div>'),ihe=E('<button class="sidebar-symbol svelte-a3cabr"><div class="symbol svelte-a3cabr"><!> <!></div></button>');function ig(t,e){Se(e,!0);const n=Je(),i=()=>me(Es,"$locale",n);let r=F(e,"symbol",15),s=F(e,"append",3,""),o=F(e,"checked",3,!1),a=ce(0),l=ce(void 0),c=ce(void 0);async function u(m,O){const v=ma({entries:m.entries,fields:m.fields})[i()];let b=await Of({component:{...m.code,head:e.site.code.head,css:m.code.css,html:m.code.html,data:v},buildStatic:!0,hydrated:!0});b.error?V(c,se(b.error)):(V(c,null),b.html=b.html+b.head,V(l,se(b)),_.cloneDeep({code:m.code,entries:m.entries}))}at(()=>{}),_u(()=>{u(r(),i())});var f=ihe();f.__click=function(...m){var O;(O=e.onclick)==null||O.apply(this,m)};var h=Q(f);h.__mousedown=function(...m){var O;(O=e.onmousedown)==null||O.apply(this,m)},h.__mouseup=function(...m){var O;(O=e.onmouseup)==null||O.apply(this,m)};var d=Q(h);J(d,o,m=>{var O=the(),v=Q(O);ge(v,{icon:"material-symbols:check"}),$(O),ln(1,O,()=>In,()=>({duration:100})),T(m,O)});var p=B(d,2);J(p,()=>g(c),m=>{var O=nhe(),v=Q(O);ge(v,{icon:"bxs:error"}),$(O),T(m,O)},m=>{var O=be(),v=he(O);mR(v,()=>g(l),b=>{P8(b,{get height(){return g(a)},set height(S){V(a,se(S))},get append(){return s()},get componentCode(){return g(l)}})}),T(m,O)}),$(h),$(f),T(t,f),$e()}st(["click","mousedown","mouseup"]);const rhe=Nx(xx,Sx,{realtime:{params:{eventsPerSecond:10}}});var she=E("<li><!></li>"),ohe=E("<li><!></li>"),ahe=E("<li><!></li>"),lhe=E('<!> <div class="BlockPicker svelte-v9ec56"><ul></ul> <ul></ul> <ul></ul></div>',1);function uhe(t,e){Se(e,!0);const n=Je(),i=()=>me(Pt,"$site_store",n);let r=ce(se([])),s=ce(se([]));o();async function o(b){const{data:S}=await rhe.from("symbols").select("*, entries(*), fields(*)").match({site:"60a1f157-26fb-4a86-bf56-a3103bbcf46f"});V(r,se(S))}function a(b){g(s).some(S=>S.id===b.id)||g(l).includes(b.id)?(V(s,se(g(s).filter(S=>S.id!==b.id))),V(l,se(g(l).filter(S=>S!==b.id)))):(V(s,se([...g(s),Kk({...b,site:e.site.id,id:ht()})])),V(l,se([...g(l),b.id])))}let l=ce(se([])),c=ce(null);async function u(b){if(b.length===0)return"";const S=await mv({}),{data:y}=await Bu.post("/api/render",{code:{html:`<svelte:head>${b}</svelte:head>`,css:"",js:""},data:S,dev_mode:!1});V(c,se(y.head))}at(()=>{u(e.site.code.head)});var f=lhe(),h=he(f),d=le(()=>({label:`Add ${g(s).length} Blocks`,onclick:()=>e.onsave(g(s)),icon:"lucide:blocks",disabled:g(s).length===0}));Xa(h,{icon:"lucide:blocks",title:"Add Blocks to Site",get button(){return g(d)}});var p=B(h,2),m=Q(p);Rt(m,21,()=>g(r).slice(0,10),Nt,(b,S)=>{var y=she(),w=Q(y),P=le(()=>g(l).includes(g(S).id));ig(w,{get checked(){return g(P)},onclick:()=>a(g(S)),get symbol(){return g(S)},get site(){return i()},get append(){return g(c)},controls_enabled:!1}),$(y),T(b,y)}),$(m);var O=B(m,2);Rt(O,21,()=>g(r).slice(10,20),Nt,(b,S)=>{var y=ohe(),w=Q(y),P=le(()=>g(l).includes(g(S).id));ig(w,{get checked(){return g(P)},onclick:()=>a(g(S)),get symbol(){return g(S)},get site(){return i()},get append(){return g(c)},controls_enabled:!1}),$(y),T(b,y)}),$(O);var v=B(O,2);Rt(v,21,()=>g(r).slice(20,30),Nt,(b,S)=>{var y=ahe(),w=Q(y),P=le(()=>g(l).includes(g(S).id));ig(w,{get checked(){return g(P)},onclick:()=>a(g(S)),get symbol(){return g(S)},get site(){return i()},get append(){return g(c)},controls_enabled:!1}),$(y),T(b,y)}),$(v),$(p),T(t,f),$e()}const che={SECTION_EDITOR:{component:u6,header:{title:"Create Component",icon:"fas fa-code"}},BLOCK_EDITOR:{component:d6,header:{title:"Create Symbol",icon:"fas fa-code"}},PAGE_EDITOR:{component:Lce,header:{title:"Edit Page",icon:"fas fa-code"}},SITE_EDITOR:{component:Jce,header:{title:"Edit Page",icon:"fas fa-code"}},SITE_PAGES:{component:Mfe,header:{title:"Pages",icon:"fas fa-th-large"}},DIALOG:{component:ehe},BLOCK_PICKER:{component:uhe}};var YC={exports:{}};(function(t){(function(e,n,i){if(!e)return;for(var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)r[111+c]="f"+c;for(c=0;c<=9;++c)r[c+96]=c.toString();function u(x,k,A){if(x.addEventListener){x.addEventListener(k,A,!1);return}x.attachEvent("on"+k,A)}function f(x){if(x.type=="keypress"){var k=String.fromCharCode(x.which);return x.shiftKey||(k=k.toLowerCase()),k}return r[x.which]?r[x.which]:s[x.which]?s[x.which]:String.fromCharCode(x.which).toLowerCase()}function h(x,k){return x.sort().join(",")===k.sort().join(",")}function d(x){var k=[];return x.shiftKey&&k.push("shift"),x.altKey&&k.push("alt"),x.ctrlKey&&k.push("ctrl"),x.metaKey&&k.push("meta"),k}function p(x){if(x.preventDefault){x.preventDefault();return}x.returnValue=!1}function m(x){if(x.stopPropagation){x.stopPropagation();return}x.cancelBubble=!0}function O(x){return x=="shift"||x=="ctrl"||x=="alt"||x=="meta"}function v(){if(!l){l={};for(var x in r)x>95&&x<112||r.hasOwnProperty(x)&&(l[r[x]]=x)}return l}function b(x,k,A){return A||(A=v()[x]?"keydown":"keypress"),A=="keypress"&&k.length&&(A="keydown"),A}function S(x){return x==="+"?["+"]:(x=x.replace(/\+{2}/g,"+plus"),x.split("+"))}function y(x,k){var A,D,W,j=[];for(A=S(x),W=0;W<A.length;++W)D=A[W],a[D]&&(D=a[D]),k&&k!="keypress"&&o[D]&&(D=o[D],j.push("shift")),O(D)&&j.push(D);return k=b(D,j,k),{key:D,modifiers:j,action:k}}function w(x,k){return x===null||x===n?!1:x===k?!0:w(x.parentNode,k)}function P(x){var k=this;if(x=x||n,!(k instanceof P))return new P(x);k.target=x,k._callbacks={},k._directMap={};var A={},D,W=!1,j=!1,U=!1;function N(H){H=H||{};var ee=!1,ne;for(ne in A){if(H[ne]){ee=!0;continue}A[ne]=0}ee||(U=!1)}function Y(H,ee,ne,M,X,R){var L,ie,te=[],G=ne.type;if(!k._callbacks[H])return[];for(G=="keyup"&&O(H)&&(ee=[H]),L=0;L<k._callbacks[H].length;++L)if(ie=k._callbacks[H][L],!(!M&&ie.seq&&A[ie.seq]!=ie.level)&&G==ie.action&&(G=="keypress"&&!ne.metaKey&&!ne.ctrlKey||h(ee,ie.modifiers))){var re=!M&&ie.combo==X,oe=M&&ie.seq==M&&ie.level==R;(re||oe)&&k._callbacks[H].splice(L,1),te.push(ie)}return te}function z(H,ee,ne,M){k.stopCallback(ee,ee.target||ee.srcElement,ne,M)||H(ee,ne)===!1&&(p(ee),m(ee))}k._handleKey=function(H,ee,ne){var M=Y(H,ee,ne),X,R={},L=0,ie=!1;for(X=0;X<M.length;++X)M[X].seq&&(L=Math.max(L,M[X].level));for(X=0;X<M.length;++X){if(M[X].seq){if(M[X].level!=L)continue;ie=!0,R[M[X].seq]=1,z(M[X].callback,ne,M[X].combo,M[X].seq);continue}ie||z(M[X].callback,ne,M[X].combo)}var te=ne.type=="keypress"&&j;ne.type==U&&!O(H)&&!te&&N(R),j=ie&&ne.type=="keydown"};function q(H){typeof H.which!="number"&&(H.which=H.keyCode);var ee=f(H);if(ee){if(H.type=="keyup"&&W===ee){W=!1;return}k.handleKey(ee,d(H),H)}}function Z(){clearTimeout(D),D=setTimeout(N,1e3)}function K(H,ee,ne,M){A[H]=0;function X(G){return function(){U=G,++A[H],Z()}}function R(G){z(ne,G,H),M!=="keyup"&&(W=f(G)),setTimeout(N,10)}for(var L=0;L<ee.length;++L){var ie=L+1===ee.length,te=ie?R:X(M||y(ee[L+1]).action);I(ee[L],te,M,H,L)}}function I(H,ee,ne,M,X){k._directMap[H+":"+ne]=ee,H=H.replace(/\s+/g," ");var R=H.split(" "),L;if(R.length>1){K(H,R,ee,ne);return}L=y(H,ne),k._callbacks[L.key]=k._callbacks[L.key]||[],Y(L.key,L.modifiers,{type:L.action},M,H,X),k._callbacks[L.key][M?"unshift":"push"]({callback:ee,modifiers:L.modifiers,action:L.action,seq:M,level:X,combo:H})}k._bindMultiple=function(H,ee,ne){for(var M=0;M<H.length;++M)I(H[M],ee,ne)},u(x,"keypress",q),u(x,"keydown",q),u(x,"keyup",q)}P.prototype.bind=function(x,k,A){var D=this;return x=x instanceof Array?x:[x],D._bindMultiple.call(D,x,k,A),D},P.prototype.unbind=function(x,k){var A=this;return A.bind.call(A,x,function(){},k)},P.prototype.trigger=function(x,k){var A=this;return A._directMap[x+":"+k]&&A._directMap[x+":"+k]({},x),A},P.prototype.reset=function(){var x=this;return x._callbacks={},x._directMap={},x},P.prototype.stopCallback=function(x,k){var A=this;if((" "+k.className+" ").indexOf(" mousetrap ")>-1||w(k,A.target))return!1;if("composedPath"in x&&typeof x.composedPath=="function"){var D=x.composedPath()[0];D!==x.target&&(k=D)}return k.tagName=="INPUT"||k.tagName=="SELECT"||k.tagName=="TEXTAREA"||k.isContentEditable},P.prototype.handleKey=function(){var x=this;return x._handleKey.apply(x,arguments)},P.addKeycodes=function(x){for(var k in x)x.hasOwnProperty(k)&&(r[k]=x[k]);l=null},P.init=function(){var x=P(n);for(var k in x)k.charAt(0)!=="_"&&(P[k]=function(A){return function(){return x[A].apply(x,arguments)}}(k))},P.init(),e.Mousetrap=P,t.exports&&(t.exports=P)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(YC);var fhe=YC.exports;const NC=$x(fhe),FC={type:null,component:null,componentProps:{},header:{title:"",icon:null},footer:null,variants:"",disableClose:!1,disabledBgClose:!1,maxWidth:null,showSwitch:!1,noPadding:!1},GC={...che},rg=Ce(FC),hhe=()=>{NC.bind("backspace",t=>{t.preventDefault()})},dhe=()=>{NC.unbind("backspace")},So={show:(t,e={},n={})=>{const i=phe(t,e,n);hhe(),rg.update(r=>({...FC,...i,...n,componentProps:e,type:t}))},hide:(t=null)=>{dhe(),rg.update(e=>({...e,type:null}))},register:t=>{Array.isArray(t)?t.forEach(e):typeof t=="object"?e(t):console.error("Could not register modal an array or object");function e(n){const{id:i,component:r,componentProps:s={},options:o={}}=n;GC[i]={...o,component:r,header:o.header,variants:o.width?`${o.width}`:"",componentProps:s}}},subscribe:rg.subscribe};function phe(t,e={},n={}){return{componentProps:e,...GC[t],...n}}export{gv as $,Sx as A,jhe as B,ht as C,Bu as D,FN as E,Xhe as F,ju as G,jN as H,Lh as I,Pt as J,Vhe as K,Vh as L,Ihe as M,vr as N,Yr as O,dv as P,gn as Q,to as R,Le as S,Uh as T,nt as U,P8 as V,ma as W,vde as X,Cg as Y,OR as Z,Nr as _,Es as a,yde as a$,ni as a0,jn as a1,gt as a2,Ye as a3,A$ as a4,Iy as a5,ade as a6,fP as a7,Oa as a8,Kk as a9,d6 as aA,Jce as aB,Yhe as aC,Nhe as aD,Hhe as aE,Fhe as aF,Ti as aG,Hk as aH,Jk as aI,NN as aJ,Of as aK,Ba as aL,pP as aM,mde as aN,Iu as aO,IB as aP,The as aQ,LF as aR,yR as aS,E6 as aT,Ss as aU,Bhe as aV,cde as aW,pde as aX,ude as aY,Bi as aZ,Whe as a_,Tde as aa,gde as ab,lde as ac,hde as ad,dde as ae,Ade as af,rde as ag,sde as ah,ode as ai,ide as aj,UN as ak,mv as al,Cde as am,hP as an,Jhe as ao,Ode as ap,$de as aq,kde as ar,fhe as as,lo as at,kn as au,_Y as av,_s as aw,Ck as ax,Mfe as ay,u6 as az,Khe as b,Hh as b0,pv as b1,nde as b2,ede as b3,Kh as c,zhe as d,wn as e,PP as f,$x as g,tde as h,XN as i,bde as j,Fe as k,Uhe as l,So as m,Cr as n,_i as o,Lhe as p,_ as q,Ghe as r,Xu as s,Ae as t,qg as u,Pde as v,fde as w,Qde as x,Nx as y,xx as z};
