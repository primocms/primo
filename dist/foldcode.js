import{c as n,b as o}from"./index.js";var e=n((function(n,e){!function(n){function o(o,r,i,l){if(i&&i.call){var f=i;i=null}else f=t(o,i,"rangeFinder");"number"==typeof r&&(r=n.Pos(r,0));var d=t(o,i,"minFoldSize");function a(n){var e=f(o,r);if(!e||e.to.line-e.from.line<d)return null;for(var t=o.findMarksAt(e.from),i=0;i<t.length;++i)if(t[i].__isFold&&"fold"!==l){if(!n)return null;e.cleared=!0,t[i].clear()}return e}var u=a(!0);if(t(o,i,"scanUp"))for(;!u&&r.line>o.firstLine();)r=n.Pos(r.line-1,0),u=a(!1);if(u&&!u.cleared&&"unfold"!==l){var c=e(o,i,u);n.on(c,"mousedown",(function(o){s.clear(),n.e_preventDefault(o)}));var s=o.markText(u.from,u.to,{replacedWith:c,clearOnEnter:t(o,i,"clearOnEnter"),__isFold:!0});s.on("clear",(function(e,r){n.signal(o,"unfold",o,e,r)})),n.signal(o,"fold",o,u.from,u.to)}}function e(n,o,e){var r=t(n,o,"widget");if("function"==typeof r&&(r=r(e.from,e.to)),"string"==typeof r){var i=document.createTextNode(r);(r=document.createElement("span")).appendChild(i),r.className="CodeMirror-foldmarker"}else r&&(r=r.cloneNode(!0));return r}n.newFoldFunction=function(n,e){return function(r,t){o(r,t,{rangeFinder:n,widget:e})}},n.defineExtension("foldCode",(function(n,e,r){o(this,n,e,r)})),n.defineExtension("isFolded",(function(n){for(var o=this.findMarksAt(n),e=0;e<o.length;++e)if(o[e].__isFold)return!0})),n.commands.toggleFold=function(n){n.foldCode(n.getCursor())},n.commands.fold=function(n){n.foldCode(n.getCursor(),null,"fold")},n.commands.unfold=function(n){n.foldCode(n.getCursor(),null,"unfold")},n.commands.foldAll=function(o){o.operation((function(){for(var e=o.firstLine(),r=o.lastLine();e<=r;e++)o.foldCode(n.Pos(e,0),null,"fold")}))},n.commands.unfoldAll=function(o){o.operation((function(){for(var e=o.firstLine(),r=o.lastLine();e<=r;e++)o.foldCode(n.Pos(e,0),null,"unfold")}))},n.registerHelper("fold","combine",(function(){var n=Array.prototype.slice.call(arguments,0);return function(o,e){for(var r=0;r<n.length;++r){var t=n[r](o,e);if(t)return t}}})),n.registerHelper("fold","auto",(function(n,o){for(var e=n.getHelpers(o,"fold"),r=0;r<e.length;r++){var t=e[r](n,o);if(t)return t}}));var r={rangeFinder:n.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function t(n,o,e){if(o&&void 0!==o[e])return o[e];var t=n.options.foldOptions;return t&&void 0!==t[e]?t[e]:r[e]}n.defineOption("foldOptions",null),n.defineExtension("foldOption",(function(n,o){return t(this,n,o)}))}(o)})),r=Object.freeze(Object.assign(Object.create(null),e,{[Symbol.toStringTag]:"Module",default:e}));export{r as f};
//# sourceMappingURL=foldcode.js.map
